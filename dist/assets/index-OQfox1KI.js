(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var r5={exports:{}},Cg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function zF(){if(I4)return Cg;I4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return Cg.Fragment=e,Cg.jsx=t,Cg.jsxs=t,Cg}var k4;function HF(){return k4||(k4=1,r5.exports=zF()),r5.exports}var B=HF(),s5={exports:{}},Cn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4;function qF(){if(D4)return Cn;D4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),_=Symbol.iterator;function m(se){return se===null||typeof se!="object"?null:(se=_&&se[_]||se["@@iterator"],typeof se=="function"?se:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function A(se,k,G){this.props=se,this.context=k,this.refs=E,this.updater=G||b}A.prototype.isReactComponent={},A.prototype.setState=function(se,k){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,k,"setState")},A.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function P(){}P.prototype=A.prototype;function L(se,k,G){this.props=se,this.context=k,this.refs=E,this.updater=G||b}var j=L.prototype=new P;j.constructor=L,x(j,A.prototype),j.isPureReactComponent=!0;var Q=Array.isArray;function ae(){}var F={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(se,k,G){var W=G.ref;return{$$typeof:n,type:se,key:k,ref:W!==void 0?W:null,props:G}}function U(se,k){return N(se.type,k,se.props)}function I(se){return typeof se=="object"&&se!==null&&se.$$typeof===n}function M(se){var k={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(G){return k[G]})}var z=/\/+/g;function de(se,k){return typeof se=="object"&&se!==null&&se.key!=null?M(""+se.key):k.toString(36)}function we(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(ae,ae):(se.status="pending",se.then(function(k){se.status==="pending"&&(se.status="fulfilled",se.value=k)},function(k){se.status==="pending"&&(se.status="rejected",se.reason=k)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function ce(se,k,G,W,Y){var ne=typeof se;(ne==="undefined"||ne==="boolean")&&(se=null);var xe=!1;if(se===null)xe=!0;else switch(ne){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(se.$$typeof){case n:case e:xe=!0;break;case f:return xe=se._init,ce(xe(se._payload),k,G,W,Y)}}if(xe)return Y=Y(se),xe=W===""?"."+de(se,0):W,Q(Y)?(G="",xe!=null&&(G=xe.replace(z,"$&/")+"/"),ce(Y,k,G,"",function(Ie){return Ie})):Y!=null&&(I(Y)&&(Y=U(Y,G+(Y.key==null||se&&se.key===Y.key?"":(""+Y.key).replace(z,"$&/")+"/")+xe)),k.push(Y)),1;xe=0;var Ae=W===""?".":W+":";if(Q(se))for(var Te=0;Te<se.length;Te++)W=se[Te],ne=Ae+de(W,Te),xe+=ce(W,k,G,ne,Y);else if(Te=m(se),typeof Te=="function")for(se=Te.call(se),Te=0;!(W=se.next()).done;)W=W.value,ne=Ae+de(W,Te++),xe+=ce(W,k,G,ne,Y);else if(ne==="object"){if(typeof se.then=="function")return ce(we(se),k,G,W,Y);throw k=String(se),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ye(se,k,G){if(se==null)return se;var W=[],Y=0;return ce(se,W,"","",function(ne){return k.call(G,ne,Y++)}),W}function be(se){if(se._status===-1){var k=se._result;k=k(),k.then(function(G){(se._status===0||se._status===-1)&&(se._status=1,se._result=G)},function(G){(se._status===0||se._status===-1)&&(se._status=2,se._result=G)}),se._status===-1&&(se._status=0,se._result=k)}if(se._status===1)return se._result.default;throw se._result}var Ne=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)},$e={map:ye,forEach:function(se,k,G){ye(se,function(){k.apply(this,arguments)},G)},count:function(se){var k=0;return ye(se,function(){k++}),k},toArray:function(se){return ye(se,function(k){return k})||[]},only:function(se){if(!I(se))throw Error("React.Children.only expected to receive a single React element child.");return se}};return Cn.Activity=p,Cn.Children=$e,Cn.Component=A,Cn.Fragment=t,Cn.Profiler=r,Cn.PureComponent=L,Cn.StrictMode=i,Cn.Suspense=c,Cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Cn.__COMPILER_RUNTIME={__proto__:null,c:function(se){return F.H.useMemoCache(se)}},Cn.cache=function(se){return function(){return se.apply(null,arguments)}},Cn.cacheSignal=function(){return null},Cn.cloneElement=function(se,k,G){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var W=x({},se.props),Y=se.key;if(k!=null)for(ne in k.key!==void 0&&(Y=""+k.key),k)!R.call(k,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&k.ref===void 0||(W[ne]=k[ne]);var ne=arguments.length-2;if(ne===1)W.children=G;else if(1<ne){for(var xe=Array(ne),Ae=0;Ae<ne;Ae++)xe[Ae]=arguments[Ae+2];W.children=xe}return N(se.type,Y,W)},Cn.createContext=function(se){return se={$$typeof:a,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:s,_context:se},se},Cn.createElement=function(se,k,G){var W,Y={},ne=null;if(k!=null)for(W in k.key!==void 0&&(ne=""+k.key),k)R.call(k,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Y[W]=k[W]);var xe=arguments.length-2;if(xe===1)Y.children=G;else if(1<xe){for(var Ae=Array(xe),Te=0;Te<xe;Te++)Ae[Te]=arguments[Te+2];Y.children=Ae}if(se&&se.defaultProps)for(W in xe=se.defaultProps,xe)Y[W]===void 0&&(Y[W]=xe[W]);return N(se,ne,Y)},Cn.createRef=function(){return{current:null}},Cn.forwardRef=function(se){return{$$typeof:l,render:se}},Cn.isValidElement=I,Cn.lazy=function(se){return{$$typeof:f,_payload:{_status:-1,_result:se},_init:be}},Cn.memo=function(se,k){return{$$typeof:h,type:se,compare:k===void 0?null:k}},Cn.startTransition=function(se){var k=F.T,G={};F.T=G;try{var W=se(),Y=F.S;Y!==null&&Y(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ae,Ne)}catch(ne){Ne(ne)}finally{k!==null&&G.types!==null&&(k.types=G.types),F.T=k}},Cn.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Cn.use=function(se){return F.H.use(se)},Cn.useActionState=function(se,k,G){return F.H.useActionState(se,k,G)},Cn.useCallback=function(se,k){return F.H.useCallback(se,k)},Cn.useContext=function(se){return F.H.useContext(se)},Cn.useDebugValue=function(){},Cn.useDeferredValue=function(se,k){return F.H.useDeferredValue(se,k)},Cn.useEffect=function(se,k){return F.H.useEffect(se,k)},Cn.useEffectEvent=function(se){return F.H.useEffectEvent(se)},Cn.useId=function(){return F.H.useId()},Cn.useImperativeHandle=function(se,k,G){return F.H.useImperativeHandle(se,k,G)},Cn.useInsertionEffect=function(se,k){return F.H.useInsertionEffect(se,k)},Cn.useLayoutEffect=function(se,k){return F.H.useLayoutEffect(se,k)},Cn.useMemo=function(se,k){return F.H.useMemo(se,k)},Cn.useOptimistic=function(se,k){return F.H.useOptimistic(se,k)},Cn.useReducer=function(se,k,G){return F.H.useReducer(se,k,G)},Cn.useRef=function(se){return F.H.useRef(se)},Cn.useState=function(se){return F.H.useState(se)},Cn.useSyncExternalStore=function(se,k,G){return F.H.useSyncExternalStore(se,k,G)},Cn.useTransition=function(){return F.H.useTransition()},Cn.version="19.2.0",Cn}var L4;function Yb(){return L4||(L4=1,s5.exports=qF()),s5.exports}var Le=Yb(),a5={exports:{}},Ng={},o5={exports:{}},l5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4;function WF(){return O4||(O4=1,(function(n){function e(ce,ye){var be=ce.length;ce.push(ye);e:for(;0<be;){var Ne=be-1>>>1,$e=ce[Ne];if(0<r($e,ye))ce[Ne]=ye,ce[be]=$e,be=Ne;else break e}}function t(ce){return ce.length===0?null:ce[0]}function i(ce){if(ce.length===0)return null;var ye=ce[0],be=ce.pop();if(be!==ye){ce[0]=be;e:for(var Ne=0,$e=ce.length,se=$e>>>1;Ne<se;){var k=2*(Ne+1)-1,G=ce[k],W=k+1,Y=ce[W];if(0>r(G,be))W<$e&&0>r(Y,G)?(ce[Ne]=Y,ce[W]=be,Ne=W):(ce[Ne]=G,ce[k]=be,Ne=k);else if(W<$e&&0>r(Y,be))ce[Ne]=Y,ce[W]=be,Ne=W;else break e}}return ye}function r(ce,ye){var be=ce.sortIndex-ye.sortIndex;return be!==0?be:ce.id-ye.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],h=[],f=1,p=null,_=3,m=!1,b=!1,x=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function j(ce){for(var ye=t(h);ye!==null;){if(ye.callback===null)i(h);else if(ye.startTime<=ce)i(h),ye.sortIndex=ye.expirationTime,e(c,ye);else break;ye=t(h)}}function Q(ce){if(x=!1,j(ce),!b)if(t(c)!==null)b=!0,ae||(ae=!0,M());else{var ye=t(h);ye!==null&&we(Q,ye.startTime-ce)}}var ae=!1,F=-1,R=5,N=-1;function U(){return E?!0:!(n.unstable_now()-N<R)}function I(){if(E=!1,ae){var ce=n.unstable_now();N=ce;var ye=!0;try{e:{b=!1,x&&(x=!1,P(F),F=-1),m=!0;var be=_;try{t:{for(j(ce),p=t(c);p!==null&&!(p.expirationTime>ce&&U());){var Ne=p.callback;if(typeof Ne=="function"){p.callback=null,_=p.priorityLevel;var $e=Ne(p.expirationTime<=ce);if(ce=n.unstable_now(),typeof $e=="function"){p.callback=$e,j(ce),ye=!0;break t}p===t(c)&&i(c),j(ce)}else i(c);p=t(c)}if(p!==null)ye=!0;else{var se=t(h);se!==null&&we(Q,se.startTime-ce),ye=!1}}break e}finally{p=null,_=be,m=!1}ye=void 0}}finally{ye?M():ae=!1}}}var M;if(typeof L=="function")M=function(){L(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,de=z.port2;z.port1.onmessage=I,M=function(){de.postMessage(null)}}else M=function(){A(I,0)};function we(ce,ye){F=A(function(){ce(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ce){ce.callback=null},n.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ce?Math.floor(1e3/ce):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(ce){switch(_){case 1:case 2:case 3:var ye=3;break;default:ye=_}var be=_;_=ye;try{return ce()}finally{_=be}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(ce,ye){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var be=_;_=ce;try{return ye()}finally{_=be}},n.unstable_scheduleCallback=function(ce,ye,be){var Ne=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ne+be:Ne):be=Ne,ce){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=be+$e,ce={id:f++,callback:ye,priorityLevel:ce,startTime:be,expirationTime:$e,sortIndex:-1},be>Ne?(ce.sortIndex=be,e(h,ce),t(c)===null&&ce===t(h)&&(x?(P(F),F=-1):x=!0,we(Q,be-Ne))):(ce.sortIndex=$e,e(c,ce),b||m||(b=!0,ae||(ae=!0,M()))),ce},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(ce){var ye=_;return function(){var be=_;_=ye;try{return ce.apply(this,arguments)}finally{_=be}}}})(l5)),l5}var P4;function GF(){return P4||(P4=1,o5.exports=WF()),o5.exports}var c5={exports:{}},ba={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M4;function $F(){if(M4)return ba;M4=1;var n=Yb();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:c,containerInfo:h,implementation:f}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ba.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ba.createPortal=function(c,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(c,h,null,f)},ba.flushSync=function(c){var h=a.T,f=i.p;try{if(a.T=null,i.p=2,c)return c()}finally{a.T=h,i.p=f,i.d.f()}},ba.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(c,h))},ba.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},ba.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,m=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:_,fetchPriority:m}):f==="script"&&i.d.X(c,{crossOrigin:p,integrity:_,fetchPriority:m,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ba.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);i.d.M(c,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(c)},ba.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin);i.d.L(c,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ba.preloadModule=function(c,h){if(typeof c=="string")if(h){var f=l(h.as,h.crossOrigin);i.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(c)},ba.requestFormReset=function(c){i.d.r(c)},ba.unstable_batchedUpdates=function(c,h){return c(h)},ba.useFormState=function(c,h,f){return a.H.useFormState(c,h,f)},ba.useFormStatus=function(){return a.H.useHostTransitionStatus()},ba.version="19.2.0",ba}var F4;function YF(){if(F4)return c5.exports;F4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),c5.exports=$F(),c5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4;function KF(){if(B4)return Ng;B4=1;var n=GF(),e=Yb(),t=YF();function i(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,d=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(d=u.return),o=u.return;while(o)}return u.tag===3?d:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(i(188))}function h(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(i(188));return u!==o?null:o}for(var d=o,g=u;;){var w=d.return;if(w===null)break;var T=w.alternate;if(T===null){if(g=w.return,g!==null){d=g;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===d)return c(w),o;if(T===g)return c(w),u;T=T.sibling}throw Error(i(188))}if(d.return!==g.return)d=w,g=T;else{for(var H=!1,te=w.child;te;){if(te===d){H=!0,d=w,g=T;break}if(te===g){H=!0,g=w,d=T;break}te=te.sibling}if(!H){for(te=T.child;te;){if(te===d){H=!0,d=T,g=w;break}if(te===g){H=!0,g=T,d=w;break}te=te.sibling}if(!H)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function M(o){return o===null||typeof o!="object"?null:(o=I&&o[I]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case Q:return"Suspense";case ae:return"SuspenseList";case N:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case L:return o.displayName||"Context";case P:return(o._context.displayName||"Context")+".Consumer";case j:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return u=o.displayName||null,u!==null?u:de(o.type)||"Memo";case R:u=o._payload,o=o._init;try{return de(o(u))}catch{}}return null}var we=Array.isArray,ce=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ne=[],$e=-1;function se(o){return{current:o}}function k(o){0>$e||(o.current=Ne[$e],Ne[$e]=null,$e--)}function G(o,u){$e++,Ne[$e]=o.current,o.current=u}var W=se(null),Y=se(null),ne=se(null),xe=se(null);function Ae(o,u){switch(G(ne,u),G(Y,o),G(W,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?ZA(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=ZA(u),o=e4(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}k(W),G(W,o)}function Te(){k(W),k(Y),k(ne)}function Ie(o){o.memoizedState!==null&&G(xe,o);var u=W.current,d=e4(u,o.type);u!==d&&(G(Y,o),G(W,d))}function et(o){Y.current===o&&(k(W),k(Y)),xe.current===o&&(k(xe),Eg._currentValue=be)}var lt,yt;function _t(o){if(lt===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);lt=u&&u[1]||"",yt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+o+yt}var he=!1;function pt(o,u){if(!o||he)return"";he=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Ye){var Ge=Ye}Reflect.construct(o,[],at)}else{try{at.call()}catch(Ye){Ge=Ye}o.call(at.prototype)}}else{try{throw Error()}catch(Ye){Ge=Ye}(at=o())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Ye){if(Ye&&Ge&&typeof Ye.stack=="string")return[Ye.stack,Ge.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=g.DetermineComponentFrameRoot(),H=T[0],te=T[1];if(H&&te){var Ee=H.split(`
`),qe=te.split(`
`);for(w=g=0;g<Ee.length&&!Ee[g].includes("DetermineComponentFrameRoot");)g++;for(;w<qe.length&&!qe[w].includes("DetermineComponentFrameRoot");)w++;if(g===Ee.length||w===qe.length)for(g=Ee.length-1,w=qe.length-1;1<=g&&0<=w&&Ee[g]!==qe[w];)w--;for(;1<=g&&0<=w;g--,w--)if(Ee[g]!==qe[w]){if(g!==1||w!==1)do if(g--,w--,0>w||Ee[g]!==qe[w]){var nt=`
`+Ee[g].replace(" at new "," at ");return o.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",o.displayName)),nt}while(1<=g&&0<=w);break}}}finally{he=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?_t(d):""}function ht(o,u){switch(o.tag){case 26:case 27:case 5:return _t(o.type);case 16:return _t("Lazy");case 13:return o.child!==u&&u!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return pt(o.type,!1);case 11:return pt(o.type.render,!1);case 1:return pt(o.type,!0);case 31:return _t("Activity");default:return""}}function It(o){try{var u="",d=null;do u+=ht(o,d),d=o,o=o.return;while(o);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Qe=Object.prototype.hasOwnProperty,Ct=n.unstable_scheduleCallback,At=n.unstable_cancelCallback,Xt=n.unstable_shouldYield,qt=n.unstable_requestPaint,Zt=n.unstable_now,mn=n.unstable_getCurrentPriorityLevel,un=n.unstable_ImmediatePriority,Tn=n.unstable_UserBlockingPriority,hn=n.unstable_NormalPriority,Bt=n.unstable_LowPriority,gn=n.unstable_IdlePriority,jt=n.log,Ci=n.unstable_setDisableYieldValue,yn=null,$t=null;function an(o){if(typeof jt=="function"&&Ci(o),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(yn,o)}catch{}}var xn=Math.clz32?Math.clz32:en,Yt=Math.log,Wn=Math.LN2;function en(o){return o>>>=0,o===0?32:31-(Yt(o)/Wn|0)|0}var tn=256,ti=262144,Wt=4194304;function Mt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function In(o,u,d){var g=o.pendingLanes;if(g===0)return 0;var w=0,T=o.suspendedLanes,H=o.pingedLanes;o=o.warmLanes;var te=g&134217727;return te!==0?(g=te&~T,g!==0?w=Mt(g):(H&=te,H!==0?w=Mt(H):d||(d=te&~o,d!==0&&(w=Mt(d))))):(te=g&~T,te!==0?w=Mt(te):H!==0?w=Mt(H):d||(d=g&~o,d!==0&&(w=Mt(d)))),w===0?0:u!==0&&u!==w&&(u&T)===0&&(T=w&-w,d=u&-u,T>=d||T===32&&(d&4194048)!==0)?u:w}function Wr(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Dr(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var o=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),o}function Sr(o){for(var u=[],d=0;31>d;d++)u.push(o);return u}function Kt(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ua(o,u,d,g,w,T){var H=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var te=o.entanglements,Ee=o.expirationTimes,qe=o.hiddenUpdates;for(d=H&~d;0<d;){var nt=31-xn(d),at=1<<nt;te[nt]=0,Ee[nt]=-1;var Ge=qe[nt];if(Ge!==null)for(qe[nt]=null,nt=0;nt<Ge.length;nt++){var Ye=Ge[nt];Ye!==null&&(Ye.lane&=-536870913)}d&=~at}g!==0&&_s(o,g,0),T!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=T&~(H&~u))}function _s(o,u,d){o.pendingLanes|=u,o.suspendedLanes&=~u;var g=31-xn(u);o.entangledLanes|=u,o.entanglements[g]=o.entanglements[g]|1073741824|d&261930}function Lr(o,u){var d=o.entangledLanes|=u;for(o=o.entanglements;d;){var g=31-xn(d),w=1<<g;w&u|o[g]&u&&(o[g]|=u),d&=~w}}function is(o,u){var d=u&-u;return d=(d&42)!==0?1:di(d),(d&(o.suspendedLanes|u))!==0?0:d}function di(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Si(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function J(){var o=ye.p;return o!==0?o:(o=window.event,o===void 0?32:E4(o.type))}function pe(o,u){var d=ye.p;try{return ye.p=o,u()}finally{ye.p=d}}var oe=Math.random().toString(36).slice(2),le="__reactFiber$"+oe,fe="__reactProps$"+oe,ve="__reactContainer$"+oe,Fe="__reactEvents$"+oe,Ke="__reactListeners$"+oe,je="__reactHandles$"+oe,Ue="__reactResources$"+oe,Ve="__reactMarker$"+oe;function ft(o){delete o[le],delete o[fe],delete o[Fe],delete o[Ke],delete o[je]}function vt(o){var u=o[le];if(u)return u;for(var d=o.parentNode;d;){if(u=d[ve]||d[le]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(o=o4(o);o!==null;){if(d=o[le])return d;o=o4(o)}return u}o=d,d=o.parentNode}return null}function bt(o){if(o=o[le]||o[ve]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function gt(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(i(33))}function wt(o){var u=o[Ue];return u||(u=o[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Lt(o){o[Ve]=!0}var ni=new Set,Dn={};function ui(o,u){Gr(o,u),Gr(o+"Capture",u)}function Gr(o,u){for(Dn[o]=u,o=0;o<u.length;o++)ni.add(u[o])}var Xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_a={},ks={};function Io(o){return Qe.call(ks,o)?!0:Qe.call(_a,o)?!1:Xs.test(o)?ks[o]=!0:(_a[o]=!0,!1)}function Yi(o,u,d){if(Io(u))if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+d)}}function rs(o,u,d){if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+d)}}function pr(o,u,d,g){if(g===null)o.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(u,d,""+g)}}function Fn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ko(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function va(o,u,d){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,T=g.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(H){d=""+H,T.call(this,H)}}),Object.defineProperty(o,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(H){d=""+H},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Gn(o){if(!o._valueTracker){var u=ko(o)?"checked":"value";o._valueTracker=va(o,u,""+o[u])}}function nl(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return o&&(g=ko(o)?o.checked?"true":"false":o.value),o=g,o!==d?(u.setValue(o),!0):!1}function Tr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ki=/[\n"\\]/g;function gr(o){return o.replace(Ki,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Il(o,u,d,g,w,T,H,te){o.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.type=H:o.removeAttribute("type"),u!=null?H==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Fn(u)):o.value!==""+Fn(u)&&(o.value=""+Fn(u)):H!=="submit"&&H!=="reset"||o.removeAttribute("value"),u!=null?ru(o,H,Fn(u)):d!=null?ru(o,H,Fn(d)):g!=null&&o.removeAttribute("value"),w==null&&T!=null&&(o.defaultChecked=!!T),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?o.name=""+Fn(te):o.removeAttribute("name")}function gh(o,u,d,g,w,T,H,te){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),u!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||u!=null)){Gn(o);return}d=d!=null?""+Fn(d):"",u=u!=null?""+Fn(u):d,te||u===o.value||(o.value=u),o.defaultValue=u}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=te?o.checked:!!g,o.defaultChecked=!!g,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(o.name=H),Gn(o)}function ru(o,u,d){u==="number"&&Tr(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function vs(o,u,d,g){if(o=o.options,u){u={};for(var w=0;w<d.length;w++)u["$"+d[w]]=!0;for(d=0;d<o.length;d++)w=u.hasOwnProperty("$"+o[d].value),o[d].selected!==w&&(o[d].selected=w),w&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Fn(d),u=null,w=0;w<o.length;w++){if(o[w].value===d){o[w].selected=!0,g&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function su(o,u,d){if(u!=null&&(u=""+Fn(u),u!==o.value&&(o.value=u),d==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=d!=null?""+Fn(d):""}function Do(o,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(i(92));if(we(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=Fn(u),o.defaultValue=d,g=o.textContent,g===d&&g!==""&&g!==null&&(o.value=g),Gn(o)}function $r(o,u){if(u){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=u;return}}o.textContent=u}var il=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(o,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":g?o.setProperty(u,d):typeof d!="number"||d===0||il.has(u)?u==="float"?o.cssFloat=d:o[u]=(""+d).trim():o[u]=d+"px"}function ou(o,u,d){if(u!=null&&typeof u!="object")throw Error(i(62));if(o=o.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var w in u)g=u[w],u.hasOwnProperty(w)&&d[w]!==g&&au(o,w,g)}else for(var T in u)u.hasOwnProperty(T)&&au(o,T,u[T])}function mc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(o){return Lo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Va(){}var Oo=null;function Ls(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var rl=null,nn=null;function kl(o){var u=bt(o);if(u&&(o=u.stateNode)){var d=o[fe]||null;e:switch(o=u.stateNode,u.type){case"input":if(Il(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+gr(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==o&&g.form===o.form){var w=g[fe]||null;if(!w)throw Error(i(90));Il(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===o.form&&nl(g)}break e;case"textarea":su(o,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&vs(o,!!d.multiple,u,!1)}}}var vc=!1;function sl(o,u,d){if(vc)return o(u,d);vc=!0;try{var g=o(u);return g}finally{if(vc=!1,(rl!==null||nn!==null)&&(n2(),rl&&(u=rl,o=nn,nn=rl=null,kl(u),o)))for(u=0;u<o.length;u++)kl(o[u])}}function Yr(o,u){var d=o.stateNode;if(d===null)return null;var g=d[fe]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(i(231,u,typeof d));return d}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=!1;if(Or)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Dl=!1}var Qs=null,Ll=null,za=null;function lu(){if(za)return za;var o,u=Ll,d=u.length,g,w="value"in Qs?Qs.value:Qs.textContent,T=w.length;for(o=0;o<d&&u[o]===w[o];o++);var H=d-o;for(g=1;g<=H&&u[d-g]===w[T-g];g++);return za=w.slice(o,1<g?1-g:void 0)}function Js(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Po(){return!0}function Zs(){return!1}function Ar(o){function u(d,g,w,T,H){this._reactName=d,this._targetInst=w,this.type=g,this.nativeEvent=T,this.target=H,this.currentTarget=null;for(var te in o)o.hasOwnProperty(te)&&(d=o[te],this[te]=d?d(T):T[te]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Po:Zs,this.isPropagationStopped=Zs,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),u}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=Ar(to),no=p({},to,{view:0,detail:0}),al=Ar(no),io,ro,ya,Ol=p({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:on,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ya&&(ya&&o.type==="mousemove"?(io=o.screenX-ya.screenX,ro=o.screenY-ya.screenY):ro=io=0,ya=o),io)},movementY:function(o){return"movementY"in o?o.movementY:ro}}),yc=Ar(Ol),ea=p({},Ol,{dataTransfer:0}),so=Ar(ea),cu=p({},no,{relatedTarget:0}),Ha=Ar(cu),xc=p({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),C=Ar(xc),K=p({},to,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),me=Ar(K),Se=p({},to,{data:0}),De=Ar(Se),tt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ct={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ot={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Ot[o])?!!u[o]:!1}function on(){return Vt}var Qt=p({},no,{key:function(o){if(o.key){var u=tt[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Js(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ct[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:on,charCode:function(o){return o.type==="keypress"?Js(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Js(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Bn=Ar(Qt),Bi=p({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=Ar(Bi),y=p({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:on}),O=Ar(y),q=p({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=Ar(q),Pe=p({},Ol,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),We=Ar(Pe),xt=p({},to,{newState:0,oldState:0}),wn=Ar(xt),ji=[9,13,27,32],On=Or&&"CompositionEvent"in window,gi=null;Or&&"documentMode"in document&&(gi=document.documentMode);var as=Or&&"TextEvent"in window&&!gi,ys=Or&&(!On||gi&&8<gi&&11>=gi),Ni=" ",xs=!1;function qa(o,u){switch(o){case"keyup":return ji.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ol(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ll=!1;function ta(o,u){switch(o){case"compositionend":return ol(u);case"keypress":return u.which!==32?null:(xs=!0,Ni);case"textInput":return o=u.data,o===Ni&&xs?null:o;default:return null}}function Pl(o,u){if(ll)return o==="compositionend"||!On&&qa(o,u)?(o=lu(),za=Ll=Qs=null,ll=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ys&&u.locale!=="ko"?null:u.data;default:return null}}var mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bf(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!mh[o.type]:u==="textarea"}function Wa(o,u,d,g){rl?nn?nn.push(g):nn=[g]:rl=g,u=c2(u,"onChange"),0<u.length&&(d=new ss("onChange","change",null,d,g),o.push({event:d,listeners:u}))}var Mo=null,Ml=null;function jf(o){$A(o,0)}function Fo(o){var u=gt(o);if(nl(u))return o}function wc(o,u){if(o==="change")return u}var xa=!1;if(Or){var na;if(Or){var cl="oninput"in document;if(!cl){var ul=document.createElement("div");ul.setAttribute("oninput","return;"),cl=typeof ul.oninput=="function"}na=cl}else na=!1;xa=na&&(!document.documentMode||9<document.documentMode)}function Fl(){Mo&&(Mo.detachEvent("onpropertychange",_h),Ml=Mo=null)}function _h(o){if(o.propertyName==="value"&&Fo(Ml)){var u=[];Wa(u,Ml,o,Ls(o)),sl(jf,u)}}function vh(o,u,d){o==="focusin"?(Fl(),Mo=u,Ml=d,Mo.attachEvent("onpropertychange",_h)):o==="focusout"&&Fl()}function Cr(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Fo(Ml)}function Gd(o,u){if(o==="click")return Fo(u)}function hl(o,u){if(o==="input"||o==="change")return Fo(u)}function fl(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var ws=typeof Object.is=="function"?Object.is:fl;function Bl(o,u){if(ws(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var d=Object.keys(o),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var w=d[g];if(!Qe.call(u,w)||!ws(o[w],u[w]))return!1}return!0}function yh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function xh(o,u){var d=yh(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=u&&g>=u)return{node:d,offset:u-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=yh(d)}}function jl(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?jl(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Ul(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Tr(o.document);u instanceof o.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)o=u.contentWindow;else break;u=Tr(o.document)}return u}function dl(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var uu=Or&&"documentMode"in document&&11>=document.documentMode,Ga=null,Vl=null,Os=null,ao=!1;function hi(o,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ao||Ga==null||Ga!==Tr(g)||(g=Ga,"selectionStart"in g&&dl(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Os&&Bl(Os,g)||(Os=g,g=c2(Vl,"onSelect"),0<g.length&&(u=new ss("onSelect","select",null,u,d),o.push({event:u,listeners:g}),u.target=Ga)))}function Jn(o,u){var d={};return d[o.toLowerCase()]=u.toLowerCase(),d["Webkit"+o]="webkit"+u,d["Moz"+o]="moz"+u,d}var Ui={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},Nr={},pl={};Or&&(pl=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Bo(o){if(Nr[o])return Nr[o];if(!Ui[o])return o;var u=Ui[o],d;for(d in u)if(u.hasOwnProperty(d)&&d in pl)return Nr[o]=u[d];return o}var hu=Bo("animationend"),Uf=Bo("animationiteration"),Gp=Bo("animationstart"),D1=Bo("transitionrun"),L1=Bo("transitionstart"),O1=Bo("transitioncancel"),$p=Bo("transitionend"),Yp=new Map,fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fu.push("scrollEnd");function oo(o,u){Yp.set(o,u),ui(u,[o])}var Vf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},$a=[],du=0,$d=0;function zf(){for(var o=du,u=$d=du=0;u<o;){var d=$a[u];$a[u++]=null;var g=$a[u];$a[u++]=null;var w=$a[u];$a[u++]=null;var T=$a[u];if($a[u++]=null,g!==null&&w!==null){var H=g.pending;H===null?w.next=w:(w.next=H.next,H.next=w),g.pending=w}T!==0&&qf(d,w,T)}}function Hf(o,u,d,g){$a[du++]=o,$a[du++]=u,$a[du++]=d,$a[du++]=g,$d|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function Yd(o,u,d,g){return Hf(o,u,d,g),Ps(o)}function zl(o,u){return Hf(o,null,null,u),Ps(o)}function qf(o,u,d){o.lanes|=d;var g=o.alternate;g!==null&&(g.lanes|=d);for(var w=!1,T=o.return;T!==null;)T.childLanes|=d,g=T.alternate,g!==null&&(g.childLanes|=d),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(w=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,w&&u!==null&&(w=31-xn(d),o=T.hiddenUpdates,g=o[w],g===null?o[w]=[u]:g.push(u),u.lane=d|536870912),T):null}function Ps(o){if(50<mg)throw mg=0,Nx=null,Error(i(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var bs={};function Kd(o,u,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(o,u,d,g){return new Kd(o,u,d,g)}function Xd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function lo(o,u){var d=o.alternate;return d===null?(d=Ms(o.tag,u,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=u,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,u=o.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function Wf(o,u){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,u=d.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function wh(o,u,d,g,w,T){var H=0;if(g=o,typeof o=="function")Xd(o)&&(H=1);else if(typeof o=="string")H=IF(o,d,W.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case N:return o=Ms(31,d,u,w),o.elementType=N,o.lanes=T,o;case x:return bc(d.children,w,T,u);case E:H=8,w|=24;break;case A:return o=Ms(12,d,u,w|2),o.elementType=A,o.lanes=T,o;case Q:return o=Ms(13,d,u,w),o.elementType=Q,o.lanes=T,o;case ae:return o=Ms(19,d,u,w),o.elementType=ae,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:H=10;break e;case P:H=9;break e;case j:H=11;break e;case F:H=14;break e;case R:H=16,g=null;break e}H=29,d=Error(i(130,o===null?"null":typeof o,"")),g=null}return u=Ms(H,d,u,w),u.elementType=o,u.type=g,u.lanes=T,u}function bc(o,u,d,g){return o=Ms(7,o,g,u),o.lanes=d,o}function Gf(o,u,d){return o=Ms(6,o,null,u),o.lanes=d,o}function Qd(o){var u=Ms(18,null,null,0);return u.stateNode=o,u}function bh(o,u,d){return u=Ms(4,o.children!==null?o.children:[],o.key,u),u.lanes=d,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Jd=new WeakMap;function co(o,u){if(typeof o=="object"&&o!==null){var d=Jd.get(o);return d!==void 0?d:(u={value:o,source:u,stack:It(u)},Jd.set(o,u),u)}return{value:o,source:u,stack:It(u)}}var Eh=[],pu=0,Zd=null,$f=0,uo=[],ho=0,Ec=null,fo=1,po="";function Ya(o,u){Eh[pu++]=$f,Eh[pu++]=Zd,Zd=o,$f=u}function P1(o,u,d){uo[ho++]=fo,uo[ho++]=po,uo[ho++]=Ec,Ec=o;var g=fo;o=po;var w=32-xn(g)-1;g&=~(1<<w),d+=1;var T=32-xn(u)+w;if(30<T){var H=w-w%5;T=(g&(1<<H)-1).toString(32),g>>=H,w-=H,fo=1<<32-xn(u)+w|d<<w|g,po=T+o}else fo=1<<T|d<<w|g,po=o}function Kp(o){o.return!==null&&(Ya(o,1),P1(o,1,0))}function e0(o){for(;o===Zd;)Zd=Eh[--pu],Eh[pu]=null,$f=Eh[--pu],Eh[pu]=null;for(;o===Ec;)Ec=uo[--ho],uo[ho]=null,po=uo[--ho],uo[ho]=null,fo=uo[--ho],uo[ho]=null}function M1(o,u){uo[ho++]=fo,uo[ho++]=po,uo[ho++]=Ec,fo=u.id,po=u.overflow,Ec=o}var Es=null,Xi=null,Un=!1,ia=null,mr=!1,jo=Error(i(519));function Sc(o){var u=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sh(co(u,o)),jo}function Xp(o){var u=o.stateNode,d=o.type,g=o.memoizedProps;switch(u[le]=o,u[fe]=g,d){case"dialog":zn("cancel",u),zn("close",u);break;case"iframe":case"object":case"embed":zn("load",u);break;case"video":case"audio":for(d=0;d<vg.length;d++)zn(vg[d],u);break;case"source":zn("error",u);break;case"img":case"image":case"link":zn("error",u),zn("load",u);break;case"details":zn("toggle",u);break;case"input":zn("invalid",u),gh(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":zn("invalid",u);break;case"textarea":zn("invalid",u),Do(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||QA(u.textContent,d)?(g.popover!=null&&(zn("beforetoggle",u),zn("toggle",u)),g.onScroll!=null&&zn("scroll",u),g.onScrollEnd!=null&&zn("scrollend",u),g.onClick!=null&&(u.onclick=Va),u=!0):u=!1,u||Sc(o,!0)}function Hl(o){for(Es=o.return;Es;)switch(Es.tag){case 5:case 31:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:Es=Es.return}}function Ss(o){if(o!==Es)return!1;if(!Un)return Hl(o),Un=!0,!1;var u=o.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Hx(o.type,o.memoizedProps)),d=!d),d&&Xi&&Sc(o),Hl(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Xi=a4(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Xi=a4(o)}else u===27?(u=Xi,Bh(o.type)?(o=Yx,Yx=null,Xi=o):Xi=u):Xi=Es?vl(o.stateNode.nextSibling):null;return!0}function gu(){Xi=Es=null,Un=!1}function Qp(){var o=ia;return o!==null&&(xo===null?xo=o:xo.push.apply(xo,o),ia=null),o}function Sh(o){ia===null?ia=[o]:ia.push(o)}var t0=se(null),Tc=null,gl=null;function Ac(o,u,d){G(t0,u._currentValue),u._currentValue=d}function go(o){o._currentValue=t0.current,k(t0)}function Th(o,u,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===d)break;o=o.return}}function mu(o,u,d,g){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var T=w.dependencies;if(T!==null){var H=w.child;T=T.firstContext;e:for(;T!==null;){var te=T;T=w;for(var Ee=0;Ee<u.length;Ee++)if(te.context===u[Ee]){T.lanes|=d,te=T.alternate,te!==null&&(te.lanes|=d),Th(T.return,d,o),g||(H=null);break e}T=te.next}}else if(w.tag===18){if(H=w.return,H===null)throw Error(i(341));H.lanes|=d,T=H.alternate,T!==null&&(T.lanes|=d),Th(H,d,o),H=null}else H=w.child;if(H!==null)H.return=w;else for(H=w;H!==null;){if(H===o){H=null;break}if(w=H.sibling,w!==null){w.return=H.return,H=w;break}H=H.return}w=H}}function Cc(o,u,d,g){o=null;for(var w=u,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var H=w.alternate;if(H===null)throw Error(i(387));if(H=H.memoizedProps,H!==null){var te=w.type;ws(w.pendingProps.value,H.value)||(o!==null?o.push(te):o=[te])}}else if(w===xe.current){if(H=w.alternate,H===null)throw Error(i(387));H.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Eg):o=[Eg])}w=w.return}o!==null&&mu(u,o,d,g),u.flags|=262144}function n0(o){for(o=o.firstContext;o!==null;){if(!ws(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Nc(o){Tc=o,gl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ts(o){return F1(Tc,o)}function i0(o,u){return Tc===null&&Nc(o),F1(o,u)}function F1(o,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},gl===null){if(o===null)throw Error(i(308));gl=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else gl=gl.next=u;return d}var $y=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(d,g){o.push(g)}};this.abort=function(){u.aborted=!0,o.forEach(function(d){return d()})}},Yy=n.unstable_scheduleCallback,Ky=n.unstable_NormalPriority,Rr={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new $y,data:new Map,refCount:0}}function Yf(o){o.refCount--,o.refCount===0&&Yy(Ky,function(){o.controller.abort()})}var Kf=null,r0=0,v=0,S=null;function D(o,u){if(Kf===null){var d=Kf=[];r0=0,v=Ox(),S={status:"pending",value:void 0,then:function(g){d.push(g)}}}return r0++,u.then(V,V),u}function V(){if(--r0===0&&Kf!==null){S!==null&&(S.status="fulfilled");var o=Kf;Kf=null,v=0,S=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function X(o,u){var d=[],g={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return o.then(function(){g.status="fulfilled",g.value=u;for(var w=0;w<d.length;w++)(0,d[w])(u)},function(w){for(g.status="rejected",g.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),g}var Z=ce.S;ce.S=function(o,u){wA=Zt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&D(o,u),Z!==null&&Z(o,u)};var ee=se(null);function ie(){var o=ee.current;return o!==null?o:Ji.pooledCache}function ue(o,u){u===null?G(ee,ee.current):G(ee,u.pool)}function _e(){var o=ie();return o===null?null:{parent:Rr._currentValue,pool:o}}var Ce=Error(i(460)),ze=Error(i(474)),ge=Error(i(542)),ke={then:function(){}};function Me(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Je(o,u,d){switch(d=o[d],d===void 0?o.push(u):d!==u&&(u.then(Va,Va),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,mt(o),o;default:if(typeof u.status=="string")u.then(Va,Va);else{if(o=Ji,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=u,o.status="pending",o.then(function(g){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=g}},function(g){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,mt(o),o}throw Xe=u,Ce}}function Be(o){try{var u=o._init;return u(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Xe=d,Ce):d}}var Xe=null;function it(){if(Xe===null)throw Error(i(459));var o=Xe;return Xe=null,o}function mt(o){if(o===Ce||o===ge)throw Error(i(483))}var ot=null,zt=0;function kt(o){var u=zt;return zt+=1,ot===null&&(ot=[]),Je(ot,o,u)}function bn(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Ft(o,u){throw u.$$typeof===_?Error(i(525)):(o=Object.prototype.toString.call(u),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function jn(o){function u(Oe,Re){if(o){var He=Oe.deletions;He===null?(Oe.deletions=[Re],Oe.flags|=16):He.push(Re)}}function d(Oe,Re){if(!o)return null;for(;Re!==null;)u(Oe,Re),Re=Re.sibling;return null}function g(Oe){for(var Re=new Map;Oe!==null;)Oe.key!==null?Re.set(Oe.key,Oe):Re.set(Oe.index,Oe),Oe=Oe.sibling;return Re}function w(Oe,Re){return Oe=lo(Oe,Re),Oe.index=0,Oe.sibling=null,Oe}function T(Oe,Re,He){return Oe.index=He,o?(He=Oe.alternate,He!==null?(He=He.index,He<Re?(Oe.flags|=67108866,Re):He):(Oe.flags|=67108866,Re)):(Oe.flags|=1048576,Re)}function H(Oe){return o&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function te(Oe,Re,He,st){return Re===null||Re.tag!==6?(Re=Gf(He,Oe.mode,st),Re.return=Oe,Re):(Re=w(Re,He),Re.return=Oe,Re)}function Ee(Oe,Re,He,st){var cn=He.type;return cn===x?nt(Oe,Re,He.props.children,st,He.key):Re!==null&&(Re.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===R&&Be(cn)===Re.type)?(Re=w(Re,He.props),bn(Re,He),Re.return=Oe,Re):(Re=wh(He.type,He.key,He.props,null,Oe.mode,st),bn(Re,He),Re.return=Oe,Re)}function qe(Oe,Re,He,st){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==He.containerInfo||Re.stateNode.implementation!==He.implementation?(Re=bh(He,Oe.mode,st),Re.return=Oe,Re):(Re=w(Re,He.children||[]),Re.return=Oe,Re)}function nt(Oe,Re,He,st,cn){return Re===null||Re.tag!==7?(Re=bc(He,Oe.mode,st,cn),Re.return=Oe,Re):(Re=w(Re,He),Re.return=Oe,Re)}function at(Oe,Re,He){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=Gf(""+Re,Oe.mode,He),Re.return=Oe,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case m:return He=wh(Re.type,Re.key,Re.props,null,Oe.mode,He),bn(He,Re),He.return=Oe,He;case b:return Re=bh(Re,Oe.mode,He),Re.return=Oe,Re;case R:return Re=Be(Re),at(Oe,Re,He)}if(we(Re)||M(Re))return Re=bc(Re,Oe.mode,He,null),Re.return=Oe,Re;if(typeof Re.then=="function")return at(Oe,kt(Re),He);if(Re.$$typeof===L)return at(Oe,i0(Oe,Re),He);Ft(Oe,Re)}return null}function Ge(Oe,Re,He,st){var cn=Re!==null?Re.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return cn!==null?null:te(Oe,Re,""+He,st);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case m:return He.key===cn?Ee(Oe,Re,He,st):null;case b:return He.key===cn?qe(Oe,Re,He,st):null;case R:return He=Be(He),Ge(Oe,Re,He,st)}if(we(He)||M(He))return cn!==null?null:nt(Oe,Re,He,st,null);if(typeof He.then=="function")return Ge(Oe,Re,kt(He),st);if(He.$$typeof===L)return Ge(Oe,Re,i0(Oe,He),st);Ft(Oe,He)}return null}function Ye(Oe,Re,He,st,cn){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Oe=Oe.get(He)||null,te(Re,Oe,""+st,cn);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case m:return Oe=Oe.get(st.key===null?He:st.key)||null,Ee(Re,Oe,st,cn);case b:return Oe=Oe.get(st.key===null?He:st.key)||null,qe(Re,Oe,st,cn);case R:return st=Be(st),Ye(Oe,Re,He,st,cn)}if(we(st)||M(st))return Oe=Oe.get(He)||null,nt(Re,Oe,st,cn,null);if(typeof st.then=="function")return Ye(Oe,Re,He,kt(st),cn);if(st.$$typeof===L)return Ye(Oe,Re,He,i0(Re,st),cn);Ft(Re,st)}return null}function Ut(Oe,Re,He,st){for(var cn=null,mi=null,Gt=Re,Ln=Re=0,Yn=null;Gt!==null&&Ln<He.length;Ln++){Gt.index>Ln?(Yn=Gt,Gt=null):Yn=Gt.sibling;var _i=Ge(Oe,Gt,He[Ln],st);if(_i===null){Gt===null&&(Gt=Yn);break}o&&Gt&&_i.alternate===null&&u(Oe,Gt),Re=T(_i,Re,Ln),mi===null?cn=_i:mi.sibling=_i,mi=_i,Gt=Yn}if(Ln===He.length)return d(Oe,Gt),Un&&Ya(Oe,Ln),cn;if(Gt===null){for(;Ln<He.length;Ln++)Gt=at(Oe,He[Ln],st),Gt!==null&&(Re=T(Gt,Re,Ln),mi===null?cn=Gt:mi.sibling=Gt,mi=Gt);return Un&&Ya(Oe,Ln),cn}for(Gt=g(Gt);Ln<He.length;Ln++)Yn=Ye(Gt,Oe,Ln,He[Ln],st),Yn!==null&&(o&&Yn.alternate!==null&&Gt.delete(Yn.key===null?Ln:Yn.key),Re=T(Yn,Re,Ln),mi===null?cn=Yn:mi.sibling=Yn,mi=Yn);return o&&Gt.forEach(function(Hh){return u(Oe,Hh)}),Un&&Ya(Oe,Ln),cn}function pn(Oe,Re,He,st){if(He==null)throw Error(i(151));for(var cn=null,mi=null,Gt=Re,Ln=Re=0,Yn=null,_i=He.next();Gt!==null&&!_i.done;Ln++,_i=He.next()){Gt.index>Ln?(Yn=Gt,Gt=null):Yn=Gt.sibling;var Hh=Ge(Oe,Gt,_i.value,st);if(Hh===null){Gt===null&&(Gt=Yn);break}o&&Gt&&Hh.alternate===null&&u(Oe,Gt),Re=T(Hh,Re,Ln),mi===null?cn=Hh:mi.sibling=Hh,mi=Hh,Gt=Yn}if(_i.done)return d(Oe,Gt),Un&&Ya(Oe,Ln),cn;if(Gt===null){for(;!_i.done;Ln++,_i=He.next())_i=at(Oe,_i.value,st),_i!==null&&(Re=T(_i,Re,Ln),mi===null?cn=_i:mi.sibling=_i,mi=_i);return Un&&Ya(Oe,Ln),cn}for(Gt=g(Gt);!_i.done;Ln++,_i=He.next())_i=Ye(Gt,Oe,Ln,_i.value,st),_i!==null&&(o&&_i.alternate!==null&&Gt.delete(_i.key===null?Ln:_i.key),Re=T(_i,Re,Ln),mi===null?cn=_i:mi.sibling=_i,mi=_i);return o&&Gt.forEach(function(VF){return u(Oe,VF)}),Un&&Ya(Oe,Ln),cn}function qi(Oe,Re,He,st){if(typeof He=="object"&&He!==null&&He.type===x&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case m:e:{for(var cn=He.key;Re!==null;){if(Re.key===cn){if(cn=He.type,cn===x){if(Re.tag===7){d(Oe,Re.sibling),st=w(Re,He.props.children),st.return=Oe,Oe=st;break e}}else if(Re.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===R&&Be(cn)===Re.type){d(Oe,Re.sibling),st=w(Re,He.props),bn(st,He),st.return=Oe,Oe=st;break e}d(Oe,Re);break}else u(Oe,Re);Re=Re.sibling}He.type===x?(st=bc(He.props.children,Oe.mode,st,He.key),st.return=Oe,Oe=st):(st=wh(He.type,He.key,He.props,null,Oe.mode,st),bn(st,He),st.return=Oe,Oe=st)}return H(Oe);case b:e:{for(cn=He.key;Re!==null;){if(Re.key===cn)if(Re.tag===4&&Re.stateNode.containerInfo===He.containerInfo&&Re.stateNode.implementation===He.implementation){d(Oe,Re.sibling),st=w(Re,He.children||[]),st.return=Oe,Oe=st;break e}else{d(Oe,Re);break}else u(Oe,Re);Re=Re.sibling}st=bh(He,Oe.mode,st),st.return=Oe,Oe=st}return H(Oe);case R:return He=Be(He),qi(Oe,Re,He,st)}if(we(He))return Ut(Oe,Re,He,st);if(M(He)){if(cn=M(He),typeof cn!="function")throw Error(i(150));return He=cn.call(He),pn(Oe,Re,He,st)}if(typeof He.then=="function")return qi(Oe,Re,kt(He),st);if(He.$$typeof===L)return qi(Oe,Re,i0(Oe,He),st);Ft(Oe,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Re!==null&&Re.tag===6?(d(Oe,Re.sibling),st=w(Re,He),st.return=Oe,Oe=st):(d(Oe,Re),st=Gf(He,Oe.mode,st),st.return=Oe,Oe=st),H(Oe)):d(Oe,Re)}return function(Oe,Re,He,st){try{zt=0;var cn=qi(Oe,Re,He,st);return ot=null,cn}catch(Gt){if(Gt===Ce||Gt===ge)throw Gt;var mi=Ms(29,Gt,null,Oe.mode);return mi.lanes=st,mi.return=Oe,mi}finally{}}}var Qi=jn(!0),An=jn(!1),Dt=!1;function Tt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nr(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function dn(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function kn(o,u,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(bi&2)!==0){var w=g.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),g.pending=u,u=Ps(o),qf(o,null,d),u}return Hf(o,g,u,d),Ps(o)}function xi(o,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Lr(o,d)}}function Kr(o,u){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var w=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var H={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?w=T=H:T=T.next=H,d=d.next}while(d!==null);T===null?w=T=u:T=T.next=u}else w=T=u;d={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:g.shared,callbacks:g.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=u}var As=!1;function Vi(){if(As){var o=S;if(o!==null)throw o}}function Pr(o,u,d,g){As=!1;var w=o.updateQueue;Dt=!1;var T=w.firstBaseUpdate,H=w.lastBaseUpdate,te=w.shared.pending;if(te!==null){w.shared.pending=null;var Ee=te,qe=Ee.next;Ee.next=null,H===null?T=qe:H.next=qe,H=Ee;var nt=o.alternate;nt!==null&&(nt=nt.updateQueue,te=nt.lastBaseUpdate,te!==H&&(te===null?nt.firstBaseUpdate=qe:te.next=qe,nt.lastBaseUpdate=Ee))}if(T!==null){var at=w.baseState;H=0,nt=qe=Ee=null,te=T;do{var Ge=te.lane&-536870913,Ye=Ge!==te.lane;if(Ye?($n&Ge)===Ge:(g&Ge)===Ge){Ge!==0&&Ge===v&&(As=!0),nt!==null&&(nt=nt.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Ut=o,pn=te;Ge=u;var qi=d;switch(pn.tag){case 1:if(Ut=pn.payload,typeof Ut=="function"){at=Ut.call(qi,at,Ge);break e}at=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=pn.payload,Ge=typeof Ut=="function"?Ut.call(qi,at,Ge):Ut,Ge==null)break e;at=p({},at,Ge);break e;case 2:Dt=!0}}Ge=te.callback,Ge!==null&&(o.flags|=64,Ye&&(o.flags|=8192),Ye=w.callbacks,Ye===null?w.callbacks=[Ge]:Ye.push(Ge))}else Ye={lane:Ge,tag:te.tag,payload:te.payload,callback:te.callback,next:null},nt===null?(qe=nt=Ye,Ee=at):nt=nt.next=Ye,H|=Ge;if(te=te.next,te===null){if(te=w.shared.pending,te===null)break;Ye=te,te=Ye.next,Ye.next=null,w.lastBaseUpdate=Ye,w.shared.pending=null}}while(!0);nt===null&&(Ee=at),w.baseState=Ee,w.firstBaseUpdate=qe,w.lastBaseUpdate=nt,T===null&&(w.shared.lanes=0),Lh|=H,o.lanes=H,o.memoizedState=at}}function Fs(o,u){if(typeof o!="function")throw Error(i(191,o));o.call(u)}function Mr(o,u){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)Fs(d[o],u)}var Pn=se(null),ii=se(0);function ir(o,u){o=Au,G(ii,o),G(Pn,u),Au=o|u.baseLanes}function fi(){G(ii,Au),G(Pn,Pn.current)}function Xr(){Au=ii.current,k(Pn),k(ii)}var rr=se(null),ri=null;function Ir(o){var u=o.alternate;G(Zn,Zn.current&1),G(rr,o),ri===null&&(u===null||Pn.current!==null||u.memoizedState!==null)&&(ri=o)}function wi(o){G(Zn,Zn.current),G(rr,o),ri===null&&(ri=o)}function Fr(o){o.tag===22?(G(Zn,Zn.current),G(rr,o),ri===null&&(ri=o)):Br()}function Br(){G(Zn,Zn.current),G(rr,rr.current)}function Ri(o){k(rr),ri===o&&(ri=null),k(Zn)}var Zn=se(0);function Bs(o){for(var u=o;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Gx(d)||$x(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _r=0,rn=null,ln=null,si=null,wa=!1,mo=!1,ra=!1,jr=0,Rc=0,Ic=null,s0=0;function zi(){throw Error(i(321))}function Jp(o,u){if(u===null)return!1;for(var d=0;d<u.length&&d<o.length;d++)if(!ws(o[d],u[d]))return!1;return!0}function Zp(o,u,d,g,w,T){return _r=T,rn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ce.H=o===null||o.memoizedState===null?DT:ix,ra=!1,T=d(g,w),ra=!1,mo&&(T=ql(u,d,g,w)),a0(o),T}function a0(o){ce.H=og;var u=ln!==null&&ln.next!==null;if(_r=0,si=ln=rn=null,wa=!1,Rc=0,Ic=null,u)throw Error(i(300));o===null||ls||(o=o.dependencies,o!==null&&n0(o)&&(ls=!0))}function ql(o,u,d,g){rn=o;var w=0;do{if(mo&&(Ic=null),Rc=0,mo=!1,25<=w)throw Error(i(301));if(w+=1,si=ln=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}ce.H=LT,T=u(d,g)}while(mo);return T}function Xy(){var o=ce.H,u=o.useState()[0];return u=typeof u.then=="function"?kc(u):u,o=o.useState()[0],(ln!==null?ln.memoizedState:null)!==o&&(rn.flags|=1024),u}function eg(){var o=jr!==0;return jr=0,o}function tg(o,u,d){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~d}function o0(o){if(wa){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}wa=!1}_r=0,si=ln=rn=null,mo=!1,Rc=jr=0,Ic=null}function os(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?rn.memoizedState=si=o:si=si.next=o,si}function vr(){if(ln===null){var o=rn.alternate;o=o!==null?o.memoizedState:null}else o=ln.next;var u=si===null?rn.memoizedState:si.next;if(u!==null)si=u,ln=o;else{if(o===null)throw rn.alternate===null?Error(i(467)):Error(i(310));ln=o,o={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},si===null?rn.memoizedState=si=o:si=si.next=o}return si}function Xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(o){var u=Rc;return Rc+=1,Ic===null&&(Ic=[]),o=Je(Ic,o,u),u=rn,(si===null?u.memoizedState:si.next)===null&&(u=u.alternate,ce.H=u===null||u.memoizedState===null?DT:ix),o}function Ch(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return kc(o);if(o.$$typeof===L)return Ts(o)}throw Error(i(438,String(o)))}function _u(o){var u=null,d=rn.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=rn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=Xf(),rn.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(o),g=0;g<o;g++)d[g]=U;return u.index++,d}function ml(o,u){return typeof u=="function"?u(o):u}function l0(o){var u=vr();return Nh(u,ln,o)}function Nh(o,u,d){var g=o.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var w=o.baseQueue,T=g.pending;if(T!==null){if(w!==null){var H=w.next;w.next=T.next,T.next=H}u.baseQueue=w=T,g.pending=null}if(T=o.baseState,w===null)o.memoizedState=T;else{u=w.next;var te=H=null,Ee=null,qe=u,nt=!1;do{var at=qe.lane&-536870913;if(at!==qe.lane?($n&at)===at:(_r&at)===at){var Ge=qe.revertLane;if(Ge===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),at===v&&(nt=!0);else if((_r&Ge)===Ge){qe=qe.next,Ge===v&&(nt=!0);continue}else at={lane:0,revertLane:qe.revertLane,gesture:null,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Ee===null?(te=Ee=at,H=T):Ee=Ee.next=at,rn.lanes|=Ge,Lh|=Ge;at=qe.action,ra&&d(T,at),T=qe.hasEagerState?qe.eagerState:d(T,at)}else Ge={lane:at,revertLane:qe.revertLane,gesture:qe.gesture,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Ee===null?(te=Ee=Ge,H=T):Ee=Ee.next=Ge,rn.lanes|=at,Lh|=at;qe=qe.next}while(qe!==null&&qe!==u);if(Ee===null?H=T:Ee.next=te,!ws(T,o.memoizedState)&&(ls=!0,nt&&(d=S,d!==null)))throw d;o.memoizedState=T,o.baseState=H,o.baseQueue=Ee,g.lastRenderedState=T}return w===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function c0(o){var u=vr(),d=u.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var g=d.dispatch,w=d.pending,T=u.memoizedState;if(w!==null){d.pending=null;var H=w=w.next;do T=o(T,H.action),H=H.next;while(H!==w);ws(T,u.memoizedState)||(ls=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),d.lastRenderedState=T}return[T,g]}function u0(o,u,d){var g=rn,w=vr(),T=Un;if(T){if(d===void 0)throw Error(i(407));d=d()}else d=u();var H=!ws((ln||w).memoizedState,d);if(H&&(w.memoizedState=d,ls=!0),w=w.queue,Qy(ig.bind(null,g,w,o),[o]),w.getSnapshot!==u||H||si!==null&&si.memoizedState.tag&1){if(g.flags|=2048,yu(9,{destroy:void 0},ng.bind(null,g,w,d,u),null),Ji===null)throw Error(i(349));T||(_r&127)!==0||Wl(g,u,d)}return d}function Wl(o,u,d){o.flags|=16384,o={getSnapshot:u,value:d},u=rn.updateQueue,u===null?(u=Xf(),rn.updateQueue=u,u.stores=[o]):(d=u.stores,d===null?u.stores=[o]:d.push(o))}function ng(o,u,d,g){u.value=d,u.getSnapshot=g,B1(u)&&rg(o)}function ig(o,u,d){return d(function(){B1(u)&&rg(o)})}function B1(o){var u=o.getSnapshot;o=o.value;try{var d=u();return!ws(o,d)}catch{return!0}}function rg(o){var u=zl(o,2);u!==null&&wo(u,o,2)}function Dc(o){var u=os();if(typeof o=="function"){var d=o;if(o=d(),ra){an(!0);try{d()}finally{an(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:o},u}function j1(o,u,d,g){return o.baseState=d,Nh(o,ln,typeof g=="function"?g:ml)}function U1(o,u,d,g,w){if(q1(o))throw Error(i(485));if(o=u.action,o!==null){var T={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){T.listeners.push(H)}};ce.T!==null?d(!0):T.isTransition=!1,g(T),d=u.pending,d===null?(T.next=u.pending=T,V1(u,T)):(T.next=d.next,u.pending=d.next=T)}}function V1(o,u){var d=u.action,g=u.payload,w=o.state;if(u.isTransition){var T=ce.T,H={};ce.T=H;try{var te=d(w,g),Ee=ce.S;Ee!==null&&Ee(H,te),sg(o,u,te)}catch(qe){vu(o,u,qe)}finally{T!==null&&H.types!==null&&(T.types=H.types),ce.T=T}}else try{T=d(w,g),sg(o,u,T)}catch(qe){vu(o,u,qe)}}function sg(o,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){z1(o,u,g)},function(g){return vu(o,u,g)}):z1(o,u,d)}function z1(o,u,d){u.status="fulfilled",u.value=d,h0(u),o.state=d,u=o.pending,u!==null&&(d=u.next,d===u?o.pending=null:(d=d.next,u.next=d,V1(o,d)))}function vu(o,u,d){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,h0(u),u=u.next;while(u!==g)}o.action=null}function h0(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Qf(o,u){return u}function _l(o,u){if(Un){var d=Ji.formState;if(d!==null){e:{var g=rn;if(Un){if(Xi){t:{for(var w=Xi,T=mr;w.nodeType!==8;){if(!T){w=null;break t}if(w=vl(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){Xi=vl(w.nextSibling),g=w.data==="F!";break e}}Sc(g)}g=!1}g&&(u=d[0])}}return d=os(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:u},d.queue=g,d=RT.bind(null,rn,g),g.dispatch=d,g=Dc(!1),T=nx.bind(null,rn,!1,g.queue),g=os(),w={state:u,dispatch:null,action:o,pending:null},g.queue=w,d=U1.bind(null,rn,w,T,d),w.dispatch=d,g.memoizedState=o,[u,d,!1]}function Gl(o){var u=vr();return $l(u,ln,o)}function $l(o,u,d){if(u=Nh(o,u,Qf)[0],o=l0(ml)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=kc(u)}catch(H){throw H===Ce?ge:H}else g=u;u=vr();var w=u.queue,T=w.dispatch;return d!==u.memoizedState&&(rn.flags|=2048,yu(9,{destroy:void 0},f0.bind(null,w,d),null)),[g,T,o]}function f0(o,u){o.action=u}function d0(o){var u=vr(),d=ln;if(d!==null)return $l(u,d,o);vr(),u=u.memoizedState,d=vr();var g=d.queue.dispatch;return d.memoizedState=o,[u,g,!1]}function yu(o,u,d,g){return o={tag:o,create:d,deps:g,inst:u,next:null},u=rn.updateQueue,u===null&&(u=Xf(),rn.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,u.lastEffect=o),o}function H1(){return vr().memoizedState}function Rh(o,u,d,g){var w=os();rn.flags|=o,w.memoizedState=yu(1|u,{destroy:void 0},d,g===void 0?null:g)}function Ih(o,u,d,g){var w=vr();g=g===void 0?null:g;var T=w.memoizedState.inst;ln!==null&&g!==null&&Jp(g,ln.memoizedState.deps)?w.memoizedState=yu(u,T,d,g):(rn.flags|=o,w.memoizedState=yu(1|u,T,d,g))}function gT(o,u){Rh(8390656,8,o,u)}function Qy(o,u){Ih(2048,8,o,u)}function P7(o){rn.flags|=4;var u=rn.updateQueue;if(u===null)u=Xf(),rn.updateQueue=u,u.events=[o];else{var d=u.events;d===null?u.events=[o]:d.push(o)}}function mT(o){var u=vr().memoizedState;return P7({ref:u,nextImpl:o}),function(){if((bi&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}function _T(o,u){return Ih(4,2,o,u)}function vT(o,u){return Ih(4,4,o,u)}function yT(o,u){if(typeof u=="function"){o=o();var d=u(o);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function xT(o,u,d){d=d!=null?d.concat([o]):null,Ih(4,4,yT.bind(null,u,o),d)}function Jy(){}function wT(o,u){var d=vr();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&Jp(u,g[1])?g[0]:(d.memoizedState=[o,u],o)}function bT(o,u){var d=vr();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&Jp(u,g[1]))return g[0];if(g=o(),ra){an(!0);try{o()}finally{an(!1)}}return d.memoizedState=[g,u],g}function Zy(o,u,d){return d===void 0||(_r&1073741824)!==0&&($n&261930)===0?o.memoizedState=u:(o.memoizedState=d,o=EA(),rn.lanes|=o,Lh|=o,d)}function ET(o,u,d,g){return ws(d,u)?d:Pn.current!==null?(o=Zy(o,d,g),ws(o,u)||(ls=!0),o):(_r&42)===0||(_r&1073741824)!==0&&($n&261930)===0?(ls=!0,o.memoizedState=d):(o=EA(),rn.lanes|=o,Lh|=o,u)}function ST(o,u,d,g,w){var T=ye.p;ye.p=T!==0&&8>T?T:8;var H=ce.T,te={};ce.T=te,nx(o,!1,u,d);try{var Ee=w(),qe=ce.S;if(qe!==null&&qe(te,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var nt=X(Ee,g);ag(o,u,nt,zo(o))}else ag(o,u,g,zo(o))}catch(at){ag(o,u,{then:function(){},status:"rejected",reason:at},zo())}finally{ye.p=T,H!==null&&te.types!==null&&(H.types=te.types),ce.T=H}}function M7(){}function ex(o,u,d,g){if(o.tag!==5)throw Error(i(476));var w=TT(o).queue;ST(o,w,u,be,d===null?M7:function(){return AT(o),d(g)})}function TT(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:be},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:d},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function AT(o){var u=TT(o);u.next===null&&(u=o.alternate.memoizedState),ag(o,u.next.queue,{},zo())}function tx(){return Ts(Eg)}function CT(){return vr().memoizedState}function NT(){return vr().memoizedState}function F7(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var d=zo();o=dn(d);var g=kn(u,o,d);g!==null&&(wo(g,u,d),xi(g,u,d)),u={cache:Ah()},o.payload=u;return}u=u.return}}function B7(o,u,d){var g=zo();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},q1(o)?IT(u,d):(d=Yd(o,u,d,g),d!==null&&(wo(d,o,g),kT(d,u,g)))}function RT(o,u,d){var g=zo();ag(o,u,d,g)}function ag(o,u,d,g){var w={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(q1(o))IT(u,w);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var H=u.lastRenderedState,te=T(H,d);if(w.hasEagerState=!0,w.eagerState=te,ws(te,H))return Hf(o,u,w,0),Ji===null&&zf(),!1}catch{}finally{}if(d=Yd(o,u,w,g),d!==null)return wo(d,o,g),kT(d,u,g),!0}return!1}function nx(o,u,d,g){if(g={lane:2,revertLane:Ox(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},q1(o)){if(u)throw Error(i(479))}else u=Yd(o,d,g,2),u!==null&&wo(u,o,2)}function q1(o){var u=o.alternate;return o===rn||u!==null&&u===rn}function IT(o,u){mo=wa=!0;var d=o.pending;d===null?u.next=u:(u.next=d.next,d.next=u),o.pending=u}function kT(o,u,d){if((d&4194048)!==0){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Lr(o,d)}}var og={readContext:Ts,use:Ch,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useLayoutEffect:zi,useInsertionEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useSyncExternalStore:zi,useId:zi,useHostTransitionStatus:zi,useFormState:zi,useActionState:zi,useOptimistic:zi,useMemoCache:zi,useCacheRefresh:zi};og.useEffectEvent=zi;var DT={readContext:Ts,use:Ch,useCallback:function(o,u){return os().memoizedState=[o,u===void 0?null:u],o},useContext:Ts,useEffect:gT,useImperativeHandle:function(o,u,d){d=d!=null?d.concat([o]):null,Rh(4194308,4,yT.bind(null,u,o),d)},useLayoutEffect:function(o,u){return Rh(4194308,4,o,u)},useInsertionEffect:function(o,u){Rh(4,2,o,u)},useMemo:function(o,u){var d=os();u=u===void 0?null:u;var g=o();if(ra){an(!0);try{o()}finally{an(!1)}}return d.memoizedState=[g,u],g},useReducer:function(o,u,d){var g=os();if(d!==void 0){var w=d(u);if(ra){an(!0);try{d(u)}finally{an(!1)}}}else w=u;return g.memoizedState=g.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},g.queue=o,o=o.dispatch=B7.bind(null,rn,o),[g.memoizedState,o]},useRef:function(o){var u=os();return o={current:o},u.memoizedState=o},useState:function(o){o=Dc(o);var u=o.queue,d=RT.bind(null,rn,u);return u.dispatch=d,[o.memoizedState,d]},useDebugValue:Jy,useDeferredValue:function(o,u){var d=os();return Zy(d,o,u)},useTransition:function(){var o=Dc(!1);return o=ST.bind(null,rn,o.queue,!0,!1),os().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,d){var g=rn,w=os();if(Un){if(d===void 0)throw Error(i(407));d=d()}else{if(d=u(),Ji===null)throw Error(i(349));($n&127)!==0||Wl(g,u,d)}w.memoizedState=d;var T={value:d,getSnapshot:u};return w.queue=T,gT(ig.bind(null,g,T,o),[o]),g.flags|=2048,yu(9,{destroy:void 0},ng.bind(null,g,T,d,u),null),d},useId:function(){var o=os(),u=Ji.identifierPrefix;if(Un){var d=po,g=fo;d=(g&~(1<<32-xn(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=jr++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=s0++,u="_"+u+"r_"+d.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:tx,useFormState:_l,useActionState:_l,useOptimistic:function(o){var u=os();u.memoizedState=u.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=nx.bind(null,rn,!0,d),d.dispatch=u,[o,u]},useMemoCache:_u,useCacheRefresh:function(){return os().memoizedState=F7.bind(null,rn)},useEffectEvent:function(o){var u=os(),d={impl:o};return u.memoizedState=d,function(){if((bi&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}},ix={readContext:Ts,use:Ch,useCallback:wT,useContext:Ts,useEffect:Qy,useImperativeHandle:xT,useInsertionEffect:_T,useLayoutEffect:vT,useMemo:bT,useReducer:l0,useRef:H1,useState:function(){return l0(ml)},useDebugValue:Jy,useDeferredValue:function(o,u){var d=vr();return ET(d,ln.memoizedState,o,u)},useTransition:function(){var o=l0(ml)[0],u=vr().memoizedState;return[typeof o=="boolean"?o:kc(o),u]},useSyncExternalStore:u0,useId:CT,useHostTransitionStatus:tx,useFormState:Gl,useActionState:Gl,useOptimistic:function(o,u){var d=vr();return j1(d,ln,o,u)},useMemoCache:_u,useCacheRefresh:NT};ix.useEffectEvent=mT;var LT={readContext:Ts,use:Ch,useCallback:wT,useContext:Ts,useEffect:Qy,useImperativeHandle:xT,useInsertionEffect:_T,useLayoutEffect:vT,useMemo:bT,useReducer:c0,useRef:H1,useState:function(){return c0(ml)},useDebugValue:Jy,useDeferredValue:function(o,u){var d=vr();return ln===null?Zy(d,o,u):ET(d,ln.memoizedState,o,u)},useTransition:function(){var o=c0(ml)[0],u=vr().memoizedState;return[typeof o=="boolean"?o:kc(o),u]},useSyncExternalStore:u0,useId:CT,useHostTransitionStatus:tx,useFormState:d0,useActionState:d0,useOptimistic:function(o,u){var d=vr();return ln!==null?j1(d,ln,o,u):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:_u,useCacheRefresh:NT};LT.useEffectEvent=mT;function rx(o,u,d,g){u=o.memoizedState,d=d(g,u),d=d==null?u:p({},u,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var sx={enqueueSetState:function(o,u,d){o=o._reactInternals;var g=zo(),w=dn(g);w.payload=u,d!=null&&(w.callback=d),u=kn(o,w,g),u!==null&&(wo(u,o,g),xi(u,o,g))},enqueueReplaceState:function(o,u,d){o=o._reactInternals;var g=zo(),w=dn(g);w.tag=1,w.payload=u,d!=null&&(w.callback=d),u=kn(o,w,g),u!==null&&(wo(u,o,g),xi(u,o,g))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var d=zo(),g=dn(d);g.tag=2,u!=null&&(g.callback=u),u=kn(o,g,d),u!==null&&(wo(u,o,d),xi(u,o,d))}};function OT(o,u,d,g,w,T,H){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,H):u.prototype&&u.prototype.isPureReactComponent?!Bl(d,g)||!Bl(w,T):!0}function PT(o,u,d,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==o&&sx.enqueueReplaceState(u,u.state,null)}function Jf(o,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(o=o.defaultProps){d===u&&(d=p({},d));for(var w in o)d[w]===void 0&&(d[w]=o[w])}return d}function MT(o){Vf(o)}function FT(o){console.error(o)}function BT(o){Vf(o)}function W1(o,u){try{var d=o.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function jT(o,u,d){try{var g=o.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function ax(o,u,d){return d=dn(d),d.tag=3,d.payload={element:null},d.callback=function(){W1(o,u)},d}function UT(o){return o=dn(o),o.tag=3,o}function VT(o,u,d,g){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var T=g.value;o.payload=function(){return w(T)},o.callback=function(){jT(u,d,g)}}var H=d.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(o.callback=function(){jT(u,d,g),typeof w!="function"&&(Oh===null?Oh=new Set([this]):Oh.add(this));var te=g.stack;this.componentDidCatch(g.value,{componentStack:te!==null?te:""})})}function j7(o,u,d,g,w){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&Cc(u,d,w,!0),d=rr.current,d!==null){switch(d.tag){case 31:case 13:return ri===null?i2():d.alternate===null&&Ur===0&&(Ur=3),d.flags&=-257,d.flags|=65536,d.lanes=w,g===ke?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),kx(o,g,w)),!1;case 22:return d.flags|=65536,g===ke?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),kx(o,g,w)),!1}throw Error(i(435,d.tag))}return kx(o,g,w),i2(),!1}if(Un)return u=rr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,g!==jo&&(o=Error(i(422),{cause:g}),Sh(co(o,d)))):(g!==jo&&(u=Error(i(423),{cause:g}),Sh(co(u,d))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,g=co(g,d),w=ax(o.stateNode,g,w),Kr(o,w),Ur!==4&&(Ur=2)),!1;var T=Error(i(520),{cause:g});if(T=co(T,d),gg===null?gg=[T]:gg.push(T),Ur!==4&&(Ur=2),u===null)return!0;g=co(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,o=w&-w,d.lanes|=o,o=ax(d.stateNode,g,o),Kr(d,o),!1;case 1:if(u=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Oh===null||!Oh.has(T))))return d.flags|=65536,w&=-w,d.lanes|=w,w=UT(w),VT(w,o,d,g),Kr(d,w),!1}d=d.return}while(d!==null);return!1}var ox=Error(i(461)),ls=!1;function sa(o,u,d,g){u.child=o===null?An(u,null,d,g):Qi(u,o.child,d,g)}function zT(o,u,d,g,w){d=d.render;var T=u.ref;if("ref"in g){var H={};for(var te in g)te!=="ref"&&(H[te]=g[te])}else H=g;return Nc(u),g=Zp(o,u,d,H,T,w),te=eg(),o!==null&&!ls?(tg(o,u,w),xu(o,u,w)):(Un&&te&&Kp(u),u.flags|=1,sa(o,u,g,w),u.child)}function HT(o,u,d,g,w){if(o===null){var T=d.type;return typeof T=="function"&&!Xd(T)&&T.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=T,qT(o,u,T,g,w)):(o=wh(d.type,null,g,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(T=o.child,!gx(o,w)){var H=T.memoizedProps;if(d=d.compare,d=d!==null?d:Bl,d(H,g)&&o.ref===u.ref)return xu(o,u,w)}return u.flags|=1,o=lo(T,g),o.ref=u.ref,o.return=u,u.child=o}function qT(o,u,d,g,w){if(o!==null){var T=o.memoizedProps;if(Bl(T,g)&&o.ref===u.ref)if(ls=!1,u.pendingProps=g=T,gx(o,w))(o.flags&131072)!==0&&(ls=!0);else return u.lanes=o.lanes,xu(o,u,w)}return lx(o,u,d,g,w)}function WT(o,u,d,g){var w=g.children,T=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,o!==null){for(g=u.child=o.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;g=w&~T}else g=0,u.child=null;return GT(o,u,T,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ue(u,T!==null?T.cachePool:null),T!==null?ir(u,T):fi(),Fr(u);else return g=u.lanes=536870912,GT(o,u,T!==null?T.baseLanes|d:d,d,g)}else T!==null?(ue(u,T.cachePool),ir(u,T),Br(),u.memoizedState=null):(o!==null&&ue(u,null),fi(),Br());return sa(o,u,w,d),u.child}function lg(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function GT(o,u,d,g,w){var T=ie();return T=T===null?null:{parent:Rr._currentValue,pool:T},u.memoizedState={baseLanes:d,cachePool:T},o!==null&&ue(u,null),fi(),Fr(u),o!==null&&Cc(o,u,g,!0),u.childLanes=w,null}function G1(o,u){return u=Y1({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function $T(o,u,d){return Qi(u,o.child,null,d),o=G1(u,u.pendingProps),o.flags|=2,Ri(u),u.memoizedState=null,o}function U7(o,u,d){var g=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Un){if(g.mode==="hidden")return o=G1(u,g),u.lanes=536870912,lg(null,o);if(wi(u),(o=Xi)?(o=s4(o,mr),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Ec!==null?{id:fo,overflow:po}:null,retryLane:536870912,hydrationErrors:null},d=Qd(o),d.return=u,u.child=d,Es=u,Xi=null)):o=null,o===null)throw Sc(u);return u.lanes=536870912,null}return G1(u,g)}var T=o.memoizedState;if(T!==null){var H=T.dehydrated;if(wi(u),w)if(u.flags&256)u.flags&=-257,u=$T(o,u,d);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(i(558));else if(ls||Cc(o,u,d,!1),w=(d&o.childLanes)!==0,ls||w){if(g=Ji,g!==null&&(H=is(g,d),H!==0&&H!==T.retryLane))throw T.retryLane=H,zl(o,H),wo(g,o,H),ox;i2(),u=$T(o,u,d)}else o=T.treeContext,Xi=vl(H.nextSibling),Es=u,Un=!0,ia=null,mr=!1,o!==null&&M1(u,o),u=G1(u,g),u.flags|=4096;return u}return o=lo(o.child,{mode:g.mode,children:g.children}),o.ref=u.ref,u.child=o,o.return=u,o}function $1(o,u){var d=u.ref;if(d===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(o===null||o.ref!==d)&&(u.flags|=4194816)}}function lx(o,u,d,g,w){return Nc(u),d=Zp(o,u,d,g,void 0,w),g=eg(),o!==null&&!ls?(tg(o,u,w),xu(o,u,w)):(Un&&g&&Kp(u),u.flags|=1,sa(o,u,d,w),u.child)}function YT(o,u,d,g,w,T){return Nc(u),u.updateQueue=null,d=ql(u,g,d,w),a0(o),g=eg(),o!==null&&!ls?(tg(o,u,T),xu(o,u,T)):(Un&&g&&Kp(u),u.flags|=1,sa(o,u,d,T),u.child)}function KT(o,u,d,g,w){if(Nc(u),u.stateNode===null){var T=bs,H=d.contextType;typeof H=="object"&&H!==null&&(T=Ts(H)),T=new d(g,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=sx,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=g,T.state=u.memoizedState,T.refs={},Tt(u),H=d.contextType,T.context=typeof H=="object"&&H!==null?Ts(H):bs,T.state=u.memoizedState,H=d.getDerivedStateFromProps,typeof H=="function"&&(rx(u,d,H,g),T.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(H=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),H!==T.state&&sx.enqueueReplaceState(T,T.state,null),Pr(u,g,T,w),Vi(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(o===null){T=u.stateNode;var te=u.memoizedProps,Ee=Jf(d,te);T.props=Ee;var qe=T.context,nt=d.contextType;H=bs,typeof nt=="object"&&nt!==null&&(H=Ts(nt));var at=d.getDerivedStateFromProps;nt=typeof at=="function"||typeof T.getSnapshotBeforeUpdate=="function",te=u.pendingProps!==te,nt||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(te||qe!==H)&&PT(u,T,g,H),Dt=!1;var Ge=u.memoizedState;T.state=Ge,Pr(u,g,T,w),Vi(),qe=u.memoizedState,te||Ge!==qe||Dt?(typeof at=="function"&&(rx(u,d,at,g),qe=u.memoizedState),(Ee=Dt||OT(u,d,Ee,g,Ge,qe,H))?(nt||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=qe),T.props=g,T.state=qe,T.context=H,g=Ee):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{T=u.stateNode,nr(o,u),H=u.memoizedProps,nt=Jf(d,H),T.props=nt,at=u.pendingProps,Ge=T.context,qe=d.contextType,Ee=bs,typeof qe=="object"&&qe!==null&&(Ee=Ts(qe)),te=d.getDerivedStateFromProps,(qe=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==at||Ge!==Ee)&&PT(u,T,g,Ee),Dt=!1,Ge=u.memoizedState,T.state=Ge,Pr(u,g,T,w),Vi();var Ye=u.memoizedState;H!==at||Ge!==Ye||Dt||o!==null&&o.dependencies!==null&&n0(o.dependencies)?(typeof te=="function"&&(rx(u,d,te,g),Ye=u.memoizedState),(nt=Dt||OT(u,d,nt,g,Ge,Ye,Ee)||o!==null&&o.dependencies!==null&&n0(o.dependencies))?(qe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,Ye,Ee),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,Ye,Ee)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||H===o.memoizedProps&&Ge===o.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&Ge===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Ye),T.props=g,T.state=Ye,T.context=Ee,g=nt):(typeof T.componentDidUpdate!="function"||H===o.memoizedProps&&Ge===o.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&Ge===o.memoizedState||(u.flags|=1024),g=!1)}return T=g,$1(o,u),g=(u.flags&128)!==0,T||g?(T=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,o!==null&&g?(u.child=Qi(u,o.child,null,w),u.child=Qi(u,null,d,w)):sa(o,u,d,w),u.memoizedState=T.state,o=u.child):o=xu(o,u,w),o}function XT(o,u,d,g){return gu(),u.flags|=256,sa(o,u,d,g),u.child}var cx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ux(o){return{baseLanes:o,cachePool:_e()}}function hx(o,u,d){return o=o!==null?o.childLanes&~d:0,u&&(o|=Vo),o}function QT(o,u,d){var g=u.pendingProps,w=!1,T=(u.flags&128)!==0,H;if((H=T)||(H=o!==null&&o.memoizedState===null?!1:(Zn.current&2)!==0),H&&(w=!0,u.flags&=-129),H=(u.flags&32)!==0,u.flags&=-33,o===null){if(Un){if(w?Ir(u):Br(),(o=Xi)?(o=s4(o,mr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Ec!==null?{id:fo,overflow:po}:null,retryLane:536870912,hydrationErrors:null},d=Qd(o),d.return=u,u.child=d,Es=u,Xi=null)):o=null,o===null)throw Sc(u);return $x(o)?u.lanes=32:u.lanes=536870912,null}var te=g.children;return g=g.fallback,w?(Br(),w=u.mode,te=Y1({mode:"hidden",children:te},w),g=bc(g,w,d,null),te.return=u,g.return=u,te.sibling=g,u.child=te,g=u.child,g.memoizedState=ux(d),g.childLanes=hx(o,H,d),u.memoizedState=cx,lg(null,g)):(Ir(u),fx(u,te))}var Ee=o.memoizedState;if(Ee!==null&&(te=Ee.dehydrated,te!==null)){if(T)u.flags&256?(Ir(u),u.flags&=-257,u=dx(o,u,d)):u.memoizedState!==null?(Br(),u.child=o.child,u.flags|=128,u=null):(Br(),te=g.fallback,w=u.mode,g=Y1({mode:"visible",children:g.children},w),te=bc(te,w,d,null),te.flags|=2,g.return=u,te.return=u,g.sibling=te,u.child=g,Qi(u,o.child,null,d),g=u.child,g.memoizedState=ux(d),g.childLanes=hx(o,H,d),u.memoizedState=cx,u=lg(null,g));else if(Ir(u),$x(te)){if(H=te.nextSibling&&te.nextSibling.dataset,H)var qe=H.dgst;H=qe,g=Error(i(419)),g.stack="",g.digest=H,Sh({value:g,source:null,stack:null}),u=dx(o,u,d)}else if(ls||Cc(o,u,d,!1),H=(d&o.childLanes)!==0,ls||H){if(H=Ji,H!==null&&(g=is(H,d),g!==0&&g!==Ee.retryLane))throw Ee.retryLane=g,zl(o,g),wo(H,o,g),ox;Gx(te)||i2(),u=dx(o,u,d)}else Gx(te)?(u.flags|=192,u.child=o.child,u=null):(o=Ee.treeContext,Xi=vl(te.nextSibling),Es=u,Un=!0,ia=null,mr=!1,o!==null&&M1(u,o),u=fx(u,g.children),u.flags|=4096);return u}return w?(Br(),te=g.fallback,w=u.mode,Ee=o.child,qe=Ee.sibling,g=lo(Ee,{mode:"hidden",children:g.children}),g.subtreeFlags=Ee.subtreeFlags&65011712,qe!==null?te=lo(qe,te):(te=bc(te,w,d,null),te.flags|=2),te.return=u,g.return=u,g.sibling=te,u.child=g,lg(null,g),g=u.child,te=o.child.memoizedState,te===null?te=ux(d):(w=te.cachePool,w!==null?(Ee=Rr._currentValue,w=w.parent!==Ee?{parent:Ee,pool:Ee}:w):w=_e(),te={baseLanes:te.baseLanes|d,cachePool:w}),g.memoizedState=te,g.childLanes=hx(o,H,d),u.memoizedState=cx,lg(o.child,g)):(Ir(u),d=o.child,o=d.sibling,d=lo(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,o!==null&&(H=u.deletions,H===null?(u.deletions=[o],u.flags|=16):H.push(o)),u.child=d,u.memoizedState=null,d)}function fx(o,u){return u=Y1({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Y1(o,u){return o=Ms(22,o,null,u),o.lanes=0,o}function dx(o,u,d){return Qi(u,o.child,null,d),o=fx(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function JT(o,u,d){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),Th(o.return,u,d)}function px(o,u,d,g,w,T){var H=o.memoizedState;H===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:w,treeForkCount:T}:(H.isBackwards=u,H.rendering=null,H.renderingStartTime=0,H.last=g,H.tail=d,H.tailMode=w,H.treeForkCount=T)}function ZT(o,u,d){var g=u.pendingProps,w=g.revealOrder,T=g.tail;g=g.children;var H=Zn.current,te=(H&2)!==0;if(te?(H=H&1|2,u.flags|=128):H&=1,G(Zn,H),sa(o,u,g,d),g=Un?$f:0,!te&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&JT(o,d,u);else if(o.tag===19)JT(o,d,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(d=u.child,w=null;d!==null;)o=d.alternate,o!==null&&Bs(o)===null&&(w=d),d=d.sibling;d=w,d===null?(w=u.child,u.child=null):(w=d.sibling,d.sibling=null),px(u,!1,w,d,T,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&Bs(o)===null){u.child=w;break}o=w.sibling,w.sibling=d,d=w,w=o}px(u,!0,d,null,T,g);break;case"together":px(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function xu(o,u,d){if(o!==null&&(u.dependencies=o.dependencies),Lh|=u.lanes,(d&u.childLanes)===0)if(o!==null){if(Cc(o,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(i(153));if(u.child!==null){for(o=u.child,d=lo(o,o.pendingProps),u.child=d,d.return=u;o.sibling!==null;)o=o.sibling,d=d.sibling=lo(o,o.pendingProps),d.return=u;d.sibling=null}return u.child}function gx(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&n0(o)))}function V7(o,u,d){switch(u.tag){case 3:Ae(u,u.stateNode.containerInfo),Ac(u,Rr,o.memoizedState.cache),gu();break;case 27:case 5:Ie(u);break;case 4:Ae(u,u.stateNode.containerInfo);break;case 10:Ac(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,wi(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Ir(u),u.flags|=128,null):(d&u.child.childLanes)!==0?QT(o,u,d):(Ir(u),o=xu(o,u,d),o!==null?o.sibling:null);Ir(u);break;case 19:var w=(o.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(Cc(o,u,d,!1),g=(d&u.childLanes)!==0),w){if(g)return ZT(o,u,d);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),G(Zn,Zn.current),g)break;return null;case 22:return u.lanes=0,WT(o,u,d,u.pendingProps);case 24:Ac(u,Rr,o.memoizedState.cache)}return xu(o,u,d)}function eA(o,u,d){if(o!==null)if(o.memoizedProps!==u.pendingProps)ls=!0;else{if(!gx(o,d)&&(u.flags&128)===0)return ls=!1,V7(o,u,d);ls=(o.flags&131072)!==0}else ls=!1,Un&&(u.flags&1048576)!==0&&P1(u,$f,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(o=Be(u.elementType),u.type=o,typeof o=="function")Xd(o)?(g=Jf(o,g),u.tag=1,u=KT(null,u,o,g,d)):(u.tag=0,u=lx(null,u,o,g,d));else{if(o!=null){var w=o.$$typeof;if(w===j){u.tag=11,u=zT(null,u,o,g,d);break e}else if(w===F){u.tag=14,u=HT(null,u,o,g,d);break e}}throw u=de(o)||o,Error(i(306,u,""))}}return u;case 0:return lx(o,u,u.type,u.pendingProps,d);case 1:return g=u.type,w=Jf(g,u.pendingProps),KT(o,u,g,w,d);case 3:e:{if(Ae(u,u.stateNode.containerInfo),o===null)throw Error(i(387));g=u.pendingProps;var T=u.memoizedState;w=T.element,nr(o,u),Pr(u,g,null,d);var H=u.memoizedState;if(g=H.cache,Ac(u,Rr,g),g!==T.cache&&mu(u,[Rr],d,!0),Vi(),g=H.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:H.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=XT(o,u,g,d);break e}else if(g!==w){w=co(Error(i(424)),u),Sh(w),u=XT(o,u,g,d);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Xi=vl(o.firstChild),Es=u,Un=!0,ia=null,mr=!0,d=An(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(gu(),g===w){u=xu(o,u,d);break e}sa(o,u,g,d)}u=u.child}return u;case 26:return $1(o,u),o===null?(d=h4(u.type,null,u.pendingProps,null))?u.memoizedState=d:Un||(d=u.type,o=u.pendingProps,g=u2(ne.current).createElement(d),g[le]=u,g[fe]=o,aa(g,d,o),Lt(g),u.stateNode=g):u.memoizedState=h4(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ie(u),o===null&&Un&&(g=u.stateNode=l4(u.type,u.pendingProps,ne.current),Es=u,mr=!0,w=Xi,Bh(u.type)?(Yx=w,Xi=vl(g.firstChild)):Xi=w),sa(o,u,u.pendingProps.children,d),$1(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Un&&((w=g=Xi)&&(g=_F(g,u.type,u.pendingProps,mr),g!==null?(u.stateNode=g,Es=u,Xi=vl(g.firstChild),mr=!1,w=!0):w=!1),w||Sc(u)),Ie(u),w=u.type,T=u.pendingProps,H=o!==null?o.memoizedProps:null,g=T.children,Hx(w,T)?g=null:H!==null&&Hx(w,H)&&(u.flags|=32),u.memoizedState!==null&&(w=Zp(o,u,Xy,null,null,d),Eg._currentValue=w),$1(o,u),sa(o,u,g,d),u.child;case 6:return o===null&&Un&&((o=d=Xi)&&(d=vF(d,u.pendingProps,mr),d!==null?(u.stateNode=d,Es=u,Xi=null,o=!0):o=!1),o||Sc(u)),null;case 13:return QT(o,u,d);case 4:return Ae(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=Qi(u,null,g,d):sa(o,u,g,d),u.child;case 11:return zT(o,u,u.type,u.pendingProps,d);case 7:return sa(o,u,u.pendingProps,d),u.child;case 8:return sa(o,u,u.pendingProps.children,d),u.child;case 12:return sa(o,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,Ac(u,u.type,g.value),sa(o,u,g.children,d),u.child;case 9:return w=u.type._context,g=u.pendingProps.children,Nc(u),w=Ts(w),g=g(w),u.flags|=1,sa(o,u,g,d),u.child;case 14:return HT(o,u,u.type,u.pendingProps,d);case 15:return qT(o,u,u.type,u.pendingProps,d);case 19:return ZT(o,u,d);case 31:return U7(o,u,d);case 22:return WT(o,u,d,u.pendingProps);case 24:return Nc(u),g=Ts(Rr),o===null?(w=ie(),w===null&&(w=Ji,T=Ah(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=d),w=T),u.memoizedState={parent:g,cache:w},Tt(u),Ac(u,Rr,w)):((o.lanes&d)!==0&&(nr(o,u),Pr(u,null,null,d),Vi()),w=o.memoizedState,T=u.memoizedState,w.parent!==g?(w={parent:g,cache:g},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),Ac(u,Rr,g)):(g=T.cache,Ac(u,Rr,g),g!==w.cache&&mu(u,[Rr],d,!0))),sa(o,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function wu(o){o.flags|=4}function mx(o,u,d,g,w){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(CA())o.flags|=8192;else throw Xe=ke,ze}else o.flags&=-16777217}function tA(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!m4(u))if(CA())o.flags|=8192;else throw Xe=ke,ze}function K1(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?ma():536870912,o.lanes|=u,_0|=u)}function cg(o,u){if(!Un)switch(o.tailMode){case"hidden":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function sr(o){var u=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(u)for(var w=o.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=g,o.childLanes=d,u}function z7(o,u,d){var g=u.pendingProps;switch(e0(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(u),null;case 1:return sr(u),null;case 3:return d=u.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),go(Rr),Te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Ss(u)?wu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Qp())),sr(u),null;case 26:var w=u.type,T=u.memoizedState;return o===null?(wu(u),T!==null?(sr(u),tA(u,T)):(sr(u),mx(u,w,null,g,d))):T?T!==o.memoizedState?(wu(u),sr(u),tA(u,T)):(sr(u),u.flags&=-16777217):(o=o.memoizedProps,o!==g&&wu(u),sr(u),mx(u,w,o,g,d)),null;case 27:if(et(u),d=ne.current,w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&wu(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return sr(u),null}o=W.current,Ss(u)?Xp(u):(o=l4(w,g,d),u.stateNode=o,wu(u))}return sr(u),null;case 5:if(et(u),w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&wu(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return sr(u),null}if(T=W.current,Ss(u))Xp(u);else{var H=u2(ne.current);switch(T){case 1:T=H.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=H.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=H.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=H.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=H.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof g.is=="string"?H.createElement("select",{is:g.is}):H.createElement("select"),g.multiple?T.multiple=!0:g.size&&(T.size=g.size);break;default:T=typeof g.is=="string"?H.createElement(w,{is:g.is}):H.createElement(w)}}T[le]=u,T[fe]=g;e:for(H=u.child;H!==null;){if(H.tag===5||H.tag===6)T.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===u)break e;for(;H.sibling===null;){if(H.return===null||H.return===u)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}u.stateNode=T;e:switch(aa(T,w,g),w){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&wu(u)}}return sr(u),mx(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,d),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==g&&wu(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(i(166));if(o=ne.current,Ss(u)){if(o=u.stateNode,d=u.memoizedProps,g=null,w=Es,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}o[le]=u,o=!!(o.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||QA(o.nodeValue,d)),o||Sc(u,!0)}else o=u2(o).createTextNode(g),o[le]=u,u.stateNode=o}return sr(u),null;case 31:if(d=u.memoizedState,o===null||o.memoizedState!==null){if(g=Ss(u),d!==null){if(o===null){if(!g)throw Error(i(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[le]=u}else gu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;sr(u),o=!1}else d=Qp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return u.flags&256?(Ri(u),u):(Ri(u),null);if((u.flags&128)!==0)throw Error(i(558))}return sr(u),null;case 13:if(g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Ss(u),g!==null&&g.dehydrated!==null){if(o===null){if(!w)throw Error(i(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[le]=u}else gu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;sr(u),w=!1}else w=Qp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Ri(u),u):(Ri(u),null)}return Ri(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,o=o!==null&&o.memoizedState!==null,d&&(g=u.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool),T=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),T!==w&&(g.flags|=2048)),d!==o&&d&&(u.child.flags|=8192),K1(u,u.updateQueue),sr(u),null);case 4:return Te(),o===null&&Bx(u.stateNode.containerInfo),sr(u),null;case 10:return go(u.type),sr(u),null;case 19:if(k(Zn),g=u.memoizedState,g===null)return sr(u),null;if(w=(u.flags&128)!==0,T=g.rendering,T===null)if(w)cg(g,!1);else{if(Ur!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(T=Bs(o),T!==null){for(u.flags|=128,cg(g,!1),o=T.updateQueue,u.updateQueue=o,K1(u,o),u.subtreeFlags=0,o=d,d=u.child;d!==null;)Wf(d,o),d=d.sibling;return G(Zn,Zn.current&1|2),Un&&Ya(u,g.treeForkCount),u.child}o=o.sibling}g.tail!==null&&Zt()>e2&&(u.flags|=128,w=!0,cg(g,!1),u.lanes=4194304)}else{if(!w)if(o=Bs(T),o!==null){if(u.flags|=128,w=!0,o=o.updateQueue,u.updateQueue=o,K1(u,o),cg(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!Un)return sr(u),null}else 2*Zt()-g.renderingStartTime>e2&&d!==536870912&&(u.flags|=128,w=!0,cg(g,!1),u.lanes=4194304);g.isBackwards?(T.sibling=u.child,u.child=T):(o=g.last,o!==null?o.sibling=T:u.child=T,g.last=T)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Zt(),o.sibling=null,d=Zn.current,G(Zn,w?d&1|2:d&1),Un&&Ya(u,g.treeForkCount),o):(sr(u),null);case 22:case 23:return Ri(u),Xr(),g=u.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(sr(u),u.subtreeFlags&6&&(u.flags|=8192)):sr(u),d=u.updateQueue,d!==null&&K1(u,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),o!==null&&k(ee),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),go(Rr),sr(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function H7(o,u){switch(e0(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return go(Rr),Te(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return et(u),null;case 31:if(u.memoizedState!==null){if(Ri(u),u.alternate===null)throw Error(i(340));gu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Ri(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(i(340));gu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return k(Zn),null;case 4:return Te(),null;case 10:return go(u.type),null;case 22:case 23:return Ri(u),Xr(),o!==null&&k(ee),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return go(Rr),null;case 25:return null;default:return null}}function nA(o,u){switch(e0(u),u.tag){case 3:go(Rr),Te();break;case 26:case 27:case 5:et(u);break;case 4:Te();break;case 31:u.memoizedState!==null&&Ri(u);break;case 13:Ri(u);break;case 19:k(Zn);break;case 10:go(u.type);break;case 22:case 23:Ri(u),Xr(),o!==null&&k(ee);break;case 24:go(Rr)}}function ug(o,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var w=g.next;d=w;do{if((d.tag&o)===o){g=void 0;var T=d.create,H=d.inst;g=T(),H.destroy=g}d=d.next}while(d!==w)}}catch(te){ki(u,u.return,te)}}function kh(o,u,d){try{var g=u.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var T=w.next;g=T;do{if((g.tag&o)===o){var H=g.inst,te=H.destroy;if(te!==void 0){H.destroy=void 0,w=u;var Ee=d,qe=te;try{qe()}catch(nt){ki(w,Ee,nt)}}}g=g.next}while(g!==T)}}catch(nt){ki(u,u.return,nt)}}function iA(o){var u=o.updateQueue;if(u!==null){var d=o.stateNode;try{Mr(u,d)}catch(g){ki(o,o.return,g)}}}function rA(o,u,d){d.props=Jf(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(g){ki(o,u,g)}}function hg(o,u){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof d=="function"?o.refCleanup=d(g):d.current=g}}catch(w){ki(o,u,w)}}function Lc(o,u){var d=o.ref,g=o.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(w){ki(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){ki(o,u,w)}else d.current=null}function sA(o){var u=o.type,d=o.memoizedProps,g=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(w){ki(o,o.return,w)}}function _x(o,u,d){try{var g=o.stateNode;hF(g,o.type,d,u),g[fe]=u}catch(w){ki(o,o.return,w)}}function aA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Bh(o.type)||o.tag===4}function vx(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||aA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Bh(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yx(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(o),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Va));else if(g!==4&&(g===27&&Bh(o.type)&&(d=o.stateNode,u=null),o=o.child,o!==null))for(yx(o,u,d),o=o.sibling;o!==null;)yx(o,u,d),o=o.sibling}function X1(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?d.insertBefore(o,u):d.appendChild(o);else if(g!==4&&(g===27&&Bh(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(X1(o,u,d),o=o.sibling;o!==null;)X1(o,u,d),o=o.sibling}function oA(o){var u=o.stateNode,d=o.memoizedProps;try{for(var g=o.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);aa(u,g,d),u[le]=o,u[fe]=d}catch(T){ki(o,o.return,T)}}var bu=!1,cs=!1,xx=!1,lA=typeof WeakSet=="function"?WeakSet:Set,js=null;function q7(o,u){if(o=o.containerInfo,Vx=_2,o=Ul(o),dl(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var w=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var H=0,te=-1,Ee=-1,qe=0,nt=0,at=o,Ge=null;t:for(;;){for(var Ye;at!==d||w!==0&&at.nodeType!==3||(te=H+w),at!==T||g!==0&&at.nodeType!==3||(Ee=H+g),at.nodeType===3&&(H+=at.nodeValue.length),(Ye=at.firstChild)!==null;)Ge=at,at=Ye;for(;;){if(at===o)break t;if(Ge===d&&++qe===w&&(te=H),Ge===T&&++nt===g&&(Ee=H),(Ye=at.nextSibling)!==null)break;at=Ge,Ge=at.parentNode}at=Ye}d=te===-1||Ee===-1?null:{start:te,end:Ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(zx={focusedElem:o,selectionRange:d},_2=!1,js=u;js!==null;)if(u=js,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,js=o;else for(;js!==null;){switch(u=js,T=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)w=o[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,d=u,w=T.memoizedProps,T=T.memoizedState,g=d.stateNode;try{var Ut=Jf(d.type,w);o=g.getSnapshotBeforeUpdate(Ut,T),g.__reactInternalSnapshotBeforeUpdate=o}catch(pn){ki(d,d.return,pn)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,d=o.nodeType,d===9)Wx(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Wx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=u.sibling,o!==null){o.return=u.return,js=o;break}js=u.return}}function cA(o,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Su(o,d),g&4&&ug(5,d);break;case 1:if(Su(o,d),g&4)if(o=d.stateNode,u===null)try{o.componentDidMount()}catch(H){ki(d,d.return,H)}else{var w=Jf(d.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(H){ki(d,d.return,H)}}g&64&&iA(d),g&512&&hg(d,d.return);break;case 3:if(Su(o,d),g&64&&(o=d.updateQueue,o!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{Mr(o,u)}catch(H){ki(d,d.return,H)}}break;case 27:u===null&&g&4&&oA(d);case 26:case 5:Su(o,d),u===null&&g&4&&sA(d),g&512&&hg(d,d.return);break;case 12:Su(o,d);break;case 31:Su(o,d),g&4&&fA(o,d);break;case 13:Su(o,d),g&4&&dA(o,d),g&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=Z7.bind(null,d),yF(o,d))));break;case 22:if(g=d.memoizedState!==null||bu,!g){u=u!==null&&u.memoizedState!==null||cs,w=bu;var T=cs;bu=g,(cs=u)&&!T?Tu(o,d,(d.subtreeFlags&8772)!==0):Su(o,d),bu=w,cs=T}break;case 30:break;default:Su(o,d)}}function uA(o){var u=o.alternate;u!==null&&(o.alternate=null,uA(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&ft(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yr=null,_o=!1;function Eu(o,u,d){for(d=d.child;d!==null;)hA(o,u,d),d=d.sibling}function hA(o,u,d){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(yn,d)}catch{}switch(d.tag){case 26:cs||Lc(d,u),Eu(o,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:cs||Lc(d,u);var g=yr,w=_o;Bh(d.type)&&(yr=d.stateNode,_o=!1),Eu(o,u,d),xg(d.stateNode),yr=g,_o=w;break;case 5:cs||Lc(d,u);case 6:if(g=yr,w=_o,yr=null,Eu(o,u,d),yr=g,_o=w,yr!==null)if(_o)try{(yr.nodeType===9?yr.body:yr.nodeName==="HTML"?yr.ownerDocument.body:yr).removeChild(d.stateNode)}catch(T){ki(d,u,T)}else try{yr.removeChild(d.stateNode)}catch(T){ki(d,u,T)}break;case 18:yr!==null&&(_o?(o=yr,i4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),T0(o)):i4(yr,d.stateNode));break;case 4:g=yr,w=_o,yr=d.stateNode.containerInfo,_o=!0,Eu(o,u,d),yr=g,_o=w;break;case 0:case 11:case 14:case 15:kh(2,d,u),cs||kh(4,d,u),Eu(o,u,d);break;case 1:cs||(Lc(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&rA(d,u,g)),Eu(o,u,d);break;case 21:Eu(o,u,d);break;case 22:cs=(g=cs)||d.memoizedState!==null,Eu(o,u,d),cs=g;break;default:Eu(o,u,d)}}function fA(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{T0(o)}catch(d){ki(u,u.return,d)}}}function dA(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{T0(o)}catch(d){ki(u,u.return,d)}}function W7(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new lA),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new lA),u;default:throw Error(i(435,o.tag))}}function Q1(o,u){var d=W7(o);u.forEach(function(g){if(!d.has(g)){d.add(g);var w=eF.bind(null,o,g);g.then(w,w)}})}function vo(o,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var w=d[g],T=o,H=u,te=H;e:for(;te!==null;){switch(te.tag){case 27:if(Bh(te.type)){yr=te.stateNode,_o=!1;break e}break;case 5:yr=te.stateNode,_o=!1;break e;case 3:case 4:yr=te.stateNode.containerInfo,_o=!0;break e}te=te.return}if(yr===null)throw Error(i(160));hA(T,H,w),yr=null,_o=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)pA(u,o),u=u.sibling}var Yl=null;function pA(o,u){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:vo(u,o),yo(o),g&4&&(kh(3,o,o.return),ug(3,o),kh(5,o,o.return));break;case 1:vo(u,o),yo(o),g&512&&(cs||d===null||Lc(d,d.return)),g&64&&bu&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var w=Yl;if(vo(u,o),yo(o),g&512&&(cs||d===null||Lc(d,d.return)),g&4){var T=d!==null?d.memoizedState:null;if(g=o.memoizedState,d===null)if(g===null)if(o.stateNode===null){e:{g=o.type,d=o.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":T=w.getElementsByTagName("title")[0],(!T||T[Ve]||T[le]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(g),w.head.insertBefore(T,w.querySelector("head > title"))),aa(T,g,d),T[le]=o,Lt(T),g=T;break e;case"link":var H=p4("link","href",w).get(g+(d.href||""));if(H){for(var te=0;te<H.length;te++)if(T=H[te],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){H.splice(te,1);break t}}T=w.createElement(g),aa(T,g,d),w.head.appendChild(T);break;case"meta":if(H=p4("meta","content",w).get(g+(d.content||""))){for(te=0;te<H.length;te++)if(T=H[te],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){H.splice(te,1);break t}}T=w.createElement(g),aa(T,g,d),w.head.appendChild(T);break;default:throw Error(i(468,g))}T[le]=o,Lt(T),g=T}o.stateNode=g}else g4(w,o.type,o.stateNode);else o.stateNode=d4(w,g,o.memoizedProps);else T!==g?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,g===null?g4(w,o.type,o.stateNode):d4(w,g,o.memoizedProps)):g===null&&o.stateNode!==null&&_x(o,o.memoizedProps,d.memoizedProps)}break;case 27:vo(u,o),yo(o),g&512&&(cs||d===null||Lc(d,d.return)),d!==null&&g&4&&_x(o,o.memoizedProps,d.memoizedProps);break;case 5:if(vo(u,o),yo(o),g&512&&(cs||d===null||Lc(d,d.return)),o.flags&32){w=o.stateNode;try{$r(w,"")}catch(Ut){ki(o,o.return,Ut)}}g&4&&o.stateNode!=null&&(w=o.memoizedProps,_x(o,w,d!==null?d.memoizedProps:w)),g&1024&&(xx=!0);break;case 6:if(vo(u,o),yo(o),g&4){if(o.stateNode===null)throw Error(i(162));g=o.memoizedProps,d=o.stateNode;try{d.nodeValue=g}catch(Ut){ki(o,o.return,Ut)}}break;case 3:if(d2=null,w=Yl,Yl=h2(u.containerInfo),vo(u,o),Yl=w,yo(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{T0(u.containerInfo)}catch(Ut){ki(o,o.return,Ut)}xx&&(xx=!1,gA(o));break;case 4:g=Yl,Yl=h2(o.stateNode.containerInfo),vo(u,o),yo(o),Yl=g;break;case 12:vo(u,o),yo(o);break;case 31:vo(u,o),yo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Q1(o,g)));break;case 13:vo(u,o),yo(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Z1=Zt()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Q1(o,g)));break;case 22:w=o.memoizedState!==null;var Ee=d!==null&&d.memoizedState!==null,qe=bu,nt=cs;if(bu=qe||w,cs=nt||Ee,vo(u,o),cs=nt,bu=qe,yo(o),g&8192)e:for(u=o.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(d===null||Ee||bu||cs||Zf(o)),d=null,u=o;;){if(u.tag===5||u.tag===26){if(d===null){Ee=d=u;try{if(T=Ee.stateNode,w)H=T.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{te=Ee.stateNode;var at=Ee.memoizedProps.style,Ge=at!=null&&at.hasOwnProperty("display")?at.display:null;te.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(Ut){ki(Ee,Ee.return,Ut)}}}else if(u.tag===6){if(d===null){Ee=u;try{Ee.stateNode.nodeValue=w?"":Ee.memoizedProps}catch(Ut){ki(Ee,Ee.return,Ut)}}}else if(u.tag===18){if(d===null){Ee=u;try{var Ye=Ee.stateNode;w?r4(Ye,!0):r4(Ee.stateNode,!1)}catch(Ut){ki(Ee,Ee.return,Ut)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=o.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Q1(o,d))));break;case 19:vo(u,o),yo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Q1(o,g)));break;case 30:break;case 21:break;default:vo(u,o),yo(o)}}function yo(o){var u=o.flags;if(u&2){try{for(var d,g=o.return;g!==null;){if(aA(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var w=d.stateNode,T=vx(o);X1(o,T,w);break;case 5:var H=d.stateNode;d.flags&32&&($r(H,""),d.flags&=-33);var te=vx(o);X1(o,te,H);break;case 3:case 4:var Ee=d.stateNode.containerInfo,qe=vx(o);yx(o,qe,Ee);break;default:throw Error(i(161))}}catch(nt){ki(o,o.return,nt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function gA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;gA(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Su(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)cA(o,u.alternate,u),u=u.sibling}function Zf(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:kh(4,u,u.return),Zf(u);break;case 1:Lc(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&rA(u,u.return,d),Zf(u);break;case 27:xg(u.stateNode);case 26:case 5:Lc(u,u.return),Zf(u);break;case 22:u.memoizedState===null&&Zf(u);break;case 30:Zf(u);break;default:Zf(u)}o=o.sibling}}function Tu(o,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,w=o,T=u,H=T.flags;switch(T.tag){case 0:case 11:case 15:Tu(w,T,d),ug(4,T);break;case 1:if(Tu(w,T,d),g=T,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(qe){ki(g,g.return,qe)}if(g=T,w=g.updateQueue,w!==null){var te=g.stateNode;try{var Ee=w.shared.hiddenCallbacks;if(Ee!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Ee.length;w++)Fs(Ee[w],te)}catch(qe){ki(g,g.return,qe)}}d&&H&64&&iA(T),hg(T,T.return);break;case 27:oA(T);case 26:case 5:Tu(w,T,d),d&&g===null&&H&4&&sA(T),hg(T,T.return);break;case 12:Tu(w,T,d);break;case 31:Tu(w,T,d),d&&H&4&&fA(w,T);break;case 13:Tu(w,T,d),d&&H&4&&dA(w,T);break;case 22:T.memoizedState===null&&Tu(w,T,d),hg(T,T.return);break;case 30:break;default:Tu(w,T,d)}u=u.sibling}}function wx(o,u){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Yf(d))}function bx(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Yf(o))}function Kl(o,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)mA(o,u,d,g),u=u.sibling}function mA(o,u,d,g){var w=u.flags;switch(u.tag){case 0:case 11:case 15:Kl(o,u,d,g),w&2048&&ug(9,u);break;case 1:Kl(o,u,d,g);break;case 3:Kl(o,u,d,g),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Yf(o)));break;case 12:if(w&2048){Kl(o,u,d,g),o=u.stateNode;try{var T=u.memoizedProps,H=T.id,te=T.onPostCommit;typeof te=="function"&&te(H,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Ee){ki(u,u.return,Ee)}}else Kl(o,u,d,g);break;case 31:Kl(o,u,d,g);break;case 13:Kl(o,u,d,g);break;case 23:break;case 22:T=u.stateNode,H=u.alternate,u.memoizedState!==null?T._visibility&2?Kl(o,u,d,g):fg(o,u):T._visibility&2?Kl(o,u,d,g):(T._visibility|=2,p0(o,u,d,g,(u.subtreeFlags&10256)!==0||!1)),w&2048&&wx(H,u);break;case 24:Kl(o,u,d,g),w&2048&&bx(u.alternate,u);break;default:Kl(o,u,d,g)}}function p0(o,u,d,g,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var T=o,H=u,te=d,Ee=g,qe=H.flags;switch(H.tag){case 0:case 11:case 15:p0(T,H,te,Ee,w),ug(8,H);break;case 23:break;case 22:var nt=H.stateNode;H.memoizedState!==null?nt._visibility&2?p0(T,H,te,Ee,w):fg(T,H):(nt._visibility|=2,p0(T,H,te,Ee,w)),w&&qe&2048&&wx(H.alternate,H);break;case 24:p0(T,H,te,Ee,w),w&&qe&2048&&bx(H.alternate,H);break;default:p0(T,H,te,Ee,w)}u=u.sibling}}function fg(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=o,g=u,w=g.flags;switch(g.tag){case 22:fg(d,g),w&2048&&wx(g.alternate,g);break;case 24:fg(d,g),w&2048&&bx(g.alternate,g);break;default:fg(d,g)}u=u.sibling}}var dg=8192;function g0(o,u,d){if(o.subtreeFlags&dg)for(o=o.child;o!==null;)_A(o,u,d),o=o.sibling}function _A(o,u,d){switch(o.tag){case 26:g0(o,u,d),o.flags&dg&&o.memoizedState!==null&&kF(d,Yl,o.memoizedState,o.memoizedProps);break;case 5:g0(o,u,d);break;case 3:case 4:var g=Yl;Yl=h2(o.stateNode.containerInfo),g0(o,u,d),Yl=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=dg,dg=16777216,g0(o,u,d),dg=g):g0(o,u,d));break;default:g0(o,u,d)}}function vA(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function pg(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];js=g,xA(g,o)}vA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yA(o),o=o.sibling}function yA(o){switch(o.tag){case 0:case 11:case 15:pg(o),o.flags&2048&&kh(9,o,o.return);break;case 3:pg(o);break;case 12:pg(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,J1(o)):pg(o);break;default:pg(o)}}function J1(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];js=g,xA(g,o)}vA(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:kh(8,u,u.return),J1(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,J1(u));break;default:J1(u)}o=o.sibling}}function xA(o,u){for(;js!==null;){var d=js;switch(d.tag){case 0:case 11:case 15:kh(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Yf(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,js=g;else e:for(d=o;js!==null;){g=js;var w=g.sibling,T=g.return;if(uA(g),g===d){js=null;break e}if(w!==null){w.return=T,js=w;break e}js=T}}}var G7={getCacheForType:function(o){var u=Ts(Rr),d=u.data.get(o);return d===void 0&&(d=o(),u.data.set(o,d)),d},cacheSignal:function(){return Ts(Rr).controller.signal}},$7=typeof WeakMap=="function"?WeakMap:Map,bi=0,Ji=null,Vn=null,$n=0,Ii=0,Uo=null,Dh=!1,m0=!1,Ex=!1,Au=0,Ur=0,Lh=0,ed=0,Sx=0,Vo=0,_0=0,gg=null,xo=null,Tx=!1,Z1=0,wA=0,e2=1/0,t2=null,Oh=null,Cs=0,Ph=null,v0=null,Cu=0,Ax=0,Cx=null,bA=null,mg=0,Nx=null;function zo(){return(bi&2)!==0&&$n!==0?$n&-$n:ce.T!==null?Ox():J()}function EA(){if(Vo===0)if(($n&536870912)===0||Un){var o=ti;ti<<=1,(ti&3932160)===0&&(ti=262144),Vo=o}else Vo=536870912;return o=rr.current,o!==null&&(o.flags|=32),Vo}function wo(o,u,d){(o===Ji&&(Ii===2||Ii===9)||o.cancelPendingCommit!==null)&&(y0(o,0),Mh(o,$n,Vo,!1)),Kt(o,d),((bi&2)===0||o!==Ji)&&(o===Ji&&((bi&2)===0&&(ed|=d),Ur===4&&Mh(o,$n,Vo,!1)),Oc(o))}function SA(o,u,d){if((bi&6)!==0)throw Error(i(327));var g=!d&&(u&127)===0&&(u&o.expiredLanes)===0||Wr(o,u),w=g?X7(o,u):Ix(o,u,!0),T=g;do{if(w===0){m0&&!g&&Mh(o,u,0,!1);break}else{if(d=o.current.alternate,T&&!Y7(d)){w=Ix(o,u,!1),T=!1;continue}if(w===2){if(T=u,o.errorRecoveryDisabledLanes&T)var H=0;else H=o.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){u=H;e:{var te=o;w=gg;var Ee=te.current.memoizedState.isDehydrated;if(Ee&&(y0(te,H).flags|=256),H=Ix(te,H,!1),H!==2){if(Ex&&!Ee){te.errorRecoveryDisabledLanes|=T,ed|=T,w=4;break e}T=xo,xo=w,T!==null&&(xo===null?xo=T:xo.push.apply(xo,T))}w=H}if(T=!1,w!==2)continue}}if(w===1){y0(o,0),Mh(o,u,0,!0);break}e:{switch(g=o,T=w,T){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:Mh(g,u,Vo,!Dh);break e;case 2:xo=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(w=Z1+300-Zt(),10<w)){if(Mh(g,u,Vo,!Dh),In(g,0,!0)!==0)break e;Cu=u,g.timeoutHandle=t4(TA.bind(null,g,d,xo,t2,Tx,u,Vo,ed,_0,Dh,T,"Throttled",-0,0),w);break e}TA(g,d,xo,t2,Tx,u,Vo,ed,_0,Dh,T,null,-0,0)}}break}while(!0);Oc(o)}function TA(o,u,d,g,w,T,H,te,Ee,qe,nt,at,Ge,Ye){if(o.timeoutHandle=-1,at=u.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Va},_A(u,T,at);var Ut=(T&62914560)===T?Z1-Zt():(T&4194048)===T?wA-Zt():0;if(Ut=DF(at,Ut),Ut!==null){Cu=T,o.cancelPendingCommit=Ut(LA.bind(null,o,u,T,d,g,w,H,te,Ee,nt,at,null,Ge,Ye)),Mh(o,T,H,!qe);return}}LA(o,u,T,d,g,w,H,te,Ee)}function Y7(o){for(var u=o;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var w=d[g],T=w.getSnapshot;w=w.value;try{if(!ws(T(),w))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Mh(o,u,d,g){u&=~Sx,u&=~ed,o.suspendedLanes|=u,o.pingedLanes&=~u,g&&(o.warmLanes|=u),g=o.expirationTimes;for(var w=u;0<w;){var T=31-xn(w),H=1<<T;g[T]=-1,w&=~H}d!==0&&_s(o,d,u)}function n2(){return(bi&6)===0?(_g(0),!1):!0}function Rx(){if(Vn!==null){if(Ii===0)var o=Vn.return;else o=Vn,gl=Tc=null,o0(o),ot=null,zt=0,o=Vn;for(;o!==null;)nA(o.alternate,o),o=o.return;Vn=null}}function y0(o,u){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,pF(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Cu=0,Rx(),Ji=o,Vn=d=lo(o.current,null),$n=u,Ii=0,Uo=null,Dh=!1,m0=Wr(o,u),Ex=!1,_0=Vo=Sx=ed=Lh=Ur=0,xo=gg=null,Tx=!1,(u&8)!==0&&(u|=u&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=u;0<g;){var w=31-xn(g),T=1<<w;u|=o[w],g&=~T}return Au=u,zf(),d}function AA(o,u){rn=null,ce.H=og,u===Ce||u===ge?(u=it(),Ii=3):u===ze?(u=it(),Ii=4):Ii=u===ox?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Uo=u,Vn===null&&(Ur=1,W1(o,co(u,o.current)))}function CA(){var o=rr.current;return o===null?!0:($n&4194048)===$n?ri===null:($n&62914560)===$n||($n&536870912)!==0?o===ri:!1}function NA(){var o=ce.H;return ce.H=og,o===null?og:o}function RA(){var o=ce.A;return ce.A=G7,o}function i2(){Ur=4,Dh||($n&4194048)!==$n&&rr.current!==null||(m0=!0),(Lh&134217727)===0&&(ed&134217727)===0||Ji===null||Mh(Ji,$n,Vo,!1)}function Ix(o,u,d){var g=bi;bi|=2;var w=NA(),T=RA();(Ji!==o||$n!==u)&&(t2=null,y0(o,u)),u=!1;var H=Ur;e:do try{if(Ii!==0&&Vn!==null){var te=Vn,Ee=Uo;switch(Ii){case 8:Rx(),H=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(u=!0);var qe=Ii;if(Ii=0,Uo=null,x0(o,te,Ee,qe),d&&m0){H=0;break e}break;default:qe=Ii,Ii=0,Uo=null,x0(o,te,Ee,qe)}}K7(),H=Ur;break}catch(nt){AA(o,nt)}while(!0);return u&&o.shellSuspendCounter++,gl=Tc=null,bi=g,ce.H=w,ce.A=T,Vn===null&&(Ji=null,$n=0,zf()),H}function K7(){for(;Vn!==null;)IA(Vn)}function X7(o,u){var d=bi;bi|=2;var g=NA(),w=RA();Ji!==o||$n!==u?(t2=null,e2=Zt()+500,y0(o,u)):m0=Wr(o,u);e:do try{if(Ii!==0&&Vn!==null){u=Vn;var T=Uo;t:switch(Ii){case 1:Ii=0,Uo=null,x0(o,u,T,1);break;case 2:case 9:if(Me(T)){Ii=0,Uo=null,kA(u);break}u=function(){Ii!==2&&Ii!==9||Ji!==o||(Ii=7),Oc(o)},T.then(u,u);break e;case 3:Ii=7;break e;case 4:Ii=5;break e;case 7:Me(T)?(Ii=0,Uo=null,kA(u)):(Ii=0,Uo=null,x0(o,u,T,7));break;case 5:var H=null;switch(Vn.tag){case 26:H=Vn.memoizedState;case 5:case 27:var te=Vn;if(H?m4(H):te.stateNode.complete){Ii=0,Uo=null;var Ee=te.sibling;if(Ee!==null)Vn=Ee;else{var qe=te.return;qe!==null?(Vn=qe,r2(qe)):Vn=null}break t}}Ii=0,Uo=null,x0(o,u,T,5);break;case 6:Ii=0,Uo=null,x0(o,u,T,6);break;case 8:Rx(),Ur=6;break e;default:throw Error(i(462))}}Q7();break}catch(nt){AA(o,nt)}while(!0);return gl=Tc=null,ce.H=g,ce.A=w,bi=d,Vn!==null?0:(Ji=null,$n=0,zf(),Ur)}function Q7(){for(;Vn!==null&&!Xt();)IA(Vn)}function IA(o){var u=eA(o.alternate,o,Au);o.memoizedProps=o.pendingProps,u===null?r2(o):Vn=u}function kA(o){var u=o,d=u.alternate;switch(u.tag){case 15:case 0:u=YT(d,u,u.pendingProps,u.type,void 0,$n);break;case 11:u=YT(d,u,u.pendingProps,u.type.render,u.ref,$n);break;case 5:o0(u);default:nA(d,u),u=Vn=Wf(u,Au),u=eA(d,u,Au)}o.memoizedProps=o.pendingProps,u===null?r2(o):Vn=u}function x0(o,u,d,g){gl=Tc=null,o0(u),ot=null,zt=0;var w=u.return;try{if(j7(o,w,u,d,$n)){Ur=1,W1(o,co(d,o.current)),Vn=null;return}}catch(T){if(w!==null)throw Vn=w,T;Ur=1,W1(o,co(d,o.current)),Vn=null;return}u.flags&32768?(Un||g===1?o=!0:m0||($n&536870912)!==0?o=!1:(Dh=o=!0,(g===2||g===9||g===3||g===6)&&(g=rr.current,g!==null&&g.tag===13&&(g.flags|=16384))),DA(u,o)):r2(u)}function r2(o){var u=o;do{if((u.flags&32768)!==0){DA(u,Dh);return}o=u.return;var d=z7(u.alternate,u,Au);if(d!==null){Vn=d;return}if(u=u.sibling,u!==null){Vn=u;return}Vn=u=o}while(u!==null);Ur===0&&(Ur=5)}function DA(o,u){do{var d=H7(o.alternate,o);if(d!==null){d.flags&=32767,Vn=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(o=o.sibling,o!==null)){Vn=o;return}Vn=o=d}while(o!==null);Ur=6,Vn=null}function LA(o,u,d,g,w,T,H,te,Ee){o.cancelPendingCommit=null;do s2();while(Cs!==0);if((bi&6)!==0)throw Error(i(327));if(u!==null){if(u===o.current)throw Error(i(177));if(T=u.lanes|u.childLanes,T|=$d,Ua(o,d,T,H,te,Ee),o===Ji&&(Vn=Ji=null,$n=0),v0=u,Ph=o,Cu=d,Ax=T,Cx=w,bA=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,tF(hn,function(){return BA(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=ce.T,ce.T=null,w=ye.p,ye.p=2,H=bi,bi|=4;try{q7(o,u,d)}finally{bi=H,ye.p=w,ce.T=g}}Cs=1,OA(),PA(),MA()}}function OA(){if(Cs===1){Cs=0;var o=Ph,u=v0,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=ce.T,ce.T=null;var g=ye.p;ye.p=2;var w=bi;bi|=4;try{pA(u,o);var T=zx,H=Ul(o.containerInfo),te=T.focusedElem,Ee=T.selectionRange;if(H!==te&&te&&te.ownerDocument&&jl(te.ownerDocument.documentElement,te)){if(Ee!==null&&dl(te)){var qe=Ee.start,nt=Ee.end;if(nt===void 0&&(nt=qe),"selectionStart"in te)te.selectionStart=qe,te.selectionEnd=Math.min(nt,te.value.length);else{var at=te.ownerDocument||document,Ge=at&&at.defaultView||window;if(Ge.getSelection){var Ye=Ge.getSelection(),Ut=te.textContent.length,pn=Math.min(Ee.start,Ut),qi=Ee.end===void 0?pn:Math.min(Ee.end,Ut);!Ye.extend&&pn>qi&&(H=qi,qi=pn,pn=H);var Oe=xh(te,pn),Re=xh(te,qi);if(Oe&&Re&&(Ye.rangeCount!==1||Ye.anchorNode!==Oe.node||Ye.anchorOffset!==Oe.offset||Ye.focusNode!==Re.node||Ye.focusOffset!==Re.offset)){var He=at.createRange();He.setStart(Oe.node,Oe.offset),Ye.removeAllRanges(),pn>qi?(Ye.addRange(He),Ye.extend(Re.node,Re.offset)):(He.setEnd(Re.node,Re.offset),Ye.addRange(He))}}}}for(at=[],Ye=te;Ye=Ye.parentNode;)Ye.nodeType===1&&at.push({element:Ye,left:Ye.scrollLeft,top:Ye.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<at.length;te++){var st=at[te];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}_2=!!Vx,zx=Vx=null}finally{bi=w,ye.p=g,ce.T=d}}o.current=u,Cs=2}}function PA(){if(Cs===2){Cs=0;var o=Ph,u=v0,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=ce.T,ce.T=null;var g=ye.p;ye.p=2;var w=bi;bi|=4;try{cA(o,u.alternate,u)}finally{bi=w,ye.p=g,ce.T=d}}Cs=3}}function MA(){if(Cs===4||Cs===3){Cs=0,qt();var o=Ph,u=v0,d=Cu,g=bA;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Cs=5:(Cs=0,v0=Ph=null,FA(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Oh=null),Si(d),u=u.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(yn,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=ce.T,w=ye.p,ye.p=2,ce.T=null;try{for(var T=o.onRecoverableError,H=0;H<g.length;H++){var te=g[H];T(te.value,{componentStack:te.stack})}}finally{ce.T=u,ye.p=w}}(Cu&3)!==0&&s2(),Oc(o),w=o.pendingLanes,(d&261930)!==0&&(w&42)!==0?o===Nx?mg++:(mg=0,Nx=o):mg=0,_g(0)}}function FA(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Yf(u)))}function s2(){return OA(),PA(),MA(),BA()}function BA(){if(Cs!==5)return!1;var o=Ph,u=Ax;Ax=0;var d=Si(Cu),g=ce.T,w=ye.p;try{ye.p=32>d?32:d,ce.T=null,d=Cx,Cx=null;var T=Ph,H=Cu;if(Cs=0,v0=Ph=null,Cu=0,(bi&6)!==0)throw Error(i(331));var te=bi;if(bi|=4,yA(T.current),mA(T,T.current,H,d),bi=te,_g(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(yn,T)}catch{}return!0}finally{ye.p=w,ce.T=g,FA(o,u)}}function jA(o,u,d){u=co(d,u),u=ax(o.stateNode,u,2),o=kn(o,u,2),o!==null&&(Kt(o,2),Oc(o))}function ki(o,u,d){if(o.tag===3)jA(o,o,d);else for(;u!==null;){if(u.tag===3){jA(u,o,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Oh===null||!Oh.has(g))){o=co(d,o),d=UT(2),g=kn(u,d,2),g!==null&&(VT(d,g,u,o),Kt(g,2),Oc(g));break}}u=u.return}}function kx(o,u,d){var g=o.pingCache;if(g===null){g=o.pingCache=new $7;var w=new Set;g.set(u,w)}else w=g.get(u),w===void 0&&(w=new Set,g.set(u,w));w.has(d)||(Ex=!0,w.add(d),o=J7.bind(null,o,u,d),u.then(o,o))}function J7(o,u,d){var g=o.pingCache;g!==null&&g.delete(u),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Ji===o&&($n&d)===d&&(Ur===4||Ur===3&&($n&62914560)===$n&&300>Zt()-Z1?(bi&2)===0&&y0(o,0):Sx|=d,_0===$n&&(_0=0)),Oc(o)}function UA(o,u){u===0&&(u=ma()),o=zl(o,u),o!==null&&(Kt(o,u),Oc(o))}function Z7(o){var u=o.memoizedState,d=0;u!==null&&(d=u.retryLane),UA(o,d)}function eF(o,u){var d=0;switch(o.tag){case 31:case 13:var g=o.stateNode,w=o.memoizedState;w!==null&&(d=w.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(u),UA(o,d)}function tF(o,u){return Ct(o,u)}var a2=null,w0=null,Dx=!1,o2=!1,Lx=!1,Fh=0;function Oc(o){o!==w0&&o.next===null&&(w0===null?a2=w0=o:w0=w0.next=o),o2=!0,Dx||(Dx=!0,iF())}function _g(o,u){if(!Lx&&o2){Lx=!0;do for(var d=!1,g=a2;g!==null;){if(o!==0){var w=g.pendingLanes;if(w===0)var T=0;else{var H=g.suspendedLanes,te=g.pingedLanes;T=(1<<31-xn(42|o)+1)-1,T&=w&~(H&~te),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,qA(g,T))}else T=$n,T=In(g,g===Ji?T:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(T&3)===0||Wr(g,T)||(d=!0,qA(g,T));g=g.next}while(d);Lx=!1}}function nF(){VA()}function VA(){o2=Dx=!1;var o=0;Fh!==0&&dF()&&(o=Fh);for(var u=Zt(),d=null,g=a2;g!==null;){var w=g.next,T=zA(g,u);T===0?(g.next=null,d===null?a2=w:d.next=w,w===null&&(w0=d)):(d=g,(o!==0||(T&3)!==0)&&(o2=!0)),g=w}Cs!==0&&Cs!==5||_g(o),Fh!==0&&(Fh=0)}function zA(o,u){for(var d=o.suspendedLanes,g=o.pingedLanes,w=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var H=31-xn(T),te=1<<H,Ee=w[H];Ee===-1?((te&d)===0||(te&g)!==0)&&(w[H]=Dr(te,u)):Ee<=u&&(o.expiredLanes|=te),T&=~te}if(u=Ji,d=$n,d=In(o,o===u?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,d===0||o===u&&(Ii===2||Ii===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&At(g),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Wr(o,d)){if(u=d&-d,u===o.callbackPriority)return u;switch(g!==null&&At(g),Si(d)){case 2:case 8:d=Tn;break;case 32:d=hn;break;case 268435456:d=gn;break;default:d=hn}return g=HA.bind(null,o),d=Ct(d,g),o.callbackPriority=u,o.callbackNode=d,u}return g!==null&&g!==null&&At(g),o.callbackPriority=2,o.callbackNode=null,2}function HA(o,u){if(Cs!==0&&Cs!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(s2()&&o.callbackNode!==d)return null;var g=$n;return g=In(o,o===Ji?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(SA(o,g,u),zA(o,Zt()),o.callbackNode!=null&&o.callbackNode===d?HA.bind(null,o):null)}function qA(o,u){if(s2())return null;SA(o,u,!0)}function iF(){gF(function(){(bi&6)!==0?Ct(un,nF):VA()})}function Ox(){if(Fh===0){var o=v;o===0&&(o=tn,tn<<=1,(tn&261888)===0&&(tn=256)),Fh=o}return Fh}function WA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ds(""+o)}function GA(o,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,o.id&&d.setAttribute("form",o.id),u.parentNode.insertBefore(d,u),o=new FormData(o),d.parentNode.removeChild(d),o}function rF(o,u,d,g,w){if(u==="submit"&&d&&d.stateNode===w){var T=WA((w[fe]||null).action),H=g.submitter;H&&(u=(u=H[fe]||null)?WA(u.formAction):H.getAttribute("formAction"),u!==null&&(T=u,H=null));var te=new ss("action","action",null,g,w);o.push({event:te,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Fh!==0){var Ee=H?GA(w,H):new FormData(w);ex(d,{pending:!0,data:Ee,method:w.method,action:T},null,Ee)}}else typeof T=="function"&&(te.preventDefault(),Ee=H?GA(w,H):new FormData(w),ex(d,{pending:!0,data:Ee,method:w.method,action:T},T,Ee))},currentTarget:w}]})}}for(var Px=0;Px<fu.length;Px++){var Mx=fu[Px],sF=Mx.toLowerCase(),aF=Mx[0].toUpperCase()+Mx.slice(1);oo(sF,"on"+aF)}oo(hu,"onAnimationEnd"),oo(Uf,"onAnimationIteration"),oo(Gp,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(D1,"onTransitionRun"),oo(L1,"onTransitionStart"),oo(O1,"onTransitionCancel"),oo($p,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vg));function $A(o,u){u=(u&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],w=g.event;g=g.listeners;e:{var T=void 0;if(u)for(var H=g.length-1;0<=H;H--){var te=g[H],Ee=te.instance,qe=te.currentTarget;if(te=te.listener,Ee!==T&&w.isPropagationStopped())break e;T=te,w.currentTarget=qe;try{T(w)}catch(nt){Vf(nt)}w.currentTarget=null,T=Ee}else for(H=0;H<g.length;H++){if(te=g[H],Ee=te.instance,qe=te.currentTarget,te=te.listener,Ee!==T&&w.isPropagationStopped())break e;T=te,w.currentTarget=qe;try{T(w)}catch(nt){Vf(nt)}w.currentTarget=null,T=Ee}}}}function zn(o,u){var d=u[Fe];d===void 0&&(d=u[Fe]=new Set);var g=o+"__bubble";d.has(g)||(YA(u,o,2,!1),d.add(g))}function Fx(o,u,d){var g=0;u&&(g|=4),YA(d,o,g,u)}var l2="_reactListening"+Math.random().toString(36).slice(2);function Bx(o){if(!o[l2]){o[l2]=!0,ni.forEach(function(d){d!=="selectionchange"&&(oF.has(d)||Fx(d,!1,o),Fx(d,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[l2]||(u[l2]=!0,Fx("selectionchange",!1,u))}}function YA(o,u,d,g){switch(E4(u)){case 2:var w=PF;break;case 8:w=MF;break;default:w=Zx}d=w.bind(null,u,d,o),w=void 0,!Dl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),g?w!==void 0?o.addEventListener(u,d,{capture:!0,passive:w}):o.addEventListener(u,d,!0):w!==void 0?o.addEventListener(u,d,{passive:w}):o.addEventListener(u,d,!1)}function jx(o,u,d,g,w){var T=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var H=g.tag;if(H===3||H===4){var te=g.stateNode.containerInfo;if(te===w)break;if(H===4)for(H=g.return;H!==null;){var Ee=H.tag;if((Ee===3||Ee===4)&&H.stateNode.containerInfo===w)return;H=H.return}for(;te!==null;){if(H=vt(te),H===null)return;if(Ee=H.tag,Ee===5||Ee===6||Ee===26||Ee===27){g=T=H;continue e}te=te.parentNode}}g=g.return}sl(function(){var qe=T,nt=Ls(d),at=[];e:{var Ge=Yp.get(o);if(Ge!==void 0){var Ye=ss,Ut=o;switch(o){case"keypress":if(Js(d)===0)break e;case"keydown":case"keyup":Ye=Bn;break;case"focusin":Ut="focus",Ye=Ha;break;case"focusout":Ut="blur",Ye=Ha;break;case"beforeblur":case"afterblur":Ye=Ha;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=so;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=O;break;case hu:case Uf:case Gp:Ye=C;break;case $p:Ye=re;break;case"scroll":case"scrollend":Ye=al;break;case"wheel":Ye=We;break;case"copy":case"cut":case"paste":Ye=me;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=Ti;break;case"toggle":case"beforetoggle":Ye=wn}var pn=(u&4)!==0,qi=!pn&&(o==="scroll"||o==="scrollend"),Oe=pn?Ge!==null?Ge+"Capture":null:Ge;pn=[];for(var Re=qe,He;Re!==null;){var st=Re;if(He=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||He===null||Oe===null||(st=Yr(Re,Oe),st!=null&&pn.push(yg(Re,st,He))),qi)break;Re=Re.return}0<pn.length&&(Ge=new Ye(Ge,Ut,null,d,nt),at.push({event:Ge,listeners:pn}))}}if((u&7)===0){e:{if(Ge=o==="mouseover"||o==="pointerover",Ye=o==="mouseout"||o==="pointerout",Ge&&d!==Oo&&(Ut=d.relatedTarget||d.fromElement)&&(vt(Ut)||Ut[ve]))break e;if((Ye||Ge)&&(Ge=nt.window===nt?nt:(Ge=nt.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,Ye?(Ut=d.relatedTarget||d.toElement,Ye=qe,Ut=Ut?vt(Ut):null,Ut!==null&&(qi=s(Ut),pn=Ut.tag,Ut!==qi||pn!==5&&pn!==27&&pn!==6)&&(Ut=null)):(Ye=null,Ut=qe),Ye!==Ut)){if(pn=yc,st="onMouseLeave",Oe="onMouseEnter",Re="mouse",(o==="pointerout"||o==="pointerover")&&(pn=Ti,st="onPointerLeave",Oe="onPointerEnter",Re="pointer"),qi=Ye==null?Ge:gt(Ye),He=Ut==null?Ge:gt(Ut),Ge=new pn(st,Re+"leave",Ye,d,nt),Ge.target=qi,Ge.relatedTarget=He,st=null,vt(nt)===qe&&(pn=new pn(Oe,Re+"enter",Ut,d,nt),pn.target=He,pn.relatedTarget=qi,st=pn),qi=st,Ye&&Ut)t:{for(pn=lF,Oe=Ye,Re=Ut,He=0,st=Oe;st;st=pn(st))He++;st=0;for(var cn=Re;cn;cn=pn(cn))st++;for(;0<He-st;)Oe=pn(Oe),He--;for(;0<st-He;)Re=pn(Re),st--;for(;He--;){if(Oe===Re||Re!==null&&Oe===Re.alternate){pn=Oe;break t}Oe=pn(Oe),Re=pn(Re)}pn=null}else pn=null;Ye!==null&&KA(at,Ge,Ye,pn,!1),Ut!==null&&qi!==null&&KA(at,qi,Ut,pn,!0)}}e:{if(Ge=qe?gt(qe):window,Ye=Ge.nodeName&&Ge.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&Ge.type==="file")var mi=wc;else if(Bf(Ge))if(xa)mi=hl;else{mi=Cr;var Gt=vh}else Ye=Ge.nodeName,!Ye||Ye.toLowerCase()!=="input"||Ge.type!=="checkbox"&&Ge.type!=="radio"?qe&&mc(qe.elementType)&&(mi=wc):mi=Gd;if(mi&&(mi=mi(o,qe))){Wa(at,mi,d,nt);break e}Gt&&Gt(o,Ge,qe),o==="focusout"&&qe&&Ge.type==="number"&&qe.memoizedProps.value!=null&&ru(Ge,"number",Ge.value)}switch(Gt=qe?gt(qe):window,o){case"focusin":(Bf(Gt)||Gt.contentEditable==="true")&&(Ga=Gt,Vl=qe,Os=null);break;case"focusout":Os=Vl=Ga=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,hi(at,d,nt);break;case"selectionchange":if(uu)break;case"keydown":case"keyup":hi(at,d,nt)}var Ln;if(On)e:{switch(o){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else ll?qa(o,d)&&(Yn="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Yn="onCompositionStart");Yn&&(ys&&d.locale!=="ko"&&(ll||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&ll&&(Ln=lu()):(Qs=nt,Ll="value"in Qs?Qs.value:Qs.textContent,ll=!0)),Gt=c2(qe,Yn),0<Gt.length&&(Yn=new De(Yn,o,null,d,nt),at.push({event:Yn,listeners:Gt}),Ln?Yn.data=Ln:(Ln=ol(d),Ln!==null&&(Yn.data=Ln)))),(Ln=as?ta(o,d):Pl(o,d))&&(Yn=c2(qe,"onBeforeInput"),0<Yn.length&&(Gt=new De("onBeforeInput","beforeinput",null,d,nt),at.push({event:Gt,listeners:Yn}),Gt.data=Ln)),rF(at,o,qe,d,nt)}$A(at,u)})}function yg(o,u,d){return{instance:o,listener:u,currentTarget:d}}function c2(o,u){for(var d=u+"Capture",g=[];o!==null;){var w=o,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=Yr(o,d),w!=null&&g.unshift(yg(o,w,T)),w=Yr(o,u),w!=null&&g.push(yg(o,w,T))),o.tag===3)return g;o=o.return}return[]}function lF(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function KA(o,u,d,g,w){for(var T=u._reactName,H=[];d!==null&&d!==g;){var te=d,Ee=te.alternate,qe=te.stateNode;if(te=te.tag,Ee!==null&&Ee===g)break;te!==5&&te!==26&&te!==27||qe===null||(Ee=qe,w?(qe=Yr(d,T),qe!=null&&H.unshift(yg(d,qe,Ee))):w||(qe=Yr(d,T),qe!=null&&H.push(yg(d,qe,Ee)))),d=d.return}H.length!==0&&o.push({event:u,listeners:H})}var cF=/\r\n?/g,uF=/\u0000|\uFFFD/g;function XA(o){return(typeof o=="string"?o:""+o).replace(cF,`
`).replace(uF,"")}function QA(o,u){return u=XA(u),XA(o)===u}function Hi(o,u,d,g,w,T){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||$r(o,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&$r(o,""+g);break;case"className":rs(o,"class",g);break;case"tabIndex":rs(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(o,d,g);break;case"style":ou(o,g,T);break;case"data":if(u!=="object"){rs(o,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){o.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=Ds(""+g),o.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(u!=="input"&&Hi(o,u,"name",w.name,w,null),Hi(o,u,"formEncType",w.formEncType,w,null),Hi(o,u,"formMethod",w.formMethod,w,null),Hi(o,u,"formTarget",w.formTarget,w,null)):(Hi(o,u,"encType",w.encType,w,null),Hi(o,u,"method",w.method,w,null),Hi(o,u,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=Ds(""+g),o.setAttribute(d,g);break;case"onClick":g!=null&&(o.onclick=Va);break;case"onScroll":g!=null&&zn("scroll",o);break;case"onScrollEnd":g!=null&&zn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(w.children!=null)throw Error(i(60));o.innerHTML=d}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}d=Ds(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""+g):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":g===!0?o.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,g):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(d,g):o.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(d):o.setAttribute(d,g);break;case"popover":zn("beforetoggle",o),zn("toggle",o),Yi(o,"popover",g);break;case"xlinkActuate":pr(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":pr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":pr(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":pr(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":pr(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":pr(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":pr(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":pr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":pr(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Yi(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=_c.get(d)||d,Yi(o,d,g))}}function Ux(o,u,d,g,w,T){switch(d){case"style":ou(o,g,T);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(w.children!=null)throw Error(i(60));o.innerHTML=d}}break;case"children":typeof g=="string"?$r(o,g):(typeof g=="number"||typeof g=="bigint")&&$r(o,""+g);break;case"onScroll":g!=null&&zn("scroll",o);break;case"onScrollEnd":g!=null&&zn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),u=d.slice(2,w?d.length-7:void 0),T=o[fe]||null,T=T!=null?T[d]:null,typeof T=="function"&&o.removeEventListener(u,T,w),typeof g=="function")){typeof T!="function"&&T!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(u,g,w);break e}d in o?o[d]=g:g===!0?o.setAttribute(d,""):Yi(o,d,g)}}}function aa(o,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zn("error",o),zn("load",o);var g=!1,w=!1,T;for(T in d)if(d.hasOwnProperty(T)){var H=d[T];if(H!=null)switch(T){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Hi(o,u,T,H,d,null)}}w&&Hi(o,u,"srcSet",d.srcSet,d,null),g&&Hi(o,u,"src",d.src,d,null);return;case"input":zn("invalid",o);var te=T=H=w=null,Ee=null,qe=null;for(g in d)if(d.hasOwnProperty(g)){var nt=d[g];if(nt!=null)switch(g){case"name":w=nt;break;case"type":H=nt;break;case"checked":Ee=nt;break;case"defaultChecked":qe=nt;break;case"value":T=nt;break;case"defaultValue":te=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,u));break;default:Hi(o,u,g,nt,d,null)}}gh(o,T,te,Ee,qe,H,w,!1);return;case"select":zn("invalid",o),g=H=T=null;for(w in d)if(d.hasOwnProperty(w)&&(te=d[w],te!=null))switch(w){case"value":T=te;break;case"defaultValue":H=te;break;case"multiple":g=te;default:Hi(o,u,w,te,d,null)}u=T,d=H,o.multiple=!!g,u!=null?vs(o,!!g,u,!1):d!=null&&vs(o,!!g,d,!0);return;case"textarea":zn("invalid",o),T=w=g=null;for(H in d)if(d.hasOwnProperty(H)&&(te=d[H],te!=null))switch(H){case"value":g=te;break;case"defaultValue":w=te;break;case"children":T=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(91));break;default:Hi(o,u,H,te,d,null)}Do(o,g,w,T);return;case"option":for(Ee in d)if(d.hasOwnProperty(Ee)&&(g=d[Ee],g!=null))switch(Ee){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Hi(o,u,Ee,g,d,null)}return;case"dialog":zn("beforetoggle",o),zn("toggle",o),zn("cancel",o),zn("close",o);break;case"iframe":case"object":zn("load",o);break;case"video":case"audio":for(g=0;g<vg.length;g++)zn(vg[g],o);break;case"image":zn("error",o),zn("load",o);break;case"details":zn("toggle",o);break;case"embed":case"source":case"link":zn("error",o),zn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qe in d)if(d.hasOwnProperty(qe)&&(g=d[qe],g!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Hi(o,u,qe,g,d,null)}return;default:if(mc(u)){for(nt in d)d.hasOwnProperty(nt)&&(g=d[nt],g!==void 0&&Ux(o,u,nt,g,d,void 0));return}}for(te in d)d.hasOwnProperty(te)&&(g=d[te],g!=null&&Hi(o,u,te,g,d,null))}function hF(o,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,H=null,te=null,Ee=null,qe=null,nt=null;for(Ye in d){var at=d[Ye];if(d.hasOwnProperty(Ye)&&at!=null)switch(Ye){case"checked":break;case"value":break;case"defaultValue":Ee=at;default:g.hasOwnProperty(Ye)||Hi(o,u,Ye,null,g,at)}}for(var Ge in g){var Ye=g[Ge];if(at=d[Ge],g.hasOwnProperty(Ge)&&(Ye!=null||at!=null))switch(Ge){case"type":T=Ye;break;case"name":w=Ye;break;case"checked":qe=Ye;break;case"defaultChecked":nt=Ye;break;case"value":H=Ye;break;case"defaultValue":te=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(i(137,u));break;default:Ye!==at&&Hi(o,u,Ge,Ye,g,at)}}Il(o,H,te,Ee,qe,nt,T,w);return;case"select":Ye=H=te=Ge=null;for(T in d)if(Ee=d[T],d.hasOwnProperty(T)&&Ee!=null)switch(T){case"value":break;case"multiple":Ye=Ee;default:g.hasOwnProperty(T)||Hi(o,u,T,null,g,Ee)}for(w in g)if(T=g[w],Ee=d[w],g.hasOwnProperty(w)&&(T!=null||Ee!=null))switch(w){case"value":Ge=T;break;case"defaultValue":te=T;break;case"multiple":H=T;default:T!==Ee&&Hi(o,u,w,T,g,Ee)}u=te,d=H,g=Ye,Ge!=null?vs(o,!!d,Ge,!1):!!g!=!!d&&(u!=null?vs(o,!!d,u,!0):vs(o,!!d,d?[]:"",!1));return;case"textarea":Ye=Ge=null;for(te in d)if(w=d[te],d.hasOwnProperty(te)&&w!=null&&!g.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:Hi(o,u,te,null,g,w)}for(H in g)if(w=g[H],T=d[H],g.hasOwnProperty(H)&&(w!=null||T!=null))switch(H){case"value":Ge=w;break;case"defaultValue":Ye=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==T&&Hi(o,u,H,w,g,T)}su(o,Ge,Ye);return;case"option":for(var Ut in d)if(Ge=d[Ut],d.hasOwnProperty(Ut)&&Ge!=null&&!g.hasOwnProperty(Ut))switch(Ut){case"selected":o.selected=!1;break;default:Hi(o,u,Ut,null,g,Ge)}for(Ee in g)if(Ge=g[Ee],Ye=d[Ee],g.hasOwnProperty(Ee)&&Ge!==Ye&&(Ge!=null||Ye!=null))switch(Ee){case"selected":o.selected=Ge&&typeof Ge!="function"&&typeof Ge!="symbol";break;default:Hi(o,u,Ee,Ge,g,Ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pn in d)Ge=d[pn],d.hasOwnProperty(pn)&&Ge!=null&&!g.hasOwnProperty(pn)&&Hi(o,u,pn,null,g,Ge);for(qe in g)if(Ge=g[qe],Ye=d[qe],g.hasOwnProperty(qe)&&Ge!==Ye&&(Ge!=null||Ye!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(i(137,u));break;default:Hi(o,u,qe,Ge,g,Ye)}return;default:if(mc(u)){for(var qi in d)Ge=d[qi],d.hasOwnProperty(qi)&&Ge!==void 0&&!g.hasOwnProperty(qi)&&Ux(o,u,qi,void 0,g,Ge);for(nt in g)Ge=g[nt],Ye=d[nt],!g.hasOwnProperty(nt)||Ge===Ye||Ge===void 0&&Ye===void 0||Ux(o,u,nt,Ge,g,Ye);return}}for(var Oe in d)Ge=d[Oe],d.hasOwnProperty(Oe)&&Ge!=null&&!g.hasOwnProperty(Oe)&&Hi(o,u,Oe,null,g,Ge);for(at in g)Ge=g[at],Ye=d[at],!g.hasOwnProperty(at)||Ge===Ye||Ge==null&&Ye==null||Hi(o,u,at,Ge,g,Ye)}function JA(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fF(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var w=d[g],T=w.transferSize,H=w.initiatorType,te=w.duration;if(T&&te&&JA(H)){for(H=0,te=w.responseEnd,g+=1;g<d.length;g++){var Ee=d[g],qe=Ee.startTime;if(qe>te)break;var nt=Ee.transferSize,at=Ee.initiatorType;nt&&JA(at)&&(Ee=Ee.responseEnd,H+=nt*(Ee<te?1:(te-qe)/(Ee-qe)))}if(--g,u+=8*(T+H)/(w.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Vx=null,zx=null;function u2(o){return o.nodeType===9?o:o.ownerDocument}function ZA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e4(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function Hx(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var qx=null;function dF(){var o=window.event;return o&&o.type==="popstate"?o===qx?!1:(qx=o,!0):(qx=null,!1)}var t4=typeof setTimeout=="function"?setTimeout:void 0,pF=typeof clearTimeout=="function"?clearTimeout:void 0,n4=typeof Promise=="function"?Promise:void 0,gF=typeof queueMicrotask=="function"?queueMicrotask:typeof n4<"u"?function(o){return n4.resolve(null).then(o).catch(mF)}:t4;function mF(o){setTimeout(function(){throw o})}function Bh(o){return o==="head"}function i4(o,u){var d=u,g=0;do{var w=d.nextSibling;if(o.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(g===0){o.removeChild(w),T0(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")xg(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,xg(d);for(var T=d.firstChild;T;){var H=T.nextSibling,te=T.nodeName;T[Ve]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=H}}else d==="body"&&xg(o.ownerDocument.body);d=w}while(d);T0(u)}function r4(o,u){var d=o;o=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=g}while(d)}function Wx(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Wx(d),ft(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function _F(o,u,d,g){for(;o.nodeType===1;){var w=d;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Ve])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=vl(o.nextSibling),o===null)break}return null}function vF(o,u,d){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=vl(o.nextSibling),o===null))return null;return o}function s4(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=vl(o.nextSibling),o===null))return null;return o}function Gx(o){return o.data==="$?"||o.data==="$~"}function $x(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function yF(o,u){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function vl(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var Yx=null;function a4(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(u===0)return vl(o.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}o=o.nextSibling}return null}function o4(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return o;u--}else d!=="/$"&&d!=="/&"||u++}o=o.previousSibling}return null}function l4(o,u,d){switch(u=u2(d),o){case"html":if(o=u.documentElement,!o)throw Error(i(452));return o;case"head":if(o=u.head,!o)throw Error(i(453));return o;case"body":if(o=u.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function xg(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);ft(o)}var yl=new Map,c4=new Set;function h2(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Nu=ye.d;ye.d={f:xF,r:wF,D:bF,C:EF,L:SF,m:TF,X:CF,S:AF,M:NF};function xF(){var o=Nu.f(),u=n2();return o||u}function wF(o){var u=bt(o);u!==null&&u.tag===5&&u.type==="form"?AT(u):Nu.r(o)}var b0=typeof document>"u"?null:document;function u4(o,u,d){var g=b0;if(g&&typeof u=="string"&&u){var w=gr(u);w='link[rel="'+o+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),c4.has(w)||(c4.add(w),o={rel:o,crossOrigin:d,href:u},g.querySelector(w)===null&&(u=g.createElement("link"),aa(u,"link",o),Lt(u),g.head.appendChild(u)))}}function bF(o){Nu.D(o),u4("dns-prefetch",o,null)}function EF(o,u){Nu.C(o,u),u4("preconnect",o,u)}function SF(o,u,d){Nu.L(o,u,d);var g=b0;if(g&&o&&u){var w='link[rel="preload"][as="'+gr(u)+'"]';u==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+gr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+gr(d.imageSizes)+'"]')):w+='[href="'+gr(o)+'"]';var T=w;switch(u){case"style":T=E0(o);break;case"script":T=S0(o)}yl.has(T)||(o=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:o,as:u},d),yl.set(T,o),g.querySelector(w)!==null||u==="style"&&g.querySelector(wg(T))||u==="script"&&g.querySelector(bg(T))||(u=g.createElement("link"),aa(u,"link",o),Lt(u),g.head.appendChild(u)))}}function TF(o,u){Nu.m(o,u);var d=b0;if(d&&o){var g=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+gr(g)+'"][href="'+gr(o)+'"]',T=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=S0(o)}if(!yl.has(T)&&(o=p({rel:"modulepreload",href:o},u),yl.set(T,o),d.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(bg(T)))return}g=d.createElement("link"),aa(g,"link",o),Lt(g),d.head.appendChild(g)}}}function AF(o,u,d){Nu.S(o,u,d);var g=b0;if(g&&o){var w=wt(g).hoistableStyles,T=E0(o);u=u||"default";var H=w.get(T);if(!H){var te={loading:0,preload:null};if(H=g.querySelector(wg(T)))te.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},d),(d=yl.get(T))&&Kx(o,d);var Ee=H=g.createElement("link");Lt(Ee),aa(Ee,"link",o),Ee._p=new Promise(function(qe,nt){Ee.onload=qe,Ee.onerror=nt}),Ee.addEventListener("load",function(){te.loading|=1}),Ee.addEventListener("error",function(){te.loading|=2}),te.loading|=4,f2(H,u,g)}H={type:"stylesheet",instance:H,count:1,state:te},w.set(T,H)}}}function CF(o,u){Nu.X(o,u);var d=b0;if(d&&o){var g=wt(d).hoistableScripts,w=S0(o),T=g.get(w);T||(T=d.querySelector(bg(w)),T||(o=p({src:o,async:!0},u),(u=yl.get(w))&&Xx(o,u),T=d.createElement("script"),Lt(T),aa(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(w,T))}}function NF(o,u){Nu.M(o,u);var d=b0;if(d&&o){var g=wt(d).hoistableScripts,w=S0(o),T=g.get(w);T||(T=d.querySelector(bg(w)),T||(o=p({src:o,async:!0,type:"module"},u),(u=yl.get(w))&&Xx(o,u),T=d.createElement("script"),Lt(T),aa(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(w,T))}}function h4(o,u,d,g){var w=(w=ne.current)?h2(w):null;if(!w)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=E0(d.href),d=wt(w).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=E0(d.href);var T=wt(w).hoistableStyles,H=T.get(o);if(H||(w=w.ownerDocument||w,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,H),(T=w.querySelector(wg(o)))&&!T._p&&(H.instance=T,H.state.loading=5),yl.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},yl.set(o,d),T||RF(w,o,d,H.state))),u&&g===null)throw Error(i(528,""));return H}if(u&&g!==null)throw Error(i(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=S0(d),d=wt(w).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function E0(o){return'href="'+gr(o)+'"'}function wg(o){return'link[rel="stylesheet"]['+o+"]"}function f4(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function RF(o,u,d,g){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=o.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),aa(u,"link",d),Lt(u),o.head.appendChild(u))}function S0(o){return'[src="'+gr(o)+'"]'}function bg(o){return"script[async]"+o}function d4(o,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=o.querySelector('style[data-href~="'+gr(d.href)+'"]');if(g)return u.instance=g,Lt(g),g;var w=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Lt(g),aa(g,"style",w),f2(g,d.precedence,o),u.instance=g;case"stylesheet":w=E0(d.href);var T=o.querySelector(wg(w));if(T)return u.state.loading|=4,u.instance=T,Lt(T),T;g=f4(d),(w=yl.get(w))&&Kx(g,w),T=(o.ownerDocument||o).createElement("link"),Lt(T);var H=T;return H._p=new Promise(function(te,Ee){H.onload=te,H.onerror=Ee}),aa(T,"link",g),u.state.loading|=4,f2(T,d.precedence,o),u.instance=T;case"script":return T=S0(d.src),(w=o.querySelector(bg(T)))?(u.instance=w,Lt(w),w):(g=d,(w=yl.get(T))&&(g=p({},d),Xx(g,w)),o=o.ownerDocument||o,w=o.createElement("script"),Lt(w),aa(w,"link",g),o.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,f2(g,d.precedence,o));return u.instance}function f2(o,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,T=w,H=0;H<g.length;H++){var te=g[H];if(te.dataset.precedence===u)T=te;else if(T!==w)break}T?T.parentNode.insertBefore(o,T.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(o,u.firstChild))}function Kx(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Xx(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var d2=null;function p4(o,u,d){if(d2===null){var g=new Map,w=d2=new Map;w.set(d,g)}else w=d2,g=w.get(d),g||(g=new Map,w.set(d,g));if(g.has(o))return g;for(g.set(o,null),d=d.getElementsByTagName(o),w=0;w<d.length;w++){var T=d[w];if(!(T[Ve]||T[le]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var H=T.getAttribute(u)||"";H=o+H;var te=g.get(H);te?te.push(T):g.set(H,[T])}}return g}function g4(o,u,d){o=o.ownerDocument||o,o.head.insertBefore(d,u==="title"?o.querySelector("head > title"):null)}function IF(o,u,d){if(d===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function m4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function kF(o,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=E0(g.href),T=u.querySelector(wg(w));if(T){u=T._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=p2.bind(o),u.then(o,o)),d.state.loading|=4,d.instance=T,Lt(T);return}T=u.ownerDocument||u,g=f4(g),(w=yl.get(w))&&Kx(g,w),T=T.createElement("link"),Lt(T);var H=T;H._p=new Promise(function(te,Ee){H.onload=te,H.onerror=Ee}),aa(T,"link",g),d.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=p2.bind(o),u.addEventListener("load",d),u.addEventListener("error",d))}}var Qx=0;function DF(o,u){return o.stylesheets&&o.count===0&&m2(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var g=setTimeout(function(){if(o.stylesheets&&m2(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+u);0<o.imgBytes&&Qx===0&&(Qx=62500*fF());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&m2(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>Qx?50:800)+u);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(w)}}:null}function p2(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)m2(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var g2=null;function m2(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,g2=new Map,u.forEach(LF,o),g2=null,p2.call(o))}function LF(o,u){if(!(u.state.loading&4)){var d=g2.get(o);if(d)var g=d.get(null);else{d=new Map,g2.set(o,d);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var H=w[T];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(d.set(H.dataset.precedence,H),g=H)}g&&d.set(null,g)}w=u.instance,H=w.getAttribute("data-precedence"),T=d.get(H)||g,T===g&&d.set(null,w),d.set(H,w),this.count++,g=p2.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),T?T.parentNode.insertBefore(w,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),u.state.loading|=4}}var Eg={$$typeof:L,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function OF(o,u,d,g,w,T,H,te,Ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function _4(o,u,d,g,w,T,H,te,Ee,qe,nt,at){return o=new OF(o,u,d,H,Ee,qe,nt,at,te),u=1,T===!0&&(u|=24),T=Ms(3,null,null,u),o.current=T,T.stateNode=o,u=Ah(),u.refCount++,o.pooledCache=u,u.refCount++,T.memoizedState={element:g,isDehydrated:d,cache:u},Tt(T),o}function v4(o){return o?(o=bs,o):bs}function y4(o,u,d,g,w,T){w=v4(w),g.context===null?g.context=w:g.pendingContext=w,g=dn(u),g.payload={element:d},T=T===void 0?null:T,T!==null&&(g.callback=T),d=kn(o,g,u),d!==null&&(wo(d,o,u),xi(d,o,u))}function x4(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<u?d:u}}function Jx(o,u){x4(o,u),(o=o.alternate)&&x4(o,u)}function w4(o){if(o.tag===13||o.tag===31){var u=zl(o,67108864);u!==null&&wo(u,o,67108864),Jx(o,67108864)}}function b4(o){if(o.tag===13||o.tag===31){var u=zo();u=di(u);var d=zl(o,u);d!==null&&wo(d,o,u),Jx(o,u)}}var _2=!0;function PF(o,u,d,g){var w=ce.T;ce.T=null;var T=ye.p;try{ye.p=2,Zx(o,u,d,g)}finally{ye.p=T,ce.T=w}}function MF(o,u,d,g){var w=ce.T;ce.T=null;var T=ye.p;try{ye.p=8,Zx(o,u,d,g)}finally{ye.p=T,ce.T=w}}function Zx(o,u,d,g){if(_2){var w=e5(g);if(w===null)jx(o,u,g,v2,d),S4(o,g);else if(BF(w,o,u,d,g))g.stopPropagation();else if(S4(o,g),u&4&&-1<FF.indexOf(o)){for(;w!==null;){var T=bt(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var H=Mt(T.pendingLanes);if(H!==0){var te=T;for(te.pendingLanes|=2,te.entangledLanes|=2;H;){var Ee=1<<31-xn(H);te.entanglements[1]|=Ee,H&=~Ee}Oc(T),(bi&6)===0&&(e2=Zt()+500,_g(0))}}break;case 31:case 13:te=zl(T,2),te!==null&&wo(te,T,2),n2(),Jx(T,2)}if(T=e5(g),T===null&&jx(o,u,g,v2,d),T===w)break;w=T}w!==null&&g.stopPropagation()}else jx(o,u,g,null,d)}}function e5(o){return o=Ls(o),t5(o)}var v2=null;function t5(o){if(v2=null,o=vt(o),o!==null){var u=s(o);if(u===null)o=null;else{var d=u.tag;if(d===13){if(o=a(u),o!==null)return o;o=null}else if(d===31){if(o=l(u),o!==null)return o;o=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return v2=o,null}function E4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case un:return 2;case Tn:return 8;case hn:case Bt:return 32;case gn:return 268435456;default:return 32}default:return 32}}var n5=!1,jh=null,Uh=null,Vh=null,Sg=new Map,Tg=new Map,zh=[],FF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S4(o,u){switch(o){case"focusin":case"focusout":jh=null;break;case"dragenter":case"dragleave":Uh=null;break;case"mouseover":case"mouseout":Vh=null;break;case"pointerover":case"pointerout":Sg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tg.delete(u.pointerId)}}function Ag(o,u,d,g,w,T){return o===null||o.nativeEvent!==T?(o={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[w]},u!==null&&(u=bt(u),u!==null&&w4(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function BF(o,u,d,g,w){switch(u){case"focusin":return jh=Ag(jh,o,u,d,g,w),!0;case"dragenter":return Uh=Ag(Uh,o,u,d,g,w),!0;case"mouseover":return Vh=Ag(Vh,o,u,d,g,w),!0;case"pointerover":var T=w.pointerId;return Sg.set(T,Ag(Sg.get(T)||null,o,u,d,g,w)),!0;case"gotpointercapture":return T=w.pointerId,Tg.set(T,Ag(Tg.get(T)||null,o,u,d,g,w)),!0}return!1}function T4(o){var u=vt(o.target);if(u!==null){var d=s(u);if(d!==null){if(u=d.tag,u===13){if(u=a(d),u!==null){o.blockedOn=u,pe(o.priority,function(){b4(d)});return}}else if(u===31){if(u=l(d),u!==null){o.blockedOn=u,pe(o.priority,function(){b4(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function y2(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var d=e5(o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);Oo=g,d.target.dispatchEvent(g),Oo=null}else return u=bt(d),u!==null&&w4(u),o.blockedOn=d,!1;u.shift()}return!0}function A4(o,u,d){y2(o)&&d.delete(u)}function jF(){n5=!1,jh!==null&&y2(jh)&&(jh=null),Uh!==null&&y2(Uh)&&(Uh=null),Vh!==null&&y2(Vh)&&(Vh=null),Sg.forEach(A4),Tg.forEach(A4)}function x2(o,u){o.blockedOn===u&&(o.blockedOn=null,n5||(n5=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jF)))}var w2=null;function C4(o){w2!==o&&(w2=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){w2===o&&(w2=null);for(var u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],w=o[u+2];if(typeof g!="function"){if(t5(g||d)===null)continue;break}var T=bt(d);T!==null&&(o.splice(u,3),u-=3,ex(T,{pending:!0,data:w,method:d.method,action:g},g,w))}}))}function T0(o){function u(Ee){return x2(Ee,o)}jh!==null&&x2(jh,o),Uh!==null&&x2(Uh,o),Vh!==null&&x2(Vh,o),Sg.forEach(u),Tg.forEach(u);for(var d=0;d<zh.length;d++){var g=zh[d];g.blockedOn===o&&(g.blockedOn=null)}for(;0<zh.length&&(d=zh[0],d.blockedOn===null);)T4(d),d.blockedOn===null&&zh.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var w=d[g],T=d[g+1],H=w[fe]||null;if(typeof T=="function")H||C4(d);else if(H){var te=null;if(T&&T.hasAttribute("formAction")){if(w=T,H=T[fe]||null)te=H.formAction;else if(t5(w)!==null)continue}else te=H.action;typeof te=="function"?d[g+1]=te:(d.splice(g,3),g-=3),C4(d)}}}function N4(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(H){return w=H})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function i5(o){this._internalRoot=o}b2.prototype.render=i5.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(i(409));var d=u.current,g=zo();y4(d,g,o,u,null,null)},b2.prototype.unmount=i5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;y4(o.current,2,null,o,null,null),n2(),u[ve]=null}};function b2(o){this._internalRoot=o}b2.prototype.unstable_scheduleHydration=function(o){if(o){var u=J();o={blockedOn:null,target:o,priority:u};for(var d=0;d<zh.length&&u!==0&&u<zh[d].priority;d++);zh.splice(d,0,o),d===0&&T4(o)}};var R4=e.version;if(R4!=="19.2.0")throw Error(i(527,R4,"19.2.0"));ye.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=h(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var UF={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E2.isDisabled&&E2.supportsFiber)try{yn=E2.inject(UF),$t=E2}catch{}}return Ng.createRoot=function(o,u){if(!r(o))throw Error(i(299));var d=!1,g="",w=MT,T=FT,H=BT;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError)),u=_4(o,1,!1,null,null,d,g,null,w,T,H,N4),o[ve]=u.current,Bx(o),new i5(u)},Ng.hydrateRoot=function(o,u,d){if(!r(o))throw Error(i(299));var g=!1,w="",T=MT,H=FT,te=BT,Ee=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(H=d.onCaughtError),d.onRecoverableError!==void 0&&(te=d.onRecoverableError),d.formState!==void 0&&(Ee=d.formState)),u=_4(o,1,!0,u,d??null,g,w,Ee,T,H,te,N4),u.context=v4(null),d=u.current,g=zo(),g=di(g),w=dn(g),w.callback=null,kn(d,w,g),d=g,u.current.lanes=d,Kt(u,d),Oc(u),o[ve]=u.current,Bx(o),new b2(u)},Ng.version="19.2.0",Ng}var j4;function XF(){if(j4)return a5.exports;j4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),a5.exports=KF(),a5.exports}var QF=XF();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U4="popstate";function JF(n={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Aw("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Tm(r)}return e9(e,t,null,n)}function Er(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZF(){return Math.random().toString(36).substring(2,10)}function V4(n,e){return{usr:n.state,key:n.key,idx:e}}function Aw(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ap(e):e,state:t,key:e&&e.key||i||ZF()}}function Tm({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ap(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function e9(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",c=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let E=f(),A=E==null?null:E-h;h=E,c&&c({action:l,location:x.location,delta:A})}function _(E,A){l="PUSH";let P=Aw(x.location,E,A);h=f()+1;let L=V4(P,h),j=x.createHref(P);try{a.pushState(L,"",j)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;r.location.assign(j)}s&&c&&c({action:l,location:x.location,delta:1})}function m(E,A){l="REPLACE";let P=Aw(x.location,E,A);h=f();let L=V4(P,h),j=x.createHref(P);a.replaceState(L,"",j),s&&c&&c({action:l,location:x.location,delta:0})}function b(E){return t9(E)}let x={get action(){return l},get location(){return n(r,a)},listen(E){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(U4,p),c=E,()=>{r.removeEventListener(U4,p),c=null}},createHref(E){return e(r,E)},createURL:b,encodeLocation(E){let A=b(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:m,go(E){return a.go(E)}};return x}function t9(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Er(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Tm(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function VI(n,e,t="/"){return n9(n,e,t,!1)}function n9(n,e,t,i){let r=typeof e=="string"?Ap(e):e,s=Ju(r.pathname||"/",t);if(s==null)return null;let a=zI(n);i9(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=p9(s);l=f9(a[c],h,i)}return l}function zI(n,e=[],t=[],i="",r=!1){let s=(a,l,c=r,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&c)return;Er(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let p=Wu([i,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(Er(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),zI(a.children,e,_,p,c)),!(a.path==null&&!a.index)&&e.push({path:p,score:u9(p,a.index),routesMeta:_})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let c of HI(a.path))s(a,l,!0,c)}),e}function HI(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=HI(i.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&l.push(...a),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function i9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:h9(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var r9=/^:[\w-]+$/,s9=3,a9=2,o9=1,l9=10,c9=-2,z4=n=>n==="*";function u9(n,e){let t=n.split("/"),i=t.length;return t.some(z4)&&(i+=c9),e&&(i+=a9),t.filter(r=>!z4(r)).reduce((r,s)=>r+(r9.test(s)?s9:s===""?o9:l9),i)}function h9(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function f9(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let l=0;l<i.length;++l){let c=i[l],h=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=D_({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),_=c.route;if(!p&&h&&t&&!i[i.length-1].route.index&&(p=D_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Wu([s,p.pathname]),pathnameBase:v9(Wu([s,p.pathnameBase])),route:_}),p.pathnameBase!=="/"&&(s=Wu([s,p.pathnameBase]))}return a}function D_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=d9(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:p},_)=>{if(f==="*"){let b=l[_]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const m=l[_];return p&&!m?h[f]=void 0:h[f]=(m||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:n}}function d9(n,e=!1,t=!0){cc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function p9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cc(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ju(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function g9(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ap(n):n;return{pathname:t?t.startsWith("/")?t:m9(t,e):e,search:y9(i),hash:x9(r)}}function m9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function u5(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kb(n){let e=_9(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Xb(n,e,t,i=!1){let r;typeof n=="string"?r=Ap(n):(r={...n},Er(!r.pathname||!r.pathname.includes("?"),u5("?","pathname","search",r)),Er(!r.pathname||!r.pathname.includes("#"),u5("#","pathname","hash",r)),Er(!r.search||!r.search.includes("#"),u5("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=t;else{let p=e.length-1;if(!i&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),p-=1;r.pathname=_.join("/")}l=p>=0?e[p]:"/"}let c=g9(r,l),h=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}var Wu=n=>n.join("/").replace(/\/\/+/g,"/"),v9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),y9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,x9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function w9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qI=["POST","PUT","PATCH","DELETE"];new Set(qI);var b9=["GET",...qI];new Set(b9);var Cp=Le.createContext(null);Cp.displayName="DataRouter";var Hv=Le.createContext(null);Hv.displayName="DataRouterState";Le.createContext(!1);var WI=Le.createContext({isTransitioning:!1});WI.displayName="ViewTransition";var E9=Le.createContext(new Map);E9.displayName="Fetchers";var S9=Le.createContext(null);S9.displayName="Await";var fc=Le.createContext(null);fc.displayName="Navigation";var n1=Le.createContext(null);n1.displayName="Location";var dc=Le.createContext({outlet:null,matches:[],isDataRoute:!1});dc.displayName="Route";var Qb=Le.createContext(null);Qb.displayName="RouteError";function T9(n,{relative:e}={}){Er(Np(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Le.useContext(fc),{hash:r,pathname:s,search:a}=i1(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:Wu([t,s])),i.createHref({pathname:l,search:a,hash:r})}function Np(){return Le.useContext(n1)!=null}function If(){return Er(Np(),"useLocation() may be used only in the context of a <Router> component."),Le.useContext(n1).location}var GI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $I(n){Le.useContext(fc).static||Le.useLayoutEffect(n)}function qv(){let{isDataRoute:n}=Le.useContext(dc);return n?U9():A9()}function A9(){Er(Np(),"useNavigate() may be used only in the context of a <Router> component.");let n=Le.useContext(Cp),{basename:e,navigator:t}=Le.useContext(fc),{matches:i}=Le.useContext(dc),{pathname:r}=If(),s=JSON.stringify(Kb(i)),a=Le.useRef(!1);return $I(()=>{a.current=!0}),Le.useCallback((c,h={})=>{if(cc(a.current,GI),!a.current)return;if(typeof c=="number"){t.go(c);return}let f=Xb(c,JSON.parse(s),r,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wu([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,s,r,n])}var C9=Le.createContext(null);function N9(n){let e=Le.useContext(dc).outlet;return Le.useMemo(()=>e&&Le.createElement(C9.Provider,{value:n},e),[e,n])}function i1(n,{relative:e}={}){let{matches:t}=Le.useContext(dc),{pathname:i}=If(),r=JSON.stringify(Kb(t));return Le.useMemo(()=>Xb(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function R9(n,e){return YI(n,e)}function YI(n,e,t,i,r){Er(Np(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=Le.useContext(fc),{matches:a}=Le.useContext(dc),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let P=p&&p.path||"";KI(h,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let _=If(),m;if(e){let P=typeof e=="string"?Ap(e):e;Er(f==="/"||P.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),m=P}else m=_;let b=m.pathname||"/",x=b;if(f!=="/"){let P=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=VI(n,{pathname:x});cc(p||E!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),cc(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=O9(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Wu([f,s.encodeLocation?s.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Wu([f,s.encodeLocation?s.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),a,t,i,r);return e&&A?Le.createElement(n1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},A):A}function I9(){let n=j9(),e=w9(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=Le.createElement(Le.Fragment,null,Le.createElement("p",null," Hey developer "),Le.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Le.createElement("code",{style:s},"ErrorBoundary")," or"," ",Le.createElement("code",{style:s},"errorElement")," prop on your route.")),Le.createElement(Le.Fragment,null,Le.createElement("h2",null,"Unexpected Application Error!"),Le.createElement("h3",{style:{fontStyle:"italic"}},e),t?Le.createElement("pre",{style:r},t):null,a)}var k9=Le.createElement(I9,null),D9=class extends Le.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Le.createElement(dc.Provider,{value:this.props.routeContext},Le.createElement(Qb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L9({routeContext:n,match:e,children:t}){let i=Le.useContext(Cp);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Le.createElement(dc.Provider,{value:n},t)}function O9(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Er(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:_}=t,m=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let _,m=!1,b=null,x=null;t&&(_=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||k9,l&&(c<0&&p===0?(KI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):c===p&&(m=!0,x=f.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,p+1)),A=()=>{let P;return _?P=b:m?P=x:f.route.Component?P=Le.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=h,Le.createElement(L9,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:t!=null},children:P})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Le.createElement(D9,{location:t.location,revalidation:t.revalidation,component:b,error:_,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:i}):A()},null)}function Jb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P9(n){let e=Le.useContext(Cp);return Er(e,Jb(n)),e}function M9(n){let e=Le.useContext(Hv);return Er(e,Jb(n)),e}function F9(n){let e=Le.useContext(dc);return Er(e,Jb(n)),e}function Zb(n){let e=F9(n),t=e.matches[e.matches.length-1];return Er(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function B9(){return Zb("useRouteId")}function j9(){let n=Le.useContext(Qb),e=M9("useRouteError"),t=Zb("useRouteError");return n!==void 0?n:e.errors?.[t]}function U9(){let{router:n}=P9("useNavigate"),e=Zb("useNavigate"),t=Le.useRef(!1);return $I(()=>{t.current=!0}),Le.useCallback(async(r,s={})=>{cc(t.current,GI),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var H4={};function KI(n,e,t){!e&&!H4[n]&&(H4[n]=!0,cc(!1,t))}Le.memo(V9);function V9({routes:n,future:e,state:t,unstable_onError:i}){return YI(n,void 0,t,i,e)}function Rg({to:n,replace:e,state:t,relative:i}){Er(Np(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Le.useContext(fc);cc(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=Le.useContext(dc),{pathname:a}=If(),l=qv(),c=Xb(n,Kb(s),a,i==="path"),h=JSON.stringify(c);return Le.useEffect(()=>{l(JSON.parse(h),{replace:e,state:t,relative:i})},[l,h,i,e,t]),null}function z9(n){return N9(n.context)}function wl(n){Er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H9({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Er(!Np(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),l=Le.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof t=="string"&&(t=Ap(t));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:_="default"}=t,m=Le.useMemo(()=>{let b=Ju(c,a);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:_},navigationType:i}},[a,c,h,f,p,_,i]);return cc(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:Le.createElement(fc.Provider,{value:l},Le.createElement(n1.Provider,{children:e,value:m}))}function q9({children:n,location:e}){return R9(Cw(n),e)}function Cw(n,e=[]){let t=[];return Le.Children.forEach(n,(i,r)=>{if(!Le.isValidElement(i))return;let s=[...e,r];if(i.type===Le.Fragment){t.push.apply(t,Cw(i.props.children,s));return}Er(i.type===wl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Er(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Cw(i.props.children,s)),t.push(a)}),t}var u_="get",h_="application/x-www-form-urlencoded";function Wv(n){return n!=null&&typeof n.tagName=="string"}function W9(n){return Wv(n)&&n.tagName.toLowerCase()==="button"}function G9(n){return Wv(n)&&n.tagName.toLowerCase()==="form"}function $9(n){return Wv(n)&&n.tagName.toLowerCase()==="input"}function Y9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function K9(n,e){return n.button===0&&(!e||e==="_self")&&!Y9(n)}var S2=null;function X9(){if(S2===null)try{new FormData(document.createElement("form"),0),S2=!1}catch{S2=!0}return S2}var Q9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h5(n){return n!=null&&!Q9.has(n)?(cc(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${h_}"`),null):n}function J9(n,e){let t,i,r,s,a;if(G9(n)){let l=n.getAttribute("action");i=l?Ju(l,e):null,t=n.getAttribute("method")||u_,r=h5(n.getAttribute("enctype"))||h_,s=new FormData(n)}else if(W9(n)||$9(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||l.getAttribute("action");if(i=c?Ju(c,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||u_,r=h5(n.getAttribute("formenctype"))||h5(l.getAttribute("enctype"))||h_,s=new FormData(l,n),!X9()){let{name:h,type:f,value:p}=n;if(f==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,p)}}else{if(Wv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=u_,i=null,r=h_,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Z9(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ju(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function eB(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tB(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nB(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await eB(s,t);return a.links?a.links():[]}return[]}));return aB(i.flat(1).filter(tB).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function q4(n,e,t,i,r,s){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,l=(c,h)=>t[h].pathname!==c.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,h)=>a(c,h)||l(c,h)):s==="data"?e.filter((c,h)=>{let f=i.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function iB(n,e,{includeHydrateFallback:t}={}){return rB(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function rB(n){return[...new Set(n)]}function sB(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function aB(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(sB(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function XI(){let n=Le.useContext(Cp);return eE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oB(){let n=Le.useContext(Hv);return eE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tE=Le.createContext(void 0);tE.displayName="FrameworkContext";function QI(){let n=Le.useContext(tE);return eE(n,"You must render this element inside a <HydratedRouter> element"),n}function lB(n,e){let t=Le.useContext(tE),[i,r]=Le.useState(!1),[s,a]=Le.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,_=Le.useRef(null);Le.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let x=A=>{A.forEach(P=>{a(P.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[n]),Le.useEffect(()=>{if(i){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[i]);let m=()=>{r(!0)},b=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Ig(l,m),onBlur:Ig(c,b),onMouseEnter:Ig(h,m),onMouseLeave:Ig(f,b),onTouchStart:Ig(p,m)}]:[!1,_,{}]}function Ig(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cB({page:n,...e}){let{router:t}=XI(),i=Le.useMemo(()=>VI(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Le.createElement(hB,{page:n,matches:i,...e}):null}function uB(n){let{manifest:e,routeModules:t}=QI(),[i,r]=Le.useState([]);return Le.useEffect(()=>{let s=!1;return nB(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function hB({page:n,matches:e,...t}){let i=If(),{manifest:r,routeModules:s}=QI(),{basename:a}=XI(),{loaderData:l,matches:c}=oB(),h=Le.useMemo(()=>q4(n,e,c,r,i,"data"),[n,e,c,r,i]),f=Le.useMemo(()=>q4(n,e,c,r,i,"assets"),[n,e,c,r,i]),p=Le.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,x=!1;if(e.forEach(A=>{let P=r.routes[A.route.id];!P||!P.hasLoader||(!h.some(L=>L.route.id===A.route.id)&&A.route.id in l&&s[A.route.id]?.shouldRevalidate||P.hasClientLoader?x=!0:b.add(A.route.id))}),b.size===0)return[];let E=Z9(n,a,"data");return x&&b.size>0&&E.searchParams.set("_routes",e.filter(A=>b.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[a,l,i,r,h,e,n,s]),_=Le.useMemo(()=>iB(f,r),[f,r]),m=uB(f);return Le.createElement(Le.Fragment,null,p.map(b=>Le.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),_.map(b=>Le.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),m.map(({key:b,link:x})=>Le.createElement("link",{key:b,nonce:t.nonce,...x})))}function fB(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JI&&(window.__reactRouterVersion="7.9.5")}catch{}function dB({basename:n,children:e,window:t}){let i=Le.useRef();i.current==null&&(i.current=JF({window:t,v5Compat:!0}));let r=i.current,[s,a]=Le.useState({action:r.action,location:r.location}),l=Le.useCallback(c=>{Le.startTransition(()=>a(c))},[a]);return Le.useLayoutEffect(()=>r.listen(l),[r,l]),Le.createElement(H9,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var ZI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hp=Le.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:f,viewTransition:p,..._},m){let{basename:b}=Le.useContext(fc),x=typeof h=="string"&&ZI.test(h),E,A=!1;if(typeof h=="string"&&x&&(E=h,JI))try{let N=new URL(window.location.href),U=h.startsWith("//")?new URL(N.protocol+h):new URL(h),I=Ju(U.pathname,b);U.origin===N.origin&&I!=null?h=I+U.search+U.hash:A=!0}catch{cc(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=T9(h,{relative:r}),[L,j,Q]=lB(i,_),ae=mB(h,{replace:a,state:l,target:c,preventScrollReset:f,relative:r,viewTransition:p});function F(N){e&&e(N),N.defaultPrevented||ae(N)}let R=Le.createElement("a",{..._,...Q,href:E||P,onClick:A||s?e:F,ref:fB(m,j),target:c,"data-discover":!x&&t==="render"?"true":void 0});return L&&!x?Le.createElement(Le.Fragment,null,R,Le.createElement(cB,{page:P})):R});hp.displayName="Link";var f_=Le.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:c,...h},f){let p=i1(a,{relative:h.relative}),_=If(),m=Le.useContext(Hv),{navigator:b,basename:x}=Le.useContext(fc),E=m!=null&&wB(p)&&l===!0,A=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,P=_.pathname,L=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(P=P.toLowerCase(),L=L?L.toLowerCase():null,A=A.toLowerCase()),L&&x&&(L=Ju(L,x)||L);const j=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Q=P===A||!r&&P.startsWith(A)&&P.charAt(j)==="/",ae=L!=null&&(L===A||!r&&L.startsWith(A)&&L.charAt(A.length)==="/"),F={isActive:Q,isPending:ae,isTransitioning:E},R=Q?e:void 0,N;typeof i=="function"?N=i(F):N=[i,Q?"active":null,ae?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(F):s;return Le.createElement(hp,{...h,"aria-current":R,className:N,ref:f,style:U,to:a,viewTransition:l},typeof c=="function"?c(F):c)});f_.displayName="NavLink";var pB=Le.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=u_,action:l,onSubmit:c,relative:h,preventScrollReset:f,viewTransition:p,..._},m)=>{let b=yB(),x=xB(l,{relative:h}),E=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&ZI.test(l),P=L=>{if(c&&c(L),L.defaultPrevented)return;L.preventDefault();let j=L.nativeEvent.submitter,Q=j?.getAttribute("formmethod")||a;b(j||L.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:r,state:s,relative:h,preventScrollReset:f,viewTransition:p})};return Le.createElement("form",{ref:m,method:E,action:x,onSubmit:i?c:P,..._,"data-discover":!A&&n==="render"?"true":void 0})});pB.displayName="Form";function gB(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ek(n){let e=Le.useContext(Cp);return Er(e,gB(n)),e}function mB(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let l=qv(),c=If(),h=i1(n,{relative:s});return Le.useCallback(f=>{if(K9(f,e)){f.preventDefault();let p=t!==void 0?t:Tm(c)===Tm(h);l(n,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[c,l,h,t,i,e,n,r,s,a])}var _B=0,vB=()=>`__${String(++_B)}__`;function yB(){let{router:n}=ek("useSubmit"),{basename:e}=Le.useContext(fc),t=B9();return Le.useCallback(async(i,r={})=>{let{action:s,method:a,encType:l,formData:c,body:h}=J9(i,e);if(r.navigate===!1){let f=r.fetcherKey||vB();await n.fetch(f,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:h,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:h,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function xB(n,{relative:e}={}){let{basename:t}=Le.useContext(fc),i=Le.useContext(dc);Er(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...i1(n||".",{relative:e})},a=If();if(n==null){s.search=a.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Wu([t,s.pathname])),Tm(s)}function wB(n,{relative:e}={}){let t=Le.useContext(WI);Er(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ek("useViewTransitionState"),r=i1(n,{relative:e});if(!t.isTransitioning)return!1;let s=Ju(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Ju(t.nextLocation.pathname,i)||t.nextLocation.pathname;return D_(r.pathname,a)!=null||D_(r.pathname,s)!=null}const bB=()=>{};var W4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=function(n,e){if(!n)throw Rp(e)},Rp=function(n){return new Error("Firebase Database ("+tk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},EB=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],l=n[t++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,l=a?n[r+1]:0,c=r+2<n.length,h=c?n[r+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let _=(l&15)<<2|h>>6,m=h&63;c||(m=64,a||(_=64)),i.push(t[f],t[p],t[_],t[m])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],l=r<n.length?t[n.charAt(r)]:0;++r;const h=r<n.length?t[n.charAt(r)]:64;++r;const p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new SB;const _=s<<2|l>>4;if(i.push(_),h!==64){const m=l<<4&240|h>>2;if(i.push(m),p!==64){const b=h<<6&192|p;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ik=function(n){const e=nk(n);return nE.encodeByteArray(e,!0)},L_=function(n){return ik(n).replace(/\./g,"")},O_=function(n){try{return nE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(n){return rk(void 0,n)}function rk(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!AB(t)||(n[t]=rk(n[t],e[t]));return n}function AB(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=()=>CB().__FIREBASE_DEFAULTS__,RB=()=>{if(typeof process>"u"||typeof W4>"u")return;const n=W4.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&O_(n[1]);return e&&JSON.parse(e)},Gv=()=>{try{return bB()||NB()||RB()||IB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sk=n=>Gv()?.emulatorHosts?.[n],iE=n=>{const e=sk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ak=()=>Gv()?.config,ok=n=>Gv()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $v(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[L_(JSON.stringify(t)),L_(JSON.stringify(a)),""].join(".")}const em={};function kB(){const n={prod:[],emulator:[]};for(const e of Object.keys(em))em[e]?n.emulator.push(e):n.prod.push(e);return n}function DB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let G4=!1;function Yv(n,e){if(typeof window>"u"||typeof document>"u"||!lh(window.location.host)||em[n]===e||em[n]||G4)return;em[n]=e;function t(_){return`__firebase__banner__${_}`}const i="__firebase__banner",s=kB().prod.length>0;function a(){const _=document.getElementById(i);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,m){_.setAttribute("width","24"),_.setAttribute("id",m),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{G4=!0,a()},_}function f(_,m){_.setAttribute("id",m),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function p(){const _=DB(i),m=t("text"),b=document.getElementById(m)||document.createElement("span"),x=t("learnmore"),E=document.getElementById(x)||document.createElement("a"),A=t("preprendIcon"),P=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;l(L),f(E,x);const j=h();c(P,A),L.append(P,b,E,j),document.body.appendChild(L)}s?(b.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ba())}function LB(){const n=Gv()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PB(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MB(){const n=Ba();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FB(){return tk.NODE_ADMIN===!0}function BB(){return!LB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jB(){try{return typeof indexedDB=="object"}catch{return!1}}function UB(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="FirebaseError";class tu extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=VB,Object.setPrototypeOf(this,tu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r1.prototype.create)}}class r1{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?zB(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new tu(r,l,i)}}function zB(n,e){return n.replace(HB,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const HB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n){return JSON.parse(n)}function ca(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=Am(O_(s[0])||""),t=Am(O_(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},qB=function(n){const e=ck(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},WB=function(n){const e=ck(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function fp(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Nw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function P_(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function gf(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if($4(s)&&$4(a)){if(!gf(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function $4(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hg(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function qg(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)i[p]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let p=0;p<16;p++)i[p]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let p=16;p<80;p++){const _=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(_<<1|_>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],h,f;for(let p=0;p<80;p++){p<40?p<20?(h=l^s&(a^l),f=1518500249):(h=s^a^l,f=1859775393):p<60?(h=s&a|l&(s|a),f=2400959708):(h=s^a^l,f=3395469782);const _=(r<<5|r>>>27)+h+c+f+i[p]&4294967295;c=l,l=a,a=(s<<30|s>>>2)&4294967295,s=r,r=_}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let a=this.inbuf_;for(;r<t;){if(a===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(s[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}else for(;r<t;)if(s[a]=e[r],++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function $B(n,e){const t=new YB(n,e);return t.subscribe.bind(t)}class YB{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");KB(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=f5),r.error===void 0&&(r.error=f5),r.complete===void 0&&(r.complete=f5);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KB(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function f5(){}function XB(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Rt(i<n.length,"Surrogate pair missing trail surrogate.");const a=n.charCodeAt(i)-56320;r=65536+(s<<10)+a}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Kv=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n){return n&&n._delegate?n._delegate:n}class Zu{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new rE;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ej(e))try{this.getOrInitializeService({instanceIdentifier:sd})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=sd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sd){return this.instances.has(e)}getOptions(e=sd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZB(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sd){return this.component?this.component.multipleInstances?e:sd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZB(n){return n===sd?void 0:n}function ej(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JB(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Hn||(Hn={}));const nj={debug:Hn.DEBUG,verbose:Hn.VERBOSE,info:Hn.INFO,warn:Hn.WARN,error:Hn.ERROR,silent:Hn.SILENT},ij=Hn.INFO,rj={[Hn.DEBUG]:"log",[Hn.VERBOSE]:"log",[Hn.INFO]:"info",[Hn.WARN]:"warn",[Hn.ERROR]:"error"},sj=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=rj[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xv{constructor(e){this.name=e,this._logLevel=ij,this._logHandler=sj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Hn.DEBUG,...e),this._logHandler(this,Hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Hn.VERBOSE,...e),this._logHandler(this,Hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Hn.INFO,...e),this._logHandler(this,Hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Hn.WARN,...e),this._logHandler(this,Hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Hn.ERROR,...e),this._logHandler(this,Hn.ERROR,...e)}}const aj=(n,e)=>e.some(t=>n instanceof t);let Y4,K4;function oj(){return Y4||(Y4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lj(){return K4||(K4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uk=new WeakMap,Rw=new WeakMap,hk=new WeakMap,d5=new WeakMap,oE=new WeakMap;function cj(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(of(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&uk.set(t,n)}).catch(()=>{}),oE.set(e,n),e}function uj(n){if(Rw.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});Rw.set(n,e)}let Iw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return of(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hj(n){Iw=n(Iw)}function fj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(p5(this),e,...t);return hk.set(i,e.sort?e.sort():[e]),of(i)}:lj().includes(n)?function(...e){return n.apply(p5(this),e),of(uk.get(this))}:function(...e){return of(n.apply(p5(this),e))}}function dj(n){return typeof n=="function"?fj(n):(n instanceof IDBTransaction&&uj(n),aj(n,oj())?new Proxy(n,Iw):n)}function of(n){if(n instanceof IDBRequest)return cj(n);if(d5.has(n))return d5.get(n);const e=dj(n);return e!==n&&(d5.set(n,e),oE.set(e,n)),e}const p5=n=>oE.get(n);function pj(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),l=of(a);return i&&a.addEventListener("upgradeneeded",c=>{i(of(a.result),c.oldVersion,c.newVersion,of(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const gj=["get","getKey","getAll","getAllKeys","count"],mj=["put","add","delete","clear"],g5=new Map;function X4(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(g5.get(e))return g5.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=mj.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gj.includes(t)))return;const s=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let h=c.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),r&&c.done]))[0]};return g5.set(e,s),s}hj(n=>({...n,get:(e,t,i)=>X4(e,t)||n.get(e,t,i),has:(e,t)=>!!X4(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vj(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function vj(n){return n.getComponent()?.type==="VERSION"}const kw="@firebase/app",Q4="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Xv("@firebase/app"),yj="@firebase/app-compat",xj="@firebase/analytics-compat",wj="@firebase/analytics",bj="@firebase/app-check-compat",Ej="@firebase/app-check",Sj="@firebase/auth",Tj="@firebase/auth-compat",Aj="@firebase/database",Cj="@firebase/data-connect",Nj="@firebase/database-compat",Rj="@firebase/functions",Ij="@firebase/functions-compat",kj="@firebase/installations",Dj="@firebase/installations-compat",Lj="@firebase/messaging",Oj="@firebase/messaging-compat",Pj="@firebase/performance",Mj="@firebase/performance-compat",Fj="@firebase/remote-config",Bj="@firebase/remote-config-compat",jj="@firebase/storage",Uj="@firebase/storage-compat",Vj="@firebase/firestore",zj="@firebase/ai",Hj="@firebase/firestore-compat",qj="firebase",Wj="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="[DEFAULT]",Gj={[kw]:"fire-core",[yj]:"fire-core-compat",[wj]:"fire-analytics",[xj]:"fire-analytics-compat",[Ej]:"fire-app-check",[bj]:"fire-app-check-compat",[Sj]:"fire-auth",[Tj]:"fire-auth-compat",[Aj]:"fire-rtdb",[Cj]:"fire-data-connect",[Nj]:"fire-rtdb-compat",[Rj]:"fire-fn",[Ij]:"fire-fn-compat",[kj]:"fire-iid",[Dj]:"fire-iid-compat",[Lj]:"fire-fcm",[Oj]:"fire-fcm-compat",[Pj]:"fire-perf",[Mj]:"fire-perf-compat",[Fj]:"fire-rc",[Bj]:"fire-rc-compat",[jj]:"fire-gcs",[Uj]:"fire-gcs-compat",[Vj]:"fire-fst",[Hj]:"fire-fst-compat",[zj]:"fire-vertex","fire-js":"fire-js",[qj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map,$j=new Map,Lw=new Map;function J4(n,e){try{n.container.addComponent(e)}catch(t){eh.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mf(n){const e=n.name;if(Lw.has(e))return eh.debug(`There were multiple attempts to register component ${e}.`),!1;Lw.set(e,n);for(const t of M_.values())J4(t,n);for(const t of $j.values())J4(t,n);return!0}function s1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qa(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lf=new r1("app","Firebase",Yj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=Wj;function fk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Dw,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw lf.create("bad-app-name",{appName:String(r)});if(t||(t=ak()),!t)throw lf.create("no-options");const s=M_.get(r);if(s){if(gf(t,s.options)&&gf(i,s.config))return s;throw lf.create("duplicate-app",{appName:r})}const a=new tj(r);for(const c of Lw.values())a.addComponent(c);const l=new Kj(t,i,a);return M_.set(r,l),l}function Qv(n=Dw){const e=M_.get(n);if(!e&&n===Dw&&ak())return fk();if(!e)throw lf.create("no-app",{appName:n});return e}function Tl(n,e,t){let i=Gj[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eh.warn(a.join(" "));return}mf(new Zu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="firebase-heartbeat-database",Qj=1,Cm="firebase-heartbeat-store";let m5=null;function dk(){return m5||(m5=pj(Xj,Qj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cm)}catch(t){console.warn(t)}}}}).catch(n=>{throw lf.create("idb-open",{originalErrorMessage:n.message})})),m5}async function Jj(n){try{const t=(await dk()).transaction(Cm),i=await t.objectStore(Cm).get(pk(n));return await t.done,i}catch(e){if(e instanceof tu)eh.warn(e.message);else{const t=lf.create("idb-get",{originalErrorMessage:e?.message});eh.warn(t.message)}}}async function Z4(n,e){try{const i=(await dk()).transaction(Cm,"readwrite");await i.objectStore(Cm).put(e,pk(n)),await i.done}catch(t){if(t instanceof tu)eh.warn(t.message);else{const i=lf.create("idb-set",{originalErrorMessage:t?.message});eh.warn(i.message)}}}function pk(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=1024,eU=30;class tU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iU(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=e3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>eU){const r=rU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){eh.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=e3(),{heartbeatsToSend:t,unsentEntries:i}=nU(this._heartbeatsCache.heartbeats),r=L_(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return eh.warn(e),""}}}function e3(){return new Date().toISOString().substring(0,10)}function nU(n,e=Zj){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),t3(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),t3(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class iU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jB()?UB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Jj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Z4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Z4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function t3(n){return L_(JSON.stringify({version:2,heartbeats:n})).length}function rU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n){mf(new Zu("platform-logger",e=>new _j(e),"PRIVATE")),mf(new Zu("heartbeat",e=>new tU(e),"PRIVATE")),Tl(kw,Q4,n),Tl(kw,Q4,"esm2020"),Tl("fire-js","")}sU("");function gk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aU=gk,mk=new r1("auth","Firebase",gk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Xv("@firebase/auth");function oU(n,...e){F_.logLevel<=Hn.WARN&&F_.warn(`Auth (${kf}): ${n}`,...e)}function d_(n,...e){F_.logLevel<=Hn.ERROR&&F_.error(`Auth (${kf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n,...e){throw cE(n,...e)}function ac(n,...e){return cE(n,...e)}function lE(n,e,t){const i={...aU(),[e]:t};return new r1("auth","Firebase",i).create(e,{appName:n.name})}function Gu(n){return lE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lU(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Al(n,"argument-error"),lE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cE(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return mk.create(n,...e)}function vn(n,e,...t){if(!n)throw cE(e,...t)}function Bu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw d_(e),new Error(e)}function th(n,e){n||Bu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof self<"u"&&self.location?.href||""}function cU(){return n3()==="http:"||n3()==="https:"}function n3(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cU()||PB()||"connection"in navigator)?navigator.onLine:!0}function hU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.shortDelay=e,this.longDelay=t,th(t>e,"Short delay should be less than long delay!"),this.isMobile=aE()||lk()}get(){return uU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n,e){th(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pU=new a1(3e4,6e4);function uh(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function hh(n,e,t,i,r={}){return vk(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=Ip({key:n.config.apiKey,...a}).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:c,...s};return OB()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&lh(n.emulatorConfig.host)&&(h.credentials="include"),_k.fetch()(await yk(n,n.config.apiHost,t,l),h)})}async function vk(n,e,t){n._canInitEmulator=!1;const i={...fU,...e};try{const r=new mU(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw T2(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw T2(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw T2(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw T2(n,"user-disabled",a);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw lE(n,f,h);Al(n,f)}}catch(r){if(r instanceof tu)throw r;Al(n,"network-request-failed",{message:String(r)})}}async function o1(n,e,t,i,r={}){const s=await hh(n,e,t,i,r);return"mfaPendingCredential"in s&&Al(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function yk(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?uE(n.config,r):`${n.config.apiScheme}://${r}`;return dU.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function gU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ac(this.auth,"network-request-failed")),pU.get())})}}function T2(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ac(n,e,i);return r.customData._tokenResponse=t,r}function i3(n){return n!==void 0&&n.enterprise!==void 0}class _U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vU(n,e){return hh(n,"GET","/v2/recaptchaConfig",uh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(n,e){return hh(n,"POST","/v1/accounts:delete",e)}async function B_(n,e){return hh(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xU(n,e=!1){const t=kr(n),i=await t.getIdToken(e),r=hE(i);vn(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s?.sign_in_provider;return{claims:r,token:i,authTime:tm(_5(r.auth_time)),issuedAtTime:tm(_5(r.iat)),expirationTime:tm(_5(r.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function _5(n){return Number(n)*1e3}function hE(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return d_("JWT malformed, contained fewer than 3 sections"),null;try{const r=O_(t);return r?JSON.parse(r):(d_("Failed to decode base64 JWT payload"),null)}catch(r){return d_("Caught error parsing JWT payload as JSON",r?.toString()),null}}function r3(n){const e=hE(n);return vn(e,"internal-error"),vn(typeof e.exp<"u","internal-error"),vn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof tu&&wU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function wU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tm(this.lastLoginAt),this.creationTime=tm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(n){const e=n.auth,t=await n.getIdToken(),i=await Nm(n,B_(e,{idToken:t}));vn(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const s=r.providerUserInfo?.length?xk(r.providerUserInfo):[],a=SU(n.providerData,s),l=n.isAnonymous,c=!(n.email&&r.passwordHash)&&!a?.length,h=l?c:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Pw(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(n,f)}async function EU(n){const e=kr(n);await j_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function xk(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(n,e){const t=await vk(n,{},async()=>{const i=Ip({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await yk(n,r,"/v1/token",`key=${s}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:i};return n.emulatorConfig&&lh(n.emulatorConfig.host)&&(c.credentials="include"),_k.fetch()(a,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AU(n,e){return hh(n,"POST","/v2/accounts:revokeToken",uh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vn(e.idToken,"internal-error"),vn(typeof e.idToken<"u","internal-error"),vn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vn(e.length!==0,"internal-error");const t=r3(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(vn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await TU(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new Y0;return i&&(vn(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(vn(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(vn(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Y0,this.toJSON())}_performRefresh(){return Bu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,e){vn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tc{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new bU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Pw(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Nm(this,this.stsTokenManager.getToken(this.auth,e));return vn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xU(this,e)}reload(){return EU(this)}_assign(e){this!==e&&(vn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){vn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await j_(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qa(this.auth.app))return Promise.reject(Gu(this.auth));const e=await this.getIdToken();return await Nm(this,yU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,a=t.photoURL??void 0,l=t.tenantId??void 0,c=t._redirectEventId??void 0,h=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:_,isAnonymous:m,providerData:b,stsTokenManager:x}=t;vn(p&&x,e,"internal-error");const E=Y0.fromJSON(this.name,x);vn(typeof p=="string",e,"internal-error"),qh(i,e.name),qh(r,e.name),vn(typeof _=="boolean",e,"internal-error"),vn(typeof m=="boolean",e,"internal-error"),qh(s,e.name),qh(a,e.name),qh(l,e.name),qh(c,e.name),qh(h,e.name),qh(f,e.name);const A=new tc({uid:p,auth:e,email:r,emailVerified:_,displayName:i,isAnonymous:m,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:E,createdAt:h,lastLoginAt:f});return b&&Array.isArray(b)&&(A.providerData=b.map(P=>({...P}))),c&&(A._redirectEventId=c),A}static async _fromIdTokenResponse(e,t,i=!1){const r=new Y0;r.updateFromServerResponse(t);const s=new tc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await j_(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];vn(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?xk(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!s?.length,l=new Y0;l.updateFromIdToken(i);const c=new tc({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Pw(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new Map;function ju(n){th(n instanceof Function,"Expected a class definition");let e=s3.get(n);return e?(th(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,s3.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wk.type="NONE";const a3=wk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(n,e,t){return`firebase:${n}:${e}:${t}`}class K0{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=p_(this.userKey,r.apiKey,s),this.fullPersistenceKey=p_("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await B_(this.auth,{idToken:e}).catch(()=>{});return t?tc._fromGetAccountInfoResponse(this.auth,t,e):null}return tc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new K0(ju(a3),e,i);const r=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||ju(a3);const a=p_(i,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(a);if(f){let p;if(typeof f=="string"){const _=await B_(e,{idToken:f}).catch(()=>{});if(!_)break;p=await tc._fromGetAccountInfoResponse(e,_,f)}else p=tc._fromJSON(e,f);h!==s&&(l=p),s=h;break}}catch{}const c=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new K0(s,e,i):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new K0(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ck(e))return"Blackberry";if(Nk(e))return"Webos";if(Ek(e))return"Safari";if((e.includes("chrome/")||Sk(e))&&!e.includes("edge/"))return"Chrome";if(Ak(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function bk(n=Ba()){return/firefox\//i.test(n)}function Ek(n=Ba()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sk(n=Ba()){return/crios\//i.test(n)}function Tk(n=Ba()){return/iemobile/i.test(n)}function Ak(n=Ba()){return/android/i.test(n)}function Ck(n=Ba()){return/blackberry/i.test(n)}function Nk(n=Ba()){return/webos/i.test(n)}function fE(n=Ba()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CU(n=Ba()){return fE(n)&&!!window.navigator?.standalone}function NU(){return MB()&&document.documentMode===10}function Rk(n=Ba()){return fE(n)||Ak(n)||Nk(n)||Ck(n)||/windows phone/i.test(n)||Tk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n,e=[]){let t;switch(n){case"Browser":t=o3(Ba());break;case"Worker":t=`${o3(Ba())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${kf}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(n,e={}){return hh(n,"GET","/v2/passwordPolicy",uh(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=6;class DU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l3(this),this.idTokenSubscription=new l3(this),this.beforeStateQueue=new RU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ju(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await K0.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await B_(this,{idToken:e}),i=await tc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qa(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return vn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await j_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qa(this.app))return Promise.reject(Gu(this));const t=e?kr(e):null;return t&&vn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&vn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qa(this.app)?Promise.reject(Gu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qa(this.app)?Promise.reject(Gu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ju(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IU(this),t=new DU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new r1("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await AU(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ju(e)||this._popupRedirectResolver;vn(t,this,"argument-error"),this.redirectPersistenceManager=await K0.create(this,[ju(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(vn(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,r);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ik(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Qa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fh(n){return kr(n)}class l3{constructor(e){this.auth=e,this.observer=null,this.addObserver=$B(t=>this.observer=t)}get next(){return vn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OU(n){Jv=n}function kk(n){return Jv.loadJS(n)}function PU(){return Jv.recaptchaEnterpriseScript}function MU(){return Jv.gapiScript}function FU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class BU{constructor(){this.enterprise=new jU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const UU="recaptcha-enterprise",Dk="NO_RECAPTCHA";class VU{constructor(e){this.type=UU,this.auth=fh(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{vU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new _U(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function r(s,a,l){const c=window.grecaptcha;i3(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(Dk)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BU().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!t&&i3(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=PU();c.length!==0&&(c+=l),kk(c).then(()=>{r(l,s,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function c3(n,e,t,i=!1,r=!1){const s=new VU(n);let a;if(r)a=Dk;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const l={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function U_(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await c3(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await c3(n,e,t,t==="getOobCode");return i(n,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(n,e){const t=s1(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(gf(s,e??{}))return r;Al(r,"already-initialized")}return t.initialize({options:e})}function HU(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ju);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function qU(n,e,t){const i=fh(n);vn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=Lk(e),{host:a,port:l}=WU(e),c=l===null?"":`:${l}`,h={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){vn(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),vn(gf(h,i.config.emulator)&&gf(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,lh(a)?($v(`${s}//${a}${c}`),Yv("Auth",!0)):GU()}function Lk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function WU(n){const e=Lk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:u3(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:u3(a)}}}function u3(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function GU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bu("not implemented")}_getIdTokenResponse(e){return Bu("not implemented")}_linkToIdToken(e,t){return Bu("not implemented")}_getReauthenticationResolver(e){return Bu("not implemented")}}async function $U(n,e){return hh(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(n,e){return o1(n,"POST","/v1/accounts:signInWithPassword",uh(n,e))}async function KU(n,e){return hh(n,"POST","/v1/accounts:sendOobCode",uh(n,e))}async function XU(n,e){return KU(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(n,e){return o1(n,"POST","/v1/accounts:signInWithEmailLink",uh(n,e))}async function JU(n,e){return o1(n,"POST","/v1/accounts:signInWithEmailLink",uh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends dE{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rm(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Rm(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U_(e,t,"signInWithPassword",YU);case"emailLink":return QU(e,{email:this._email,oobCode:this._password});default:Al(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U_(e,i,"signUpPassword",$U);case"emailLink":return JU(e,{idToken:t,email:this._email,oobCode:this._password});default:Al(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(n,e){return o1(n,"POST","/v1/accounts:signInWithIdp",uh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="http://localhost";class yd extends dE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Al("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=t;if(!i||!r)return null;const a=new yd(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return X0(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,X0(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,X0(e,t)}buildRequest(){const e={requestUri:ZU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ip(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tV(n){const e=Hg(qg(n)).link,t=e?Hg(qg(e)).deep_link_id:null,i=Hg(qg(n)).deep_link_id;return(i?Hg(qg(i)).link:null)||i||t||e||n}class pE{constructor(e){const t=Hg(qg(e)),i=t.apiKey??null,r=t.oobCode??null,s=eV(t.mode??null);vn(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=tV(e);try{return new pE(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.providerId=kp.PROVIDER_ID}static credential(e,t){return Rm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=pE.parseLink(t);return vn(i,"argument-error"),Rm._fromEmailAndCode(e,i.code,i.tenantId)}}kp.PROVIDER_ID="password";kp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends gE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends l1{constructor(){super("facebook.com")}static credential(e){return yd._fromParams({providerId:Yh.PROVIDER_ID,signInMethod:Yh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yh.credentialFromTaggedObject(e)}static credentialFromError(e){return Yh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yh.credential(e.oauthAccessToken)}catch{return null}}}Yh.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends l1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yd._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Fu.credential(t,i)}catch{return null}}}Fu.GOOGLE_SIGN_IN_METHOD="google.com";Fu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends l1{constructor(){super("github.com")}static credential(e){return yd._fromParams({providerId:Kh.PROVIDER_ID,signInMethod:Kh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kh.credentialFromTaggedObject(e)}static credentialFromError(e){return Kh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kh.credential(e.oauthAccessToken)}catch{return null}}}Kh.GITHUB_SIGN_IN_METHOD="github.com";Kh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends l1{constructor(){super("twitter.com")}static credential(e,t){return yd._fromParams({providerId:Xh.PROVIDER_ID,signInMethod:Xh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xh.credentialFromTaggedObject(e)}static credentialFromError(e){return Xh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Xh.credential(t,i)}catch{return null}}}Xh.TWITTER_SIGN_IN_METHOD="twitter.com";Xh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(n,e){return o1(n,"POST","/v1/accounts:signUp",uh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await tc._fromIdTokenResponse(e,i,r),a=h3(i);return new xd({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=h3(i);return new xd({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function h3(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends tu{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,V_.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new V_(e,t,i,r)}}function Ok(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?V_._fromErrorAndOperation(n,s,e,i):s})}async function iV(n,e,t=!1){const i=await Nm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xd._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(n,e,t=!1){const{auth:i}=n;if(Qa(i.app))return Promise.reject(Gu(i));const r="reauthenticate";try{const s=await Nm(n,Ok(i,r,e,n),t);vn(s.idToken,i,"internal-error");const a=hE(s.idToken);vn(a,i,"internal-error");const{sub:l}=a;return vn(n.uid===l,i,"user-mismatch"),xd._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Al(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(n,e,t=!1){if(Qa(n.app))return Promise.reject(Gu(n));const i="signIn",r=await Ok(n,i,e),s=await xd._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function sV(n,e){return Pk(fh(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(n){const e=fh(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aV(n,e,t){const i=fh(n);await U_(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",XU)}async function oV(n,e,t){if(Qa(n.app))return Promise.reject(Gu(n));const i=fh(n),a=await U_(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nV).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Mk(n),c}),l=await xd._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function lV(n,e,t){return Qa(n.app)?Promise.reject(Gu(n)):sV(kr(n),kp.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Mk(n),i})}function cV(n,e,t,i){return kr(n).onIdTokenChanged(e,t,i)}function uV(n,e,t){return kr(n).beforeAuthStateChanged(e,t)}function hV(n,e,t,i){return kr(n).onAuthStateChanged(e,t,i)}function Mw(n){return kr(n).signOut()}const z_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(z_,"1"),this.storage.removeItem(z_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=1e3,dV=10;class Bk extends Fk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);NU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,dV):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bk.type="LOCAL";const pV=Bk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk extends Fk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jk.type="SESSION";const Uk=jk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Zv(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(t.origin,s)),c=await gV(l);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const h=mE("",20);r.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const _=p;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(_.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(){return window}function _V(n){Wc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){return typeof Wc().WorkerGlobalScope<"u"&&typeof Wc().importScripts=="function"}async function vV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yV(){return navigator?.serviceWorker?.controller||null}function xV(){return Vk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="firebaseLocalStorageDb",wV=1,H_="firebaseLocalStorage",Hk="fbase_key";class c1{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ey(n,e){return n.transaction([H_],e?"readwrite":"readonly").objectStore(H_)}function bV(){const n=indexedDB.deleteDatabase(zk);return new c1(n).toPromise()}function Fw(){const n=indexedDB.open(zk,wV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(H_,{keyPath:Hk})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(H_)?e(i):(i.close(),await bV(),e(await Fw()))})})}async function f3(n,e,t){const i=ey(n,!0).put({[Hk]:e,value:t});return new c1(i).toPromise()}async function EV(n,e){const t=ey(n,!1).get(e),i=await new c1(t).toPromise();return i===void 0?null:i.value}function d3(n,e){const t=ey(n,!0).delete(e);return new c1(t).toPromise()}const SV=800,TV=3;class qk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>TV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zv._getInstance(xV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vV(),!this.activeServiceWorker)return;this.sender=new mV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fw();return await f3(e,z_,"1"),await d3(e,z_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>f3(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>EV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>d3(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=ey(r,!1).getAll();return new c1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qk.type="LOCAL";const AV=qk;new a1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n,e){return e?ju(e):(vn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends dE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return X0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return X0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return X0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CV(n){return Pk(n.auth,new _E(n),n.bypassAuthState)}function NV(n){const{auth:e,user:t}=n;return vn(t,e,"internal-error"),rV(t,new _E(n),n.bypassAuthState)}async function RV(n){const{auth:e,user:t}=n;return vn(t,e,"internal-error"),iV(t,new _E(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CV;case"linkViaPopup":case"linkViaRedirect":return RV;case"reauthViaPopup":case"reauthViaRedirect":return NV;default:Al(this.auth,"internal-error")}}resolve(e){th(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){th(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new a1(2e3,1e4);async function kV(n,e,t){if(Qa(n.app))return Promise.reject(ac(n,"operation-not-supported-in-this-environment"));const i=fh(n);lU(n,e,gE);const r=Wk(i,t);return new fd(i,"signInViaPopup",e,r).executeNotNull()}class fd extends Gk{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,fd.currentPopupAction&&fd.currentPopupAction.cancel(),fd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vn(e,this.auth,"internal-error"),e}async onExecution(){th(this.filter.length===1,"Popup operations only handle one event");const e=mE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ac(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ac(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ac(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IV.get())};e()}}fd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="pendingRedirect",g_=new Map;class LV extends Gk{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=g_.get(this.auth._key());if(!e){try{const i=await OV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}g_.set(this.auth._key(),e)}return this.bypassAuthState||g_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OV(n,e){const t=FV(e),i=MV(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function PV(n,e){g_.set(n._key(),e)}function MV(n){return ju(n._redirectPersistence)}function FV(n){return p_(DV,n.config.apiKey,n.name)}async function BV(n,e,t=!1){if(Qa(n.app))return Promise.reject(Gu(n));const i=fh(n),r=Wk(i,e),a=await new LV(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=600*1e3;class UV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!$k(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ac(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jV&&this.cachedEventUids.clear(),this.cachedEventUids.has(p3(e))}saveEventToCache(e){this.cachedEventUids.add(p3(e)),this.lastProcessedEventTime=Date.now()}}function p3(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $k({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function VV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $k(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(n,e={}){return hh(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qV=/^https?/;async function WV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zV(n);for(const t of e)try{if(GV(t))return}catch{}Al(n,"unauthorized-domain")}function GV(n){const e=Ow(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!qV.test(t))return!1;if(HV.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new a1(3e4,6e4);function g3(){const n=Wc().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function YV(n){return new Promise((e,t)=>{function i(){g3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g3(),t(ac(n,"network-request-failed"))},timeout:$V.get()})}if(Wc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wc().gapi?.load)i();else{const r=FU("iframefcb");return Wc()[r]=()=>{gapi.load?i():t(ac(n,"network-request-failed"))},kk(`${MU()}?onload=${r}`).catch(s=>t(s))}}).catch(e=>{throw m_=null,e})}let m_=null;function KV(n){return m_=m_||YV(n),m_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new a1(5e3,15e3),QV="__/auth/iframe",JV="emulator/auth/iframe",ZV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ez=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tz(n){const e=n.config;vn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?uE(e,JV):`https://${n.config.authDomain}/${QV}`,i={apiKey:e.apiKey,appName:n.name,v:kf},r=ez.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Ip(i).slice(1)}`}async function nz(n){const e=await KV(n),t=Wc().gapi;return vn(t,n,"internal-error"),e.open({where:document.body,url:tz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZV,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=ac(n,"network-request-failed"),l=Wc().setTimeout(()=>{s(a)},XV.get());function c(){Wc().clearTimeout(l),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rz=500,sz=600,az="_blank",oz="http://localhost";class m3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lz(n,e,t,i=rz,r=sz){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c={...iz,width:i.toString(),height:r.toString(),top:s,left:a},h=Ba().toLowerCase();t&&(l=Sk(h)?az:t),bk(h)&&(e=e||oz,c.scrollbars="yes");const f=Object.entries(c).reduce((_,[m,b])=>`${_}${m}=${b},`,"");if(CU(h)&&l!=="_self")return cz(e||"",l),new m3(null);const p=window.open(e||"",l,f);vn(p,n,"popup-blocked");try{p.focus()}catch{}return new m3(p)}function cz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="__/auth/handler",hz="emulator/auth/handler",fz=encodeURIComponent("fac");async function _3(n,e,t,i,r,s){vn(n.config.authDomain,n,"auth-domain-config-required"),vn(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:kf,eventId:r};if(e instanceof gE){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Nw(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof l1){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}n.tenantId&&(a.tid=n.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await n._getAppCheckToken(),h=c?`#${fz}=${encodeURIComponent(c)}`:"";return`${dz(n)}?${Ip(l).slice(1)}${h}`}function dz({config:n}){return n.emulator?uE(n,hz):`https://${n.authDomain}/${uz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="webStorageSupport";class pz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uk,this._completeRedirectFn=BV,this._overrideRedirectResult=PV}async _openPopup(e,t,i,r){th(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await _3(e,t,i,Ow(),r);return lz(e,s,mE())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await _3(e,t,i,Ow(),r);return _V(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(th(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await nz(e),i=new UV(e);return t.register("authEvent",r=>(vn(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(v5,{type:v5},r=>{const s=r?.[0]?.[v5];s!==void 0&&t(!!s),Al(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rk()||Ek()||fE()}}const gz=pz;var v3="@firebase/auth",y3="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vz(n){mf(new Zu("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;vn(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ik(n)},h=new LU(i,r,s,c);return HU(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),mf(new Zu("auth-internal",e=>{const t=fh(e.getProvider("auth").getImmediate());return(i=>new mz(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tl(v3,y3,_z(n)),Tl(v3,y3,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=300,xz=ok("authIdTokenMaxAge")||yz;let x3=null;const wz=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>xz)return;const r=t?.token;x3!==r&&(x3=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function bz(n=Qv()){const e=s1(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zU(n,{popupRedirectResolver:gz,persistence:[AV,pV,Uk]}),i=ok("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=wz(s.toString());uV(t,a,()=>a(t.currentUser)),cV(t,l=>a(l))}}const r=sk("auth");return r&&qU(t,`http://${r}`),t}function Ez(){return document.getElementsByTagName("head")?.[0]??document}OU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=ac("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Ez().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vz("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Sz(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(f){try{h(i.next(f))}catch(p){a(p)}}function c(f){try{h(i.throw(f))}catch(p){a(p)}}function h(f){f.done?s(f.value):r(f.value).then(l,c)}h((i=i.apply(n,[])).next())})}function Tz(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(f){return c([h,f])}}function c(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=h[0]&2?r.return:h[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,h[1])).done)return s;switch(r=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(f){h=[6,f],r=0}finally{i=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z0=function(){return z0=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},z0.apply(this,arguments)},Yk=function(n){return{loading:n==null,value:n}},Az=function(){return function(n,e){switch(e.type){case"error":return z0(z0({},n),{error:e.error,loading:!1,value:void 0});case"reset":return Yk(e.defaultValue);case"value":return z0(z0({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},Cz=(function(n){var e=n?n():void 0,t=Le.useReducer(Az(),Yk(e)),i=t[0],r=t[1],s=Le.useCallback(function(){var c=n?n():void 0;r({type:"reset",defaultValue:c})},[n]),a=Le.useCallback(function(c){r({type:"error",error:c})},[]),l=Le.useCallback(function(c){r({type:"value",value:c})},[]);return Le.useMemo(function(){return{error:i.error,loading:i.loading,reset:s,setError:a,setValue:l,value:i.value}},[i.error,i.loading,s,a,l,i.value])}),vE=(function(n,e){var t=Cz(function(){return n.currentUser}),i=t.error,r=t.loading,s=t.setError,a=t.setValue,l=t.value;return Le.useEffect(function(){var c=hV(n,function(h){return Sz(void 0,void 0,void 0,function(){var f;return Tz(this,function(p){switch(p.label){case 0:return[3,4];case 1:return p.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return p.sent(),[3,4];case 3:return f=p.sent(),s(f),[3,4];case 4:return a(h),[2]}})})},s);return function(){c()}},[n]),[l,r,i]}),Nz="firebase",Rz="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tl(Nz,Rz,"app");var w3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cf,Kk;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,R){function N(){}N.prototype=R.prototype,F.F=R.prototype,F.prototype=new N,F.prototype.constructor=F,F.D=function(U,I,M){for(var z=Array(arguments.length-2),de=2;de<arguments.length;de++)z[de-2]=arguments[de];return R.prototype[I].apply(U,z)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(F,R,N){N||(N=0);const U=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)U[I]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(I=0;I<16;++I)U[I]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=F.g[0],N=F.g[1],I=F.g[2];let M=F.g[3],z;z=R+(M^N&(I^M))+U[0]+3614090360&4294967295,R=N+(z<<7&4294967295|z>>>25),z=M+(I^R&(N^I))+U[1]+3905402710&4294967295,M=R+(z<<12&4294967295|z>>>20),z=I+(N^M&(R^N))+U[2]+606105819&4294967295,I=M+(z<<17&4294967295|z>>>15),z=N+(R^I&(M^R))+U[3]+3250441966&4294967295,N=I+(z<<22&4294967295|z>>>10),z=R+(M^N&(I^M))+U[4]+4118548399&4294967295,R=N+(z<<7&4294967295|z>>>25),z=M+(I^R&(N^I))+U[5]+1200080426&4294967295,M=R+(z<<12&4294967295|z>>>20),z=I+(N^M&(R^N))+U[6]+2821735955&4294967295,I=M+(z<<17&4294967295|z>>>15),z=N+(R^I&(M^R))+U[7]+4249261313&4294967295,N=I+(z<<22&4294967295|z>>>10),z=R+(M^N&(I^M))+U[8]+1770035416&4294967295,R=N+(z<<7&4294967295|z>>>25),z=M+(I^R&(N^I))+U[9]+2336552879&4294967295,M=R+(z<<12&4294967295|z>>>20),z=I+(N^M&(R^N))+U[10]+4294925233&4294967295,I=M+(z<<17&4294967295|z>>>15),z=N+(R^I&(M^R))+U[11]+2304563134&4294967295,N=I+(z<<22&4294967295|z>>>10),z=R+(M^N&(I^M))+U[12]+1804603682&4294967295,R=N+(z<<7&4294967295|z>>>25),z=M+(I^R&(N^I))+U[13]+4254626195&4294967295,M=R+(z<<12&4294967295|z>>>20),z=I+(N^M&(R^N))+U[14]+2792965006&4294967295,I=M+(z<<17&4294967295|z>>>15),z=N+(R^I&(M^R))+U[15]+1236535329&4294967295,N=I+(z<<22&4294967295|z>>>10),z=R+(I^M&(N^I))+U[1]+4129170786&4294967295,R=N+(z<<5&4294967295|z>>>27),z=M+(N^I&(R^N))+U[6]+3225465664&4294967295,M=R+(z<<9&4294967295|z>>>23),z=I+(R^N&(M^R))+U[11]+643717713&4294967295,I=M+(z<<14&4294967295|z>>>18),z=N+(M^R&(I^M))+U[0]+3921069994&4294967295,N=I+(z<<20&4294967295|z>>>12),z=R+(I^M&(N^I))+U[5]+3593408605&4294967295,R=N+(z<<5&4294967295|z>>>27),z=M+(N^I&(R^N))+U[10]+38016083&4294967295,M=R+(z<<9&4294967295|z>>>23),z=I+(R^N&(M^R))+U[15]+3634488961&4294967295,I=M+(z<<14&4294967295|z>>>18),z=N+(M^R&(I^M))+U[4]+3889429448&4294967295,N=I+(z<<20&4294967295|z>>>12),z=R+(I^M&(N^I))+U[9]+568446438&4294967295,R=N+(z<<5&4294967295|z>>>27),z=M+(N^I&(R^N))+U[14]+3275163606&4294967295,M=R+(z<<9&4294967295|z>>>23),z=I+(R^N&(M^R))+U[3]+4107603335&4294967295,I=M+(z<<14&4294967295|z>>>18),z=N+(M^R&(I^M))+U[8]+1163531501&4294967295,N=I+(z<<20&4294967295|z>>>12),z=R+(I^M&(N^I))+U[13]+2850285829&4294967295,R=N+(z<<5&4294967295|z>>>27),z=M+(N^I&(R^N))+U[2]+4243563512&4294967295,M=R+(z<<9&4294967295|z>>>23),z=I+(R^N&(M^R))+U[7]+1735328473&4294967295,I=M+(z<<14&4294967295|z>>>18),z=N+(M^R&(I^M))+U[12]+2368359562&4294967295,N=I+(z<<20&4294967295|z>>>12),z=R+(N^I^M)+U[5]+4294588738&4294967295,R=N+(z<<4&4294967295|z>>>28),z=M+(R^N^I)+U[8]+2272392833&4294967295,M=R+(z<<11&4294967295|z>>>21),z=I+(M^R^N)+U[11]+1839030562&4294967295,I=M+(z<<16&4294967295|z>>>16),z=N+(I^M^R)+U[14]+4259657740&4294967295,N=I+(z<<23&4294967295|z>>>9),z=R+(N^I^M)+U[1]+2763975236&4294967295,R=N+(z<<4&4294967295|z>>>28),z=M+(R^N^I)+U[4]+1272893353&4294967295,M=R+(z<<11&4294967295|z>>>21),z=I+(M^R^N)+U[7]+4139469664&4294967295,I=M+(z<<16&4294967295|z>>>16),z=N+(I^M^R)+U[10]+3200236656&4294967295,N=I+(z<<23&4294967295|z>>>9),z=R+(N^I^M)+U[13]+681279174&4294967295,R=N+(z<<4&4294967295|z>>>28),z=M+(R^N^I)+U[0]+3936430074&4294967295,M=R+(z<<11&4294967295|z>>>21),z=I+(M^R^N)+U[3]+3572445317&4294967295,I=M+(z<<16&4294967295|z>>>16),z=N+(I^M^R)+U[6]+76029189&4294967295,N=I+(z<<23&4294967295|z>>>9),z=R+(N^I^M)+U[9]+3654602809&4294967295,R=N+(z<<4&4294967295|z>>>28),z=M+(R^N^I)+U[12]+3873151461&4294967295,M=R+(z<<11&4294967295|z>>>21),z=I+(M^R^N)+U[15]+530742520&4294967295,I=M+(z<<16&4294967295|z>>>16),z=N+(I^M^R)+U[2]+3299628645&4294967295,N=I+(z<<23&4294967295|z>>>9),z=R+(I^(N|~M))+U[0]+4096336452&4294967295,R=N+(z<<6&4294967295|z>>>26),z=M+(N^(R|~I))+U[7]+1126891415&4294967295,M=R+(z<<10&4294967295|z>>>22),z=I+(R^(M|~N))+U[14]+2878612391&4294967295,I=M+(z<<15&4294967295|z>>>17),z=N+(M^(I|~R))+U[5]+4237533241&4294967295,N=I+(z<<21&4294967295|z>>>11),z=R+(I^(N|~M))+U[12]+1700485571&4294967295,R=N+(z<<6&4294967295|z>>>26),z=M+(N^(R|~I))+U[3]+2399980690&4294967295,M=R+(z<<10&4294967295|z>>>22),z=I+(R^(M|~N))+U[10]+4293915773&4294967295,I=M+(z<<15&4294967295|z>>>17),z=N+(M^(I|~R))+U[1]+2240044497&4294967295,N=I+(z<<21&4294967295|z>>>11),z=R+(I^(N|~M))+U[8]+1873313359&4294967295,R=N+(z<<6&4294967295|z>>>26),z=M+(N^(R|~I))+U[15]+4264355552&4294967295,M=R+(z<<10&4294967295|z>>>22),z=I+(R^(M|~N))+U[6]+2734768916&4294967295,I=M+(z<<15&4294967295|z>>>17),z=N+(M^(I|~R))+U[13]+1309151649&4294967295,N=I+(z<<21&4294967295|z>>>11),z=R+(I^(N|~M))+U[4]+4149444226&4294967295,R=N+(z<<6&4294967295|z>>>26),z=M+(N^(R|~I))+U[11]+3174756917&4294967295,M=R+(z<<10&4294967295|z>>>22),z=I+(R^(M|~N))+U[2]+718787259&4294967295,I=M+(z<<15&4294967295|z>>>17),z=N+(M^(I|~R))+U[9]+3951481745&4294967295,F.g[0]=F.g[0]+R&4294967295,F.g[1]=F.g[1]+(I+(z<<21&4294967295|z>>>11))&4294967295,F.g[2]=F.g[2]+I&4294967295,F.g[3]=F.g[3]+M&4294967295}i.prototype.v=function(F,R){R===void 0&&(R=F.length);const N=R-this.blockSize,U=this.C;let I=this.h,M=0;for(;M<R;){if(I==0)for(;M<=N;)r(this,F,M),M+=this.blockSize;if(typeof F=="string"){for(;M<R;)if(U[I++]=F.charCodeAt(M++),I==this.blockSize){r(this,U),I=0;break}}else for(;M<R;)if(U[I++]=F[M++],I==this.blockSize){r(this,U),I=0;break}}this.h=I,this.o+=R},i.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var R=1;R<F.length-8;++R)F[R]=0;R=this.o*8;for(var N=F.length-8;N<F.length;++N)F[N]=R&255,R/=256;for(this.v(F),F=Array(16),R=0,N=0;N<4;++N)for(let U=0;U<32;U+=8)F[R++]=this.g[N]>>>U&255;return F};function s(F,R){var N=l;return Object.prototype.hasOwnProperty.call(N,F)?N[F]:N[F]=R(F)}function a(F,R){this.h=R;const N=[];let U=!0;for(let I=F.length-1;I>=0;I--){const M=F[I]|0;U&&M==R||(N[I]=M,U=!1)}this.g=N}var l={};function c(F){return-128<=F&&F<128?s(F,function(R){return new a([R|0],R<0?-1:0)}):new a([F|0],F<0?-1:0)}function h(F){if(isNaN(F)||!isFinite(F))return p;if(F<0)return E(h(-F));const R=[];let N=1;for(let U=0;F>=N;U++)R[U]=F/N|0,N*=4294967296;return new a(R,0)}function f(F,R){if(F.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F.charAt(0)=="-")return E(f(F.substring(1),R));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=h(Math.pow(R,8));let U=p;for(let M=0;M<F.length;M+=8){var I=Math.min(8,F.length-M);const z=parseInt(F.substring(M,M+I),R);I<8?(I=h(Math.pow(R,I)),U=U.j(I).add(h(z))):(U=U.j(N),U=U.add(h(z)))}return U}var p=c(0),_=c(1),m=c(16777216);n=a.prototype,n.m=function(){if(x(this))return-E(this).m();let F=0,R=1;for(let N=0;N<this.g.length;N++){const U=this.i(N);F+=(U>=0?U:4294967296+U)*R,R*=4294967296}return F},n.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(b(this))return"0";if(x(this))return"-"+E(this).toString(F);const R=h(Math.pow(F,6));var N=this;let U="";for(;;){const I=j(N,R).g;N=A(N,I.j(R));let M=((N.g.length>0?N.g[0]:N.h)>>>0).toString(F);if(N=I,b(N))return M+U;for(;M.length<6;)M="0"+M;U=M+U}},n.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function b(F){if(F.h!=0)return!1;for(let R=0;R<F.g.length;R++)if(F.g[R]!=0)return!1;return!0}function x(F){return F.h==-1}n.l=function(F){return F=A(this,F),x(F)?-1:b(F)?0:1};function E(F){const R=F.g.length,N=[];for(let U=0;U<R;U++)N[U]=~F.g[U];return new a(N,~F.h).add(_)}n.abs=function(){return x(this)?E(this):this},n.add=function(F){const R=Math.max(this.g.length,F.g.length),N=[];let U=0;for(let I=0;I<=R;I++){let M=U+(this.i(I)&65535)+(F.i(I)&65535),z=(M>>>16)+(this.i(I)>>>16)+(F.i(I)>>>16);U=z>>>16,M&=65535,z&=65535,N[I]=z<<16|M}return new a(N,N[N.length-1]&-2147483648?-1:0)};function A(F,R){return F.add(E(R))}n.j=function(F){if(b(this)||b(F))return p;if(x(this))return x(F)?E(this).j(E(F)):E(E(this).j(F));if(x(F))return E(this.j(E(F)));if(this.l(m)<0&&F.l(m)<0)return h(this.m()*F.m());const R=this.g.length+F.g.length,N=[];for(var U=0;U<2*R;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(let I=0;I<F.g.length;I++){const M=this.i(U)>>>16,z=this.i(U)&65535,de=F.i(I)>>>16,we=F.i(I)&65535;N[2*U+2*I]+=z*we,P(N,2*U+2*I),N[2*U+2*I+1]+=M*we,P(N,2*U+2*I+1),N[2*U+2*I+1]+=z*de,P(N,2*U+2*I+1),N[2*U+2*I+2]+=M*de,P(N,2*U+2*I+2)}for(F=0;F<R;F++)N[F]=N[2*F+1]<<16|N[2*F];for(F=R;F<2*R;F++)N[F]=0;return new a(N,0)};function P(F,R){for(;(F[R]&65535)!=F[R];)F[R+1]+=F[R]>>>16,F[R]&=65535,R++}function L(F,R){this.g=F,this.h=R}function j(F,R){if(b(R))throw Error("division by zero");if(b(F))return new L(p,p);if(x(F))return R=j(E(F),R),new L(E(R.g),E(R.h));if(x(R))return R=j(F,E(R)),new L(E(R.g),R.h);if(F.g.length>30){if(x(F)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var N=_,U=R;U.l(F)<=0;)N=Q(N),U=Q(U);var I=ae(N,1),M=ae(U,1);for(U=ae(U,2),N=ae(N,2);!b(U);){var z=M.add(U);z.l(F)<=0&&(I=I.add(N),M=z),U=ae(U,1),N=ae(N,1)}return R=A(F,I.j(R)),new L(I,R)}for(I=p;F.l(R)>=0;){for(N=Math.max(1,Math.floor(F.m()/R.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),M=h(N),z=M.j(R);x(z)||z.l(F)>0;)N-=U,M=h(N),z=M.j(R);b(M)&&(M=_),I=I.add(M),F=A(F,z)}return new L(I,F)}n.B=function(F){return j(this,F).h},n.and=function(F){const R=Math.max(this.g.length,F.g.length),N=[];for(let U=0;U<R;U++)N[U]=this.i(U)&F.i(U);return new a(N,this.h&F.h)},n.or=function(F){const R=Math.max(this.g.length,F.g.length),N=[];for(let U=0;U<R;U++)N[U]=this.i(U)|F.i(U);return new a(N,this.h|F.h)},n.xor=function(F){const R=Math.max(this.g.length,F.g.length),N=[];for(let U=0;U<R;U++)N[U]=this.i(U)^F.i(U);return new a(N,this.h^F.h)};function Q(F){const R=F.g.length+1,N=[];for(let U=0;U<R;U++)N[U]=F.i(U)<<1|F.i(U-1)>>>31;return new a(N,F.h)}function ae(F,R){const N=R>>5;R%=32;const U=F.g.length-N,I=[];for(let M=0;M<U;M++)I[M]=R>0?F.i(M+N)>>>R|F.i(M+N+1)<<32-R:F.i(M+N);return new a(I,F.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Kk=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,cf=a}).apply(typeof w3<"u"?w3:typeof self<"u"?self:typeof window<"u"?window:{});var A2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xk,Wg,Qk,__,Bw,Jk,Zk,e8;(function(){var n,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof A2=="object"&&A2];for(var O=0;O<y.length;++O){var q=y[O];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var i=t(this);function r(y,O){if(O)e:{var q=i;y=y.split(".");for(var re=0;re<y.length-1;re++){var Pe=y[re];if(!(Pe in q))break e;q=q[Pe]}y=y[y.length-1],re=q[y],O=O(re),O!=re&&O!=null&&e(q,y,{configurable:!0,writable:!0,value:O})}}r("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(y){return y||function(O){var q=[],re;for(re in O)Object.prototype.hasOwnProperty.call(O,re)&&q.push([re,O[re]]);return q}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(y){var O=typeof y;return O=="object"&&y!=null||O=="function"}function c(y,O,q){return y.call.apply(y.bind,arguments)}function h(y,O,q){return h=c,h.apply(null,arguments)}function f(y,O){var q=Array.prototype.slice.call(arguments,1);return function(){var re=q.slice();return re.push.apply(re,arguments),y.apply(this,re)}}function p(y,O){function q(){}q.prototype=O.prototype,y.Z=O.prototype,y.prototype=new q,y.prototype.constructor=y,y.Ob=function(re,Pe,We){for(var xt=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)xt[wn-2]=arguments[wn];return O.prototype[Pe].apply(re,xt)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function m(y){const O=y.length;if(O>0){const q=Array(O);for(let re=0;re<O;re++)q[re]=y[re];return q}return[]}function b(y,O){for(let re=1;re<arguments.length;re++){const Pe=arguments[re];var q=typeof Pe;if(q=q!="object"?q:Pe?Array.isArray(Pe)?"array":q:"null",q=="array"||q=="object"&&typeof Pe.length=="number"){q=y.length||0;const We=Pe.length||0;y.length=q+We;for(let xt=0;xt<We;xt++)y[q+xt]=Pe[xt]}else y.push(Pe)}}class x{constructor(O,q){this.i=O,this.j=q,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function E(y){a.setTimeout(()=>{throw y},0)}function A(){var y=F;let O=null;return y.g&&(O=y.g,y.g=y.g.next,y.g||(y.h=null),O.next=null),O}class P{constructor(){this.h=this.g=null}add(O,q){const re=L.get();re.set(O,q),this.h?this.h.next=re:this.g=re,this.h=re}}var L=new x(()=>new j,y=>y.reset());class j{constructor(){this.next=this.g=this.h=null}set(O,q){this.h=O,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ae=!1,F=new P,R=()=>{const y=Promise.resolve(void 0);Q=()=>{y.then(N)}};function N(){for(var y;y=A();){try{y.h.call(y.g)}catch(q){E(q)}var O=L;O.j(y),O.h<100&&(O.h++,y.next=O.g,O.g=y)}ae=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(y,O){this.type=y,this.g=this.target=O,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,O=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const q=()=>{};a.addEventListener("test",q,O),a.removeEventListener("test",q,O)}catch{}return y})();function z(y){return/^[\s\xa0]*$/.test(y)}function de(y,O){I.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,O)}p(de,I),de.prototype.init=function(y,O){const q=this.type=y.type,re=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=O,O=y.relatedTarget,O||(q=="mouseover"?O=y.fromElement:q=="mouseout"&&(O=y.toElement)),this.relatedTarget=O,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),ce=0;function ye(y,O,q,re,Pe){this.listener=y,this.proxy=null,this.src=O,this.type=q,this.capture=!!re,this.ha=Pe,this.key=++ce,this.da=this.fa=!1}function be(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ne(y,O,q){for(const re in y)O.call(q,y[re],re,y)}function $e(y,O){for(const q in y)O.call(void 0,y[q],q,y)}function se(y){const O={};for(const q in y)O[q]=y[q];return O}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(y,O){let q,re;for(let Pe=1;Pe<arguments.length;Pe++){re=arguments[Pe];for(q in re)y[q]=re[q];for(let We=0;We<k.length;We++)q=k[We],Object.prototype.hasOwnProperty.call(re,q)&&(y[q]=re[q])}}function W(y){this.src=y,this.g={},this.h=0}W.prototype.add=function(y,O,q,re,Pe){const We=y.toString();y=this.g[We],y||(y=this.g[We]=[],this.h++);const xt=ne(y,O,re,Pe);return xt>-1?(O=y[xt],q||(O.fa=!1)):(O=new ye(O,this.src,We,!!re,Pe),O.fa=q,y.push(O)),O};function Y(y,O){const q=O.type;if(q in y.g){var re=y.g[q],Pe=Array.prototype.indexOf.call(re,O,void 0),We;(We=Pe>=0)&&Array.prototype.splice.call(re,Pe,1),We&&(be(O),y.g[q].length==0&&(delete y.g[q],y.h--))}}function ne(y,O,q,re){for(let Pe=0;Pe<y.length;++Pe){const We=y[Pe];if(!We.da&&We.listener==O&&We.capture==!!q&&We.ha==re)return Pe}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Ae={};function Te(y,O,q,re,Pe){if(Array.isArray(O)){for(let We=0;We<O.length;We++)Te(y,O[We],q,re,Pe);return null}return q=It(q),y&&y[we]?y.J(O,q,l(re)?!!re.capture:!1,Pe):Ie(y,O,q,!1,re,Pe)}function Ie(y,O,q,re,Pe,We){if(!O)throw Error("Invalid event type");const xt=l(Pe)?!!Pe.capture:!!Pe;let wn=pt(y);if(wn||(y[xe]=wn=new W(y)),q=wn.add(O,q,re,xt,We),q.proxy)return q;if(re=et(),q.proxy=re,re.src=y,re.listener=q,y.addEventListener)M||(Pe=xt),Pe===void 0&&(Pe=!1),y.addEventListener(O.toString(),re,Pe);else if(y.attachEvent)y.attachEvent(_t(O.toString()),re);else if(y.addListener&&y.removeListener)y.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return q}function et(){function y(q){return O.call(y.src,y.listener,q)}const O=he;return y}function lt(y,O,q,re,Pe){if(Array.isArray(O))for(var We=0;We<O.length;We++)lt(y,O[We],q,re,Pe);else re=l(re)?!!re.capture:!!re,q=It(q),y&&y[we]?(y=y.i,We=String(O).toString(),We in y.g&&(O=y.g[We],q=ne(O,q,re,Pe),q>-1&&(be(O[q]),Array.prototype.splice.call(O,q,1),O.length==0&&(delete y.g[We],y.h--)))):y&&(y=pt(y))&&(O=y.g[O.toString()],y=-1,O&&(y=ne(O,q,re,Pe)),(q=y>-1?O[y]:null)&&yt(q))}function yt(y){if(typeof y!="number"&&y&&!y.da){var O=y.src;if(O&&O[we])Y(O.i,y);else{var q=y.type,re=y.proxy;O.removeEventListener?O.removeEventListener(q,re,y.capture):O.detachEvent?O.detachEvent(_t(q),re):O.addListener&&O.removeListener&&O.removeListener(re),(q=pt(O))?(Y(q,y),q.h==0&&(q.src=null,O[xe]=null)):be(y)}}}function _t(y){return y in Ae?Ae[y]:Ae[y]="on"+y}function he(y,O){if(y.da)y=!0;else{O=new de(O,this);const q=y.listener,re=y.ha||y.src;y.fa&&yt(y),y=q.call(re,O)}return y}function pt(y){return y=y[xe],y instanceof W?y:null}var ht="__closure_events_fn_"+(Math.random()*1e9>>>0);function It(y){return typeof y=="function"?y:(y[ht]||(y[ht]=function(O){return y.handleEvent(O)}),y[ht])}function Qe(){U.call(this),this.i=new W(this),this.M=this,this.G=null}p(Qe,U),Qe.prototype[we]=!0,Qe.prototype.removeEventListener=function(y,O,q,re){lt(this,y,O,q,re)};function Ct(y,O){var q,re=y.G;if(re)for(q=[];re;re=re.G)q.push(re);if(y=y.M,re=O.type||O,typeof O=="string")O=new I(O,y);else if(O instanceof I)O.target=O.target||y;else{var Pe=O;O=new I(re,y),G(O,Pe)}Pe=!0;let We,xt;if(q)for(xt=q.length-1;xt>=0;xt--)We=O.g=q[xt],Pe=At(We,re,!0,O)&&Pe;if(We=O.g=y,Pe=At(We,re,!0,O)&&Pe,Pe=At(We,re,!1,O)&&Pe,q)for(xt=0;xt<q.length;xt++)We=O.g=q[xt],Pe=At(We,re,!1,O)&&Pe}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var y=this.i;for(const O in y.g){const q=y.g[O];for(let re=0;re<q.length;re++)be(q[re]);delete y.g[O],y.h--}}this.G=null},Qe.prototype.J=function(y,O,q,re){return this.i.add(String(y),O,!1,q,re)},Qe.prototype.K=function(y,O,q,re){return this.i.add(String(y),O,!0,q,re)};function At(y,O,q,re){if(O=y.i.g[String(O)],!O)return!0;O=O.concat();let Pe=!0;for(let We=0;We<O.length;++We){const xt=O[We];if(xt&&!xt.da&&xt.capture==q){const wn=xt.listener,ji=xt.ha||xt.src;xt.fa&&Y(y.i,xt),Pe=wn.call(ji,re)!==!1&&Pe}}return Pe&&!re.defaultPrevented}function Xt(y,O){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:a.setTimeout(y,O||0)}function qt(y){y.g=Xt(()=>{y.g=null,y.i&&(y.i=!1,qt(y))},y.l);const O=y.h;y.h=null,y.m.apply(null,O)}class Zt extends U{constructor(O,q){super(),this.m=O,this.l=q,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(y){U.call(this),this.h=y,this.g={}}p(mn,U);var un=[];function Tn(y){Ne(y.g,function(O,q){this.g.hasOwnProperty(q)&&yt(O)},y),y.g={}}mn.prototype.N=function(){mn.Z.N.call(this),Tn(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=a.JSON.stringify,Bt=a.JSON.parse,gn=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function jt(){}function Ci(){}var yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){I.call(this,"d")}p($t,I);function an(){I.call(this,"c")}p(an,I);var xn={},Yt=null;function Wn(){return Yt=Yt||new Qe}xn.Ia="serverreachability";function en(y){I.call(this,xn.Ia,y)}p(en,I);function tn(y){const O=Wn();Ct(O,new en(O))}xn.STAT_EVENT="statevent";function ti(y,O){I.call(this,xn.STAT_EVENT,y),this.stat=O}p(ti,I);function Wt(y){const O=Wn();Ct(O,new ti(O,y))}xn.Ja="timingevent";function Mt(y,O){I.call(this,xn.Ja,y),this.size=O}p(Mt,I);function In(y,O){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},O)}function Wr(){this.g=!0}Wr.prototype.ua=function(){this.g=!1};function Dr(y,O,q,re,Pe,We){y.info(function(){if(y.g)if(We){var xt="",wn=We.split("&");for(let On=0;On<wn.length;On++){var ji=wn[On].split("=");if(ji.length>1){const gi=ji[0];ji=ji[1];const as=gi.split("_");xt=as.length>=2&&as[1]=="type"?xt+(gi+"="+ji+"&"):xt+(gi+"=redacted&")}}}else xt=null;else xt=We;return"XMLHTTP REQ ("+re+") [attempt "+Pe+"]: "+O+`
`+q+`
`+xt})}function ma(y,O,q,re,Pe,We,xt){y.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Pe+"]: "+O+`
`+q+`
`+We+" "+xt})}function Sr(y,O,q,re){y.info(function(){return"XMLHTTP TEXT ("+O+"): "+Ua(y,q)+(re?" "+re:"")})}function Kt(y,O){y.info(function(){return"TIMEOUT: "+O})}Wr.prototype.info=function(){};function Ua(y,O){if(!y.g)return O;if(!O)return null;try{const We=JSON.parse(O);if(We){for(y=0;y<We.length;y++)if(Array.isArray(We[y])){var q=We[y];if(!(q.length<2)){var re=q[1];if(Array.isArray(re)&&!(re.length<1)){var Pe=re[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(let xt=1;xt<re.length;xt++)re[xt]=""}}}}return hn(We)}catch{return O}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},is;function di(){}p(di,jt),di.prototype.g=function(){return new XMLHttpRequest},is=new di;function Si(y){return encodeURIComponent(String(y))}function J(y){var O=1;y=y.split(":");const q=[];for(;O>0&&y.length;)q.push(y.shift()),O--;return y.length&&q.push(y.join(":")),q}function pe(y,O,q,re){this.j=y,this.i=O,this.l=q,this.S=re||1,this.V=new mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var le={},fe={};function ve(y,O,q){y.M=1,y.A=nl(pr(O)),y.u=q,y.R=!0,Fe(y,null)}function Fe(y,O){y.F=Date.now(),Ve(y),y.B=pr(y.A);var q=y.B,re=y.S;Array.isArray(re)||(re=[String(re)]),mc(q.i,"t",re),y.C=0,q=y.j.L,y.h=new oe,y.g=Ot(y.j,q?O:null,!y.u),y.P>0&&(y.O=new Zt(h(y.Y,y,y.g),y.P)),O=y.V,q=y.g,re=y.ba;var Pe="readystatechange";Array.isArray(Pe)||(Pe&&(un[0]=Pe.toString()),Pe=un);for(let We=0;We<Pe.length;We++){const xt=Te(q,Pe[We],re||O.handleEvent,!1,O.h||O);if(!xt)break;O.g[xt.key]=xt}O=y.J?se(y.J):{},y.u?(y.v||(y.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,O)):(y.v="GET",y.g.ea(y.B,y.v,null,O)),tn(),Dr(y.i,y.v,y.B,y.l,y.S,y.u)}pe.prototype.ba=function(y){y=y.target;const O=this.O;O&&Zs(y)==3?O.j():this.Y(y)},pe.prototype.Y=function(y){try{if(y==this.g)e:{const wn=Zs(this.g),ji=this.g.ya(),On=this.g.ca();if(!(wn<3)&&(wn!=3||this.g&&(this.h.h||this.g.la()||Ar(this.g)))){this.K||wn!=4||ji==7||(ji==8||On<=0?tn(3):tn(2)),vt(this);var O=this.g.ca();this.X=O;var q=Ke(this);if(this.o=O==200,ma(this.i,this.v,this.B,this.l,this.S,wn,O),this.o){if(this.U&&!this.L){t:{if(this.g){var re,Pe=this.g;if((re=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(re)){var We=re;break t}}We=null}if(y=We)Sr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wt(this,y);else{this.o=!1,this.m=3,Wt(12),gt(this),bt(this);break e}}if(this.R){y=!0;let gi;for(;!this.K&&this.C<q.length;)if(gi=Ue(this,q),gi==fe){wn==4&&(this.m=4,Wt(14),y=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==le){this.m=4,Wt(15),Sr(this.i,this.l,q,"[Invalid Chunk]"),y=!1;break}else Sr(this.i,this.l,gi,null),wt(this,gi);if(je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||q.length!=0||this.h.h||(this.m=1,Wt(16),y=!1),this.o=this.o&&y,!y)Sr(this.i,this.l,q,"[Invalid Chunked Response]"),gt(this),bt(this);else if(q.length>0&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.aa&&!xt.P&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),xc(xt),xt.P=!0,Wt(11))}}else Sr(this.i,this.l,q,null),wt(this,q);wn==4&&gt(this),this.o&&!this.K&&(wn==4?me(this.j,this):(this.o=!1,Ve(this)))}else to(this.g),O==400&&q.indexOf("Unknown SID")>0?(this.m=3,Wt(12)):(this.m=0,Wt(13)),gt(this),bt(this)}}}catch{}finally{}};function Ke(y){if(!je(y))return y.g.la();const O=Ar(y.g);if(O==="")return"";let q="";const re=O.length,Pe=Zs(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return gt(y),bt(y),"";y.h.i=new a.TextDecoder}for(let We=0;We<re;We++)y.h.h=!0,q+=y.h.i.decode(O[We],{stream:!(Pe&&We==re-1)});return O.length=0,y.h.g+=q,y.C=0,y.h.g}function je(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Ue(y,O){var q=y.C,re=O.indexOf(`
`,q);return re==-1?fe:(q=Number(O.substring(q,re)),isNaN(q)?le:(re+=1,re+q>O.length?fe:(O=O.slice(re,re+q),y.C=re+q,O)))}pe.prototype.cancel=function(){this.K=!0,gt(this)};function Ve(y){y.T=Date.now()+y.H,ft(y,y.H)}function ft(y,O){if(y.D!=null)throw Error("WatchDog timer not null");y.D=In(h(y.aa,y),O)}function vt(y){y.D&&(a.clearTimeout(y.D),y.D=null)}pe.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Kt(this.i,this.B),this.M!=2&&(tn(),Wt(17)),gt(this),this.m=2,bt(this)):ft(this,this.T-y)};function bt(y){y.j.I==0||y.K||me(y.j,y)}function gt(y){vt(y);var O=y.O;O&&typeof O.dispose=="function"&&O.dispose(),y.O=null,Tn(y.V),y.g&&(O=y.g,y.g=null,O.abort(),O.dispose())}function wt(y,O){try{var q=y.j;if(q.I!=0&&(q.g==y||Gr(q.h,y))){if(!y.L&&Gr(q.h,y)&&q.I==3){try{var re=q.Ba.g.parse(O)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Pe=re;if(Pe[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<y.F)K(q),io(q);else break e;Ha(q),Wt(18)}}else q.xa=Pe[1],0<q.xa-q.K&&Pe[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=In(h(q.Va,q),6e3));ui(q.h)<=1&&q.ta&&(q.ta=void 0)}else De(q,11)}else if((y.L||q.g==y)&&K(q),!z(O))for(Pe=q.Ba.g.parse(O),O=0;O<Pe.length;O++){let On=Pe[O];const gi=On[0];if(!(gi<=q.K))if(q.K=gi,On=On[1],q.I==2)if(On[0]=="c"){q.M=On[1],q.ba=On[2];const as=On[3];as!=null&&(q.ka=as,q.j.info("VER="+q.ka));const ys=On[4];ys!=null&&(q.za=ys,q.j.info("SVER="+q.za));const Ni=On[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(re=1.5*Ni,q.O=re,q.j.info("backChannelRequestTimeoutMs_="+re)),re=q;const xs=y.g;if(xs){const qa=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qa){var We=re.h;We.g||qa.indexOf("spdy")==-1&&qa.indexOf("quic")==-1&&qa.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(Xs(We,We.h),We.h=null))}if(re.G){const ol=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(re.wa=ol,Gn(re.J,re.G,ol))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-y.F,q.j.info("Handshake RTT: "+q.T+"ms")),re=q;var xt=y;if(re.na=ct(re,re.L?re.ba:null,re.W),xt.L){_a(re.h,xt);var wn=xt,ji=re.O;ji&&(wn.H=ji),wn.D&&(vt(wn),Ve(wn)),re.g=xt}else cu(re);q.i.length>0&&ya(q)}else On[0]!="stop"&&On[0]!="close"||De(q,7);else q.I==3&&(On[0]=="stop"||On[0]=="close"?On[0]=="stop"?De(q,7):al(q):On[0]!="noop"&&q.l&&q.l.qa(On),q.A=0)}}tn(4)}catch{}}var Lt=class{constructor(y,O){this.g=y,this.map=O}};function ni(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dn(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ui(y){return y.h?1:y.g?y.g.size:0}function Gr(y,O){return y.h?y.h==O:y.g?y.g.has(O):!1}function Xs(y,O){y.g?y.g.add(O):y.h=O}function _a(y,O){y.h&&y.h==O?y.h=null:y.g&&y.g.has(O)&&y.g.delete(O)}ni.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ks(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let O=y.i;for(const q of y.g.values())O=O.concat(q.G);return O}return m(y.i)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yi(y,O){if(y){y=y.split("&");for(let q=0;q<y.length;q++){const re=y[q].indexOf("=");let Pe,We=null;re>=0?(Pe=y[q].substring(0,re),We=y[q].substring(re+1)):Pe=y[q],O(Pe,We?decodeURIComponent(We.replace(/\+/g," ")):"")}}}function rs(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;y instanceof rs?(this.l=y.l,Fn(this,y.j),this.o=y.o,this.g=y.g,ko(this,y.u),this.h=y.h,va(this,_c(y.i)),this.m=y.m):y&&(O=String(y).match(Io))?(this.l=!1,Fn(this,O[1]||"",!0),this.o=Tr(O[2]||""),this.g=Tr(O[3]||"",!0),ko(this,O[4]),this.h=Tr(O[5]||"",!0),va(this,O[6]||"",!0),this.m=Tr(O[7]||"")):(this.l=!1,this.i=new Do(null,this.l))}rs.prototype.toString=function(){const y=[];var O=this.j;O&&y.push(Ki(O,Il,!0),":");var q=this.g;return(q||O=="file")&&(y.push("//"),(O=this.o)&&y.push(Ki(O,Il,!0),"@"),y.push(Si(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&y.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&y.push("/"),y.push(Ki(q,q.charAt(0)=="/"?ru:gh,!0))),(q=this.i.toString())&&y.push("?",q),(q=this.m)&&y.push("#",Ki(q,su)),y.join("")},rs.prototype.resolve=function(y){const O=pr(this);let q=!!y.j;q?Fn(O,y.j):q=!!y.o,q?O.o=y.o:q=!!y.g,q?O.g=y.g:q=y.u!=null;var re=y.h;if(q)ko(O,y.u);else if(q=!!y.h){if(re.charAt(0)!="/")if(this.g&&!this.h)re="/"+re;else{var Pe=O.h.lastIndexOf("/");Pe!=-1&&(re=O.h.slice(0,Pe+1)+re)}if(Pe=re,Pe==".."||Pe==".")re="";else if(Pe.indexOf("./")!=-1||Pe.indexOf("/.")!=-1){re=Pe.lastIndexOf("/",0)==0,Pe=Pe.split("/");const We=[];for(let xt=0;xt<Pe.length;){const wn=Pe[xt++];wn=="."?re&&xt==Pe.length&&We.push(""):wn==".."?((We.length>1||We.length==1&&We[0]!="")&&We.pop(),re&&xt==Pe.length&&We.push("")):(We.push(wn),re=!0)}re=We.join("/")}else re=Pe}return q?O.h=re:q=y.i.toString()!=="",q?va(O,_c(y.i)):q=!!y.m,q&&(O.m=y.m),O};function pr(y){return new rs(y)}function Fn(y,O,q){y.j=q?Tr(O,!0):O,y.j&&(y.j=y.j.replace(/:$/,""))}function ko(y,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);y.u=O}else y.u=null}function va(y,O,q){O instanceof Do?(y.i=O,Ds(y.i,y.l)):(q||(O=Ki(O,vs)),y.i=new Do(O,y.l))}function Gn(y,O,q){y.i.set(O,q)}function nl(y){return Gn(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Tr(y,O){return y?O?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ki(y,O,q){return typeof y=="string"?(y=encodeURI(y).replace(O,gr),q&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function gr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Il=/[#\/\?@]/g,gh=/[#\?:]/g,ru=/[#\?]/g,vs=/[#\?@]/g,su=/#/g;function Do(y,O){this.h=this.g=null,this.i=y||null,this.j=!!O}function $r(y){y.g||(y.g=new Map,y.h=0,y.i&&Yi(y.i,function(O,q){y.add(decodeURIComponent(O.replace(/\+/g," ")),q)}))}n=Do.prototype,n.add=function(y,O){$r(this),this.i=null,y=Lo(this,y);let q=this.g.get(y);return q||this.g.set(y,q=[]),q.push(O),this.h+=1,this};function il(y,O){$r(y),O=Lo(y,O),y.g.has(O)&&(y.i=null,y.h-=y.g.get(O).length,y.g.delete(O))}function au(y,O){return $r(y),O=Lo(y,O),y.g.has(O)}n.forEach=function(y,O){$r(this),this.g.forEach(function(q,re){q.forEach(function(Pe){y.call(O,Pe,re,this)},this)},this)};function ou(y,O){$r(y);let q=[];if(typeof O=="string")au(y,O)&&(q=q.concat(y.g.get(Lo(y,O))));else for(y=Array.from(y.g.values()),O=0;O<y.length;O++)q=q.concat(y[O]);return q}n.set=function(y,O){return $r(this),this.i=null,y=Lo(this,y),au(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[O]),this.h+=1,this},n.get=function(y,O){return y?(y=ou(this,y),y.length>0?String(y[0]):O):O};function mc(y,O,q){il(y,O),q.length>0&&(y.i=null,y.g.set(Lo(y,O),m(q)),y.h+=q.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],O=Array.from(this.g.keys());for(let re=0;re<O.length;re++){var q=O[re];const Pe=Si(q);q=ou(this,q);for(let We=0;We<q.length;We++){let xt=Pe;q[We]!==""&&(xt+="="+Si(q[We])),y.push(xt)}}return this.i=y.join("&")};function _c(y){const O=new Do;return O.i=y.i,y.g&&(O.g=new Map(y.g),O.h=y.h),O}function Lo(y,O){return O=String(O),y.j&&(O=O.toLowerCase()),O}function Ds(y,O){O&&!y.j&&($r(y),y.i=null,y.g.forEach(function(q,re){const Pe=re.toLowerCase();re!=Pe&&(il(this,re),mc(this,Pe,q))},y)),y.j=O}function Va(y,O){const q=new Wr;if(a.Image){const re=new Image;re.onload=f(Ls,q,"TestLoadImage: loaded",!0,O,re),re.onerror=f(Ls,q,"TestLoadImage: error",!1,O,re),re.onabort=f(Ls,q,"TestLoadImage: abort",!1,O,re),re.ontimeout=f(Ls,q,"TestLoadImage: timeout",!1,O,re),a.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=y}else O(!1)}function Oo(y,O){const q=new Wr,re=new AbortController,Pe=setTimeout(()=>{re.abort(),Ls(q,"TestPingServer: timeout",!1,O)},1e4);fetch(y,{signal:re.signal}).then(We=>{clearTimeout(Pe),We.ok?Ls(q,"TestPingServer: ok",!0,O):Ls(q,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(Pe),Ls(q,"TestPingServer: error",!1,O)})}function Ls(y,O,q,re,Pe){try{Pe&&(Pe.onload=null,Pe.onerror=null,Pe.onabort=null,Pe.ontimeout=null),re(q)}catch{}}function rl(){this.g=new gn}function nn(y){this.i=y.Sb||null,this.h=y.ab||!1}p(nn,jt),nn.prototype.g=function(){return new kl(this.i,this.h)};function kl(y,O){Qe.call(this),this.H=y,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(kl,Qe),n=kl.prototype,n.open=function(y,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=O,this.readyState=1,Yr(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(O.body=y),(this.H||a).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},n.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function vc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}n.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var O=y.value?y.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!y.done}))&&(this.response=this.responseText+=O)}y.done?sl(this):Yr(this),this.readyState==3&&vc(this)}},n.Oa=function(y){this.g&&(this.response=this.responseText=y,sl(this))},n.Na=function(y){this.g&&(this.response=y,sl(this))},n.ga=function(){this.g&&sl(this)};function sl(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Yr(y)}n.setRequestHeader=function(y,O){this.A.append(y,O)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],O=this.h.entries();for(var q=O.next();!q.done;)q=q.value,y.push(q[0]+": "+q[1]),q=O.next();return y.join(`\r
`)};function Yr(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Or(y){let O="";return Ne(y,function(q,re){O+=re,O+=":",O+=q,O+=`\r
`}),O}function Dl(y,O,q){e:{for(re in q){var re=!1;break e}re=!0}re||(q=Or(q),typeof y=="string"?q!=null&&Si(q):Gn(y,O,q))}function pi(y){Qe.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(pi,Qe);var Qs=/^https?$/i,Ll=["POST","PUT"];n=pi.prototype,n.Fa=function(y){this.H=y},n.ea=function(y,O,q,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);O=O?O.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():is.g(),this.g.onreadystatechange=_(h(this.Ca,this));try{this.B=!0,this.g.open(O,String(y),!0),this.B=!1}catch(We){za(this,We);return}if(y=q||"",q=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Pe in re)q.set(Pe,re[Pe]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const We of re.keys())q.set(We,re.get(We));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(q.keys()).find(We=>We.toLowerCase()=="content-type"),Pe=a.FormData&&y instanceof a.FormData,!(Array.prototype.indexOf.call(Ll,O,void 0)>=0)||re||Pe||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,xt]of q)this.g.setRequestHeader(We,xt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(We){za(this,We)}};function za(y,O){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=O,y.o=5,lu(y),Po(y)}function lu(y){y.A||(y.A=!0,Ct(y,"complete"),Ct(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Ct(this,"complete"),Ct(this,"abort"),Po(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Po(this,!0)),pi.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},n.Xa=function(){Js(this)};function Js(y){if(y.h&&typeof s<"u"){if(y.v&&Zs(y)==4)setTimeout(y.Ca.bind(y),0);else if(Ct(y,"readystatechange"),Zs(y)==4){y.h=!1;try{const We=y.ca();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var q;if(!(q=O)){var re;if(re=We===0){let xt=String(y.D).match(Io)[1]||null;!xt&&a.self&&a.self.location&&(xt=a.self.location.protocol.slice(0,-1)),re=!Qs.test(xt?xt.toLowerCase():"")}q=re}if(q)Ct(y,"complete"),Ct(y,"success");else{y.o=6;try{var Pe=Zs(y)>2?y.g.statusText:""}catch{Pe=""}y.l=Pe+" ["+y.ca()+"]",lu(y)}}finally{Po(y)}}}}function Po(y,O){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const q=y.g;y.g=null,O||Ct(y,"ready");try{q.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Zs(y){return y.g?y.g.readyState:0}n.ca=function(){try{return Zs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(y){if(this.g){var O=this.g.responseText;return y&&O.indexOf(y)==0&&(O=O.substring(y.length)),Bt(O)}};function Ar(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function to(y){const O={};y=(y.g&&Zs(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<y.length;re++){if(z(y[re]))continue;var q=J(y[re]);const Pe=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const We=O[Pe]||[];O[Pe]=We,We.push(q)}$e(O,function(re){return re.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(y,O,q){return q&&q.internalChannelParams&&q.internalChannelParams[y]||O}function no(y){this.za=0,this.i=[],this.j=new Wr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ss("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ss("baseRetryDelayMs",5e3,y),this.Za=ss("retryDelaySeedMs",1e4,y),this.Ta=ss("forwardChannelMaxRetries",2,y),this.va=ss("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new ni(y&&y.concurrentRequestLimit),this.Ba=new rl,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=no.prototype,n.ka=8,n.I=1,n.connect=function(y,O,q,re){Wt(0),this.W=y,this.H=O||{},q&&re!==void 0&&(this.H.OSID=q,this.H.OAID=re),this.F=this.X,this.J=ct(this,null,this.W),ya(this)};function al(y){if(ro(y),y.I==3){var O=y.V++,q=pr(y.J);if(Gn(q,"SID",y.M),Gn(q,"RID",O),Gn(q,"TYPE","terminate"),ea(y,q),O=new pe(y,y.j,O),O.M=2,O.A=nl(pr(q)),q=!1,a.navigator&&a.navigator.sendBeacon)try{q=a.navigator.sendBeacon(O.A.toString(),"")}catch{}!q&&a.Image&&(new Image().src=O.A,q=!0),q||(O.g=Ot(O.j,null),O.g.ea(O.A)),O.F=Date.now(),Ve(O)}tt(y)}function io(y){y.g&&(xc(y),y.g.cancel(),y.g=null)}function ro(y){io(y),y.v&&(a.clearTimeout(y.v),y.v=null),K(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&a.clearTimeout(y.m),y.m=null)}function ya(y){if(!Dn(y.h)&&!y.m){y.m=!0;var O=y.Ea;Q||R(),ae||(Q(),ae=!0),F.add(O,y),y.D=0}}function Ol(y,O){return ui(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=O.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=In(h(y.Ea,y,O),Se(y,y.D)),y.D++,!0)}n.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Pe=new pe(this,this.j,y);let We=this.o;if(this.U&&(We?(We=se(We),G(We,this.U)):We=this.U),this.u!==null||this.R||(Pe.J=We,We=null),this.S)e:{for(var O=0,q=0;q<this.i.length;q++){t:{var re=this.i[q];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(O+=re,O>4096){O=q;break e}if(O===4096||q===this.i.length-1){O=q+1;break e}}O=1e3}else O=1e3;O=so(this,Pe,O),q=pr(this.J),Gn(q,"RID",y),Gn(q,"CVER",22),this.G&&Gn(q,"X-HTTP-Session-Id",this.G),ea(this,q),We&&(this.R?O="headers="+Si(Or(We))+"&"+O:this.u&&Dl(q,this.u,We)),Xs(this.h,Pe),this.Ra&&Gn(q,"TYPE","init"),this.S?(Gn(q,"$req",O),Gn(q,"SID","null"),Pe.U=!0,ve(Pe,q,null)):ve(Pe,q,O),this.I=2}}else this.I==3&&(y?yc(this,y):this.i.length==0||Dn(this.h)||yc(this))};function yc(y,O){var q;O?q=O.l:q=y.V++;const re=pr(y.J);Gn(re,"SID",y.M),Gn(re,"RID",q),Gn(re,"AID",y.K),ea(y,re),y.u&&y.o&&Dl(re,y.u,y.o),q=new pe(y,y.j,q,y.D+1),y.u===null&&(q.J=y.o),O&&(y.i=O.G.concat(y.i)),O=so(y,q,1e3),q.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Xs(y.h,q),ve(q,re,O)}function ea(y,O){y.H&&Ne(y.H,function(q,re){Gn(O,re,q)}),y.l&&Ne({},function(q,re){Gn(O,re,q)})}function so(y,O,q){q=Math.min(y.i.length,q);const re=y.l?h(y.l.Ka,y.l,y):null;e:{var Pe=y.i;let wn=-1;for(;;){const ji=["count="+q];wn==-1?q>0?(wn=Pe[0].g,ji.push("ofs="+wn)):wn=0:ji.push("ofs="+wn);let On=!0;for(let gi=0;gi<q;gi++){var We=Pe[gi].g;const as=Pe[gi].map;if(We-=wn,We<0)wn=Math.max(0,Pe[gi].g-100),On=!1;else try{We="req"+We+"_"||"";try{var xt=as instanceof Map?as:Object.entries(as);for(const[ys,Ni]of xt){let xs=Ni;l(Ni)&&(xs=hn(Ni)),ji.push(We+ys+"="+encodeURIComponent(xs))}}catch(ys){throw ji.push(We+"type="+encodeURIComponent("_badmap")),ys}}catch{re&&re(as)}}if(On){xt=ji.join("&");break e}}xt=void 0}return y=y.i.splice(0,q),O.G=y,xt}function cu(y){if(!y.g&&!y.v){y.Y=1;var O=y.Da;Q||R(),ae||(Q(),ae=!0),F.add(O,y),y.A=0}}function Ha(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=In(h(y.Da,y),Se(y,y.A)),y.A++,!0)}n.Da=function(){if(this.v=null,C(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=In(h(this.Wa,this),y)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Wt(10),io(this),C(this))};function xc(y){y.B!=null&&(a.clearTimeout(y.B),y.B=null)}function C(y){y.g=new pe(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var O=pr(y.na);Gn(O,"RID","rpc"),Gn(O,"SID",y.M),Gn(O,"AID",y.K),Gn(O,"CI",y.F?"0":"1"),!y.F&&y.ia&&Gn(O,"TO",y.ia),Gn(O,"TYPE","xmlhttp"),ea(y,O),y.u&&y.o&&Dl(O,y.u,y.o),y.O&&(y.g.H=y.O);var q=y.g;y=y.ba,q.M=1,q.A=nl(pr(O)),q.u=null,q.R=!0,Fe(q,y)}n.Va=function(){this.C!=null&&(this.C=null,io(this),Ha(this),Wt(19))};function K(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function me(y,O){var q=null;if(y.g==O){K(y),xc(y),y.g=null;var re=2}else if(Gr(y.h,O))q=O.G,_a(y.h,O),re=1;else return;if(y.I!=0){if(O.o)if(re==1){q=O.u?O.u.length:0,O=Date.now()-O.F;var Pe=y.D;re=Wn(),Ct(re,new Mt(re,q)),ya(y)}else cu(y);else if(Pe=O.m,Pe==3||Pe==0&&O.X>0||!(re==1&&Ol(y,O)||re==2&&Ha(y)))switch(q&&q.length>0&&(O=y.h,O.i=O.i.concat(q)),Pe){case 1:De(y,5);break;case 4:De(y,10);break;case 3:De(y,6);break;default:De(y,2)}}}function Se(y,O){let q=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(q*=2),q*O}function De(y,O){if(y.j.info("Error code "+O),O==2){var q=h(y.bb,y),re=y.Ua;const Pe=!re;re=new rs(re||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fn(re,"https"),nl(re),Pe?Va(re.toString(),q):Oo(re.toString(),q)}else Wt(2);y.I=0,y.l&&y.l.pa(O),tt(y),ro(y)}n.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function tt(y){if(y.I=0,y.ja=[],y.l){const O=ks(y.h);(O.length!=0||y.i.length!=0)&&(b(y.ja,O),b(y.ja,y.i),y.h.i.length=0,m(y.i),y.i.length=0),y.l.oa()}}function ct(y,O,q){var re=q instanceof rs?pr(q):new rs(q);if(re.g!="")O&&(re.g=O+"."+re.g),ko(re,re.u);else{var Pe=a.location;re=Pe.protocol,O=O?O+"."+Pe.hostname:Pe.hostname,Pe=+Pe.port;const We=new rs(null);re&&Fn(We,re),O&&(We.g=O),Pe&&ko(We,Pe),q&&(We.h=q),re=We}return q=y.G,O=y.wa,q&&O&&Gn(re,q,O),Gn(re,"VER",y.ka),ea(y,re),re}function Ot(y,O,q){if(O&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=y.Aa&&!y.ma?new pi(new nn({ab:q})):new pi(y.ma),O.Fa(y.L),O}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vt(){}n=Vt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function on(){}on.prototype.g=function(y,O){return new Qt(y,O)};function Qt(y,O){Qe.call(this),this.g=new no(O),this.l=y,this.h=O&&O.messageUrlParams||null,y=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(y?y["X-WebChannel-Content-Type"]=O.messageContentType:y={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(y?y["X-WebChannel-Client-Profile"]=O.sa:y={"X-WebChannel-Client-Profile":O.sa}),this.g.U=y,(y=O&&O.Qb)&&!z(y)&&(this.g.u=y),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!z(O)&&(this.g.G=O,y=this.h,y!==null&&O in y&&(y=this.h,O in y&&delete y[O])),this.j=new Ti(this)}p(Qt,Qe),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){al(this.g)},Qt.prototype.o=function(y){var O=this.g;if(typeof y=="string"){var q={};q.__data__=y,y=q}else this.v&&(q={},q.__data__=hn(y),y=q);O.i.push(new Lt(O.Ya++,y)),O.I==3&&ya(O)},Qt.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,Qt.Z.N.call(this)};function Bn(y){$t.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var O=y.__sm__;if(O){e:{for(const q in O){y=q;break e}y=void 0}(this.i=y)&&(y=this.i,O=O!==null&&y in O?O[y]:void 0),this.data=O}else this.data=y}p(Bn,$t);function Bi(){an.call(this),this.status=1}p(Bi,an);function Ti(y){this.g=y}p(Ti,Vt),Ti.prototype.ra=function(){Ct(this.g,"a")},Ti.prototype.qa=function(y){Ct(this.g,new Bn(y))},Ti.prototype.pa=function(y){Ct(this.g,new Bi)},Ti.prototype.oa=function(){Ct(this.g,"b")},on.prototype.createWebChannel=on.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,e8=function(){return new on},Zk=function(){return Wn()},Jk=xn,Bw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,__=_s,Lr.COMPLETE="complete",Qk=Lr,Ci.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Wg=Ci,pi.prototype.listenOnce=pi.prototype.K,pi.prototype.getLastError=pi.prototype.Ha,pi.prototype.getLastErrorCode=pi.prototype.ya,pi.prototype.getStatus=pi.prototype.ca,pi.prototype.getResponseJson=pi.prototype.La,pi.prototype.getResponseText=pi.prototype.la,pi.prototype.send=pi.prototype.ea,pi.prototype.setWithCredentials=pi.prototype.Fa,Xk=pi}).apply(typeof A2<"u"?A2:typeof self<"u"?self:typeof window<"u"?window:{});const b3="@firebase/firestore",E3="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ra.UNAUTHENTICATED=new Ra(null),Ra.GOOGLE_CREDENTIALS=new Ra("google-credentials-uid"),Ra.FIRST_PARTY=new Ra("first-party-uid"),Ra.MOCK_USER=new Ra("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Xv("@firebase/firestore");function P0(){return wd.logLevel}function Pt(n,...e){if(wd.logLevel<=Hn.DEBUG){const t=e.map(yE);wd.debug(`Firestore (${Dp}): ${n}`,...t)}}function nh(n,...e){if(wd.logLevel<=Hn.ERROR){const t=e.map(yE);wd.error(`Firestore (${Dp}): ${n}`,...t)}}function dp(n,...e){if(wd.logLevel<=Hn.WARN){const t=e.map(yE);wd.warn(`Firestore (${Dp}): ${n}`,...t)}}function yE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,t8(n,i,t)}function t8(n,e,t){let i=`FIRESTORE (${Dp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw nh(i),new Error(i)}function ci(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||t8(e,r,i)}function Sn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends tu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ra.UNAUTHENTICATED)))}shutdown(){}}class kz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Dz{constructor(e){this.t=e,this.currentUser=Ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ci(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Gc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gc,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await r(this.currentUser)}))},l=c=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gc)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ci(typeof i.accessToken=="string",31837,{l:i}),new n8(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ci(e===null||typeof e=="string",2055,{h:e}),new Ra(e)}}class Lz{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ra.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Oz{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Lz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ra.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ci(this.o===void 0,3512);const i=s=>{s.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Pt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>i(s)))};const r=s=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ci(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new S3(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=Mz(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Kn(n,e){return n<e?-1:n>e?1:0}function jw(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),s=e.charAt(i);if(r!==s)return y5(r)===y5(s)?Kn(r,s):y5(r)?1:-1}return Kn(n.length,e.length)}const Fz=55296,Bz=57343;function y5(n){const e=n.charCodeAt(0);return e>=Fz&&e<=Bz}function pp(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="__name__";class Vc{constructor(e,t,i){t===void 0?t=0:t>e.length&&fn(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&fn(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Vc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=Vc.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Kn(e.length,t.length)}static compareSegments(e,t){const i=Vc.isNumericId(e),r=Vc.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Vc.extractNumericId(e).compare(Vc.extractNumericId(t)):jw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cf.fromString(e.substring(4,e.length-2))}}class Gi extends Vc{construct(e,t,i){return new Gi(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Nt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new Gi(t)}static emptyPath(){return new Gi([])}}const jz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ua extends Vc{construct(e,t,i){return new ua(e,t,i)}static isValidIdentifier(e){return jz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ua.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T3}static keyField(){return new ua([T3])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Nt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new Nt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Nt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new Nt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ua(t)}static emptyPath(){return new ua([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.path=e}static fromPath(e){return new sn(Gi.fromString(e))}static fromName(e){return new sn(Gi.fromString(e).popFirst(5))}static empty(){return new sn(Gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sn(new Gi(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n,e,t){if(!t)throw new Nt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uz(n,e,t,i){if(e===!0&&i===!0)throw new Nt(rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function A3(n){if(!sn.isDocumentKey(n))throw new Nt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C3(n){if(sn.isDocumentKey(n))throw new Nt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function r8(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ty(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":fn(12329,{type:typeof n})}function Qc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Nt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ty(n);throw new Nt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,e){const t={typeString:n};return e&&(t.value=e),t}function u1(n,e){if(!r8(n))throw new Nt(rt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new Nt(rt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=-62135596800,R3=1e6;class lr{static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*R3);return new lr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<N3)throw new Nt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R3}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(u1(e,lr._jsonSchema))return new lr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lr._jsonSchemaVersion="firestore/timestamp/1.0",lr._jsonSchema={type:ds("string",lr._jsonSchemaVersion),seconds:ds("number"),nanoseconds:ds("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{static fromTimestamp(e){return new _n(e)}static min(){return new _n(new lr(0,0))}static max(){return new _n(new lr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=-1;function Vz(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=_n.fromTimestamp(i===1e9?new lr(t+1,0):new lr(t,i));return new _f(r,sn.empty(),e)}function zz(n){return new _f(n.readTime,n.key,Im)}class _f{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _f(_n.min(),sn.empty(),Im)}static max(){return new _f(_n.max(),sn.empty(),Im)}}function Hz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=sn.comparator(n.documentKey,e.documentKey),t!==0?t:Kn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==qz)throw n;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ut(((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ut?t:ut.resolve(t)}catch(t){return ut.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ut.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ut.reject(t)}static resolve(e){return new ut(((t,i)=>{t(e)}))}static reject(e){return new ut(((t,i)=>{i(e)}))}static waitFor(e){return new ut(((t,i)=>{let r=0,s=0,a=!1;e.forEach((l=>{++r,l.next((()=>{++s,a&&s===r&&t()}),(c=>i(c)))})),a=!0,s===r&&t()}))}static or(e){let t=ut.resolve(!1);for(const i of e)t=t.next((r=>r?ut.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,s)=>{i.push(t.call(this,r,s))})),this.waitFor(i)}static mapArray(e,t){return new ut(((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;t(e[h]).next((f=>{a[h]=f,++l,l===s&&i(a)}),(f=>r(f)))}}))}static doWhile(e,t){return new ut(((i,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):i()};s()}))}}function Gz(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Op(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ny.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=-1;function h1(n){return n==null}function q_(n){return n===0&&1/n==-1/0}function $z(n){return typeof n=="number"&&Number.isInteger(n)&&!q_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="";function Yz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=I3(e)),e=Kz(n.get(t),e);return I3(e)}function Kz(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case s8:t+="";break;default:t+=s}}return t}function I3(n){return n+s8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Df(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function a8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gs=class Uw{constructor(e,t){this.comparator=e,this.root=t||uf.EMPTY}insert(e,t){return new Uw(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,uf.BLACK,null,null))}remove(e){return new Uw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uf.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new C2(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new C2(this.root,e,this.comparator,!1)}getReverseIterator(){return new C2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new C2(this.root,e,this.comparator,!0)}},C2=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},uf=class Du{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Du.RED,this.left=r??Du.EMPTY,this.right=s??Du.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Du(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Du.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Du.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Du.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Du.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fn(27949);return e+(this.isRed()?0:1)}};uf.EMPTY=null,uf.RED=!0,uf.BLACK=!1;uf.EMPTY=new class{constructor(){this.size=0}get key(){throw fn(57766)}get value(){throw fn(16141)}get color(){throw fn(16727)}get left(){throw fn(29726)}get right(){throw fn(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new uf(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.comparator=e,this.data=new gs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new D3(this.data.getIterator())}getIteratorFrom(e){return new D3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Is(this.comparator);return t.data=e,t}}class D3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.fields=e,e.sort(ua.comparator)}static empty(){return new Qo([])}unionWith(e){let t=new Is(ua.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pp(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new o8("Invalid base64 string: "+s):s}})(e);return new pa(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s})(e);return new pa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pa.EMPTY_BYTE_STRING=new pa("");const Xz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vf(n){if(ci(!!n,39018),typeof n=="string"){let e=0;const t=Xz.exec(n);if(ci(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yf(n){return typeof n=="string"?pa.fromBase64String(n):pa.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="server_timestamp",c8="__type__",u8="__previous_value__",h8="__local_write_time__";function bE(n){return(n?.mapValue?.fields||{})[c8]?.stringValue===l8}function iy(n){const e=n.mapValue.fields[u8];return bE(e)?iy(e):e}function km(n){const e=vf(n.mapValue.fields[h8].timestampValue);return new lr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,t,i,r,s,a,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f}}const W_="(default)";class Dm{constructor(e,t){this.projectId=e,this.database=t||W_}static empty(){return new Dm("","")}get isDefaultDatabase(){return this.database===W_}isEqual(e){return e instanceof Dm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="__type__",Jz="__max__",N2={mapValue:{}},d8="__vector__",G_="value";function xf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bE(n)?4:eH(n)?9007199254740991:Zz(n)?10:11:fn(28295,{value:n})}function Jc(n,e){if(n===e)return!0;const t=xf(n);if(t!==xf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return km(n).isEqual(km(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=vf(r.timestampValue),l=vf(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,s){return yf(r.bytesValue).isEqual(yf(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,s){return Qr(r.geoPointValue.latitude)===Qr(s.geoPointValue.latitude)&&Qr(r.geoPointValue.longitude)===Qr(s.geoPointValue.longitude)})(n,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return Qr(r.integerValue)===Qr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Qr(r.doubleValue),l=Qr(s.doubleValue);return a===l?q_(a)===q_(l):isNaN(a)&&isNaN(l)}return!1})(n,e);case 9:return pp(n.arrayValue.values||[],e.arrayValue.values||[],Jc);case 10:case 11:return(function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(k3(a)!==k3(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Jc(a[c],l[c])))return!1;return!0})(n,e);default:return fn(52216,{left:n})}}function Lm(n,e){return(n.values||[]).find((t=>Jc(t,e)))!==void 0}function gp(n,e){if(n===e)return 0;const t=xf(n),i=xf(e);if(t!==i)return Kn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=Qr(s.integerValue||s.doubleValue),c=Qr(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(n,e);case 3:return L3(n.timestampValue,e.timestampValue);case 4:return L3(km(n),km(e));case 5:return jw(n.stringValue,e.stringValue);case 6:return(function(s,a){const l=yf(s),c=yf(a);return l.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=Kn(l[h],c[h]);if(f!==0)return f}return Kn(l.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=Kn(Qr(s.latitude),Qr(a.latitude));return l!==0?l:Kn(Qr(s.longitude),Qr(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return O3(n.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},c=a.fields||{},h=l[G_]?.arrayValue,f=c[G_]?.arrayValue,p=Kn(h?.values?.length||0,f?.values?.length||0);return p!==0?p:O3(h,f)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===N2.mapValue&&a===N2.mapValue)return 0;if(s===N2.mapValue)return 1;if(a===N2.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=a.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const _=jw(c[p],f[p]);if(_!==0)return _;const m=gp(l[c[p]],h[f[p]]);if(m!==0)return m}return Kn(c.length,f.length)})(n.mapValue,e.mapValue);default:throw fn(23264,{he:t})}}function L3(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Kn(n,e);const t=vf(n),i=vf(e),r=Kn(t.seconds,i.seconds);return r!==0?r:Kn(t.nanos,i.nanos)}function O3(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=gp(t[r],i[r]);if(s)return s}return Kn(t.length,i.length)}function mp(n){return Vw(n)}function Vw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=vf(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return yf(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return sn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=Vw(s);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Vw(t.fields[a])}`;return r+"}"})(n.mapValue):fn(61005,{value:n})}function v_(n){switch(xf(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=iy(n);return e?16+v_(e):16;case 5:return 2*n.stringValue.length;case 6:return yf(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,s)=>r+v_(s)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Df(i.fields,((s,a)=>{r+=s.length+v_(a)})),r})(n.mapValue);default:throw fn(13486,{value:n})}}function P3(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zw(n){return!!n&&"integerValue"in n}function EE(n){return!!n&&"arrayValue"in n}function M3(n){return!!n&&"nullValue"in n}function F3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function y_(n){return!!n&&"mapValue"in n}function Zz(n){return(n?.mapValue?.fields||{})[f8]?.stringValue===d8}function nm(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Df(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=nm(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nm(n.arrayValue.values[t]);return e}return{...n}}function eH(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Jz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.value=e}static empty(){return new Ja({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!y_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nm(t)}setAll(e){let t=ua.emptyPath(),i={},r=[];e.forEach(((a,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=l.popLast()}a?i[l.lastSegment()]=nm(a):r.push(l.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());y_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];y_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Df(t,((r,s)=>e[r]=s));for(const r of i)delete e[r]}clone(){return new Ja(nm(this.value))}}function p8(n){const e=[];return Df(n.fields,((t,i)=>{const r=new ua([t]);if(y_(i)){const s=p8(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)})),new Qo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t,i,r,s,a,l){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qs(e,0,_n.min(),_n.min(),_n.min(),Ja.empty(),0)}static newFoundDocument(e,t,i,r){return new qs(e,1,t,_n.min(),i,r,0)}static newNoDocument(e,t){return new qs(e,2,t,_n.min(),_n.min(),Ja.empty(),0)}static newUnknownDocument(e,t){return new qs(e,3,t,_n.min(),_n.min(),Ja.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_n.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ja.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ja.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t){this.position=e,this.inclusive=t}}function B3(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=sn.comparator(sn.fromName(a.referenceValue),t.key):i=gp(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function j3(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t="asc"){this.field=e,this.dir=t}}function tH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{}class fs extends g8{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new iH(e,t,i):t==="array-contains"?new aH(e,i):t==="in"?new oH(e,i):t==="not-in"?new lH(e,i):t==="array-contains-any"?new cH(e,i):new fs(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new rH(e,i):new sH(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gp(t,this.value)):t!==null&&xf(this.value)===xf(t)&&this.matchesComparison(gp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class uc extends g8{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new uc(e,t)}matches(e){return m8(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m8(n){return n.op==="and"}function _8(n){return nH(n)&&m8(n)}function nH(n){for(const e of n.filters)if(e instanceof uc)return!1;return!0}function Hw(n){if(n instanceof fs)return n.field.canonicalString()+n.op.toString()+mp(n.value);if(_8(n))return n.filters.map((e=>Hw(e))).join(",");{const e=n.filters.map((t=>Hw(t))).join(",");return`${n.op}(${e})`}}function v8(n,e){return n instanceof fs?(function(i,r){return r instanceof fs&&i.op===r.op&&i.field.isEqual(r.field)&&Jc(i.value,r.value)})(n,e):n instanceof uc?(function(i,r){return r instanceof uc&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((s,a,l)=>s&&v8(a,r.filters[l])),!0):!1})(n,e):void fn(19439)}function y8(n){return n instanceof fs?(function(t){return`${t.field.canonicalString()} ${t.op} ${mp(t.value)}`})(n):n instanceof uc?(function(t){return t.op.toString()+" {"+t.getFilters().map(y8).join(" ,")+"}"})(n):"Filter"}class iH extends fs{constructor(e,t,i){super(e,t,i),this.key=sn.fromName(i.referenceValue)}matches(e){const t=sn.comparator(e.key,this.key);return this.matchesComparison(t)}}class rH extends fs{constructor(e,t){super(e,"in",t),this.keys=x8("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sH extends fs{constructor(e,t){super(e,"not-in",t),this.keys=x8("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function x8(n,e){return(e.arrayValue?.values||[]).map((t=>sn.fromName(t.referenceValue)))}class aH extends fs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return EE(t)&&Lm(t.arrayValue,this.value)}}class oH extends fs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lm(this.value.arrayValue,t)}}class lH extends fs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Lm(this.value.arrayValue,t)}}class cH extends fs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!EE(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Lm(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,t=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function U3(n,e=null,t=[],i=[],r=null,s=null,a=null){return new uH(n,e,t,i,r,s,a)}function SE(n){const e=Sn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Hw(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(s){return s.field.canonicalString()+s.dir})(i))).join(","),h1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>mp(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>mp(i))).join(",")),e.Te=t}return e.Te}function TE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j3(n.startAt,e.startAt)&&j3(n.endAt,e.endAt)}function qw(n){return sn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t=null,i=[],r=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hH(n,e,t,i,r,s,a,l){return new Pp(n,e,t,i,r,s,a,l)}function AE(n){return new Pp(n)}function V3(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function w8(n){return n.collectionGroup!==null}function im(n){const e=Sn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Is(ua.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Om(s,i))})),t.has(ua.keyField().canonicalString())||e.Ie.push(new Om(ua.keyField(),i))}return e.Ie}function $c(n){const e=Sn(n);return e.Ee||(e.Ee=fH(e,im(n))),e.Ee}function fH(n,e){if(n.limitType==="F")return U3(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new Om(r.field,s)}));const t=n.endAt?new $_(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new $_(n.startAt.position,n.startAt.inclusive):null;return U3(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ww(n,e){const t=n.filters.concat([e]);return new Pp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Y_(n,e,t){return new Pp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ry(n,e){return TE($c(n),$c(e))&&n.limitType===e.limitType}function b8(n){return`${SE($c(n))}|lt:${n.limitType}`}function M0(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>y8(r))).join(", ")}]`),h1(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>mp(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>mp(r))).join(",")),`Target(${i})`})($c(n))}; limitType=${n.limitType})`}function sy(n,e){return e.isFoundDocument()&&(function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):sn.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)})(n,e)&&(function(i,r){for(const s of im(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(a,l,c){const h=B3(a,l,c);return a.inclusive?h<=0:h<0})(i.startAt,im(i),r)||i.endAt&&!(function(a,l,c){const h=B3(a,l,c);return a.inclusive?h>=0:h>0})(i.endAt,im(i),r))})(n,e)}function dH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function E8(n){return(e,t)=>{let i=!1;for(const r of im(n)){const s=pH(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function pH(n,e,t){const i=n.field.isKeyField()?sn.comparator(e.key,t.key):(function(s,a,l){const c=a.data.field(s),h=l.data.field(s);return c!==null&&h!==null?gp(c,h):fn(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return fn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Df(this.inner,((t,i)=>{for(const[r,s]of i)e(r,s)}))}isEmpty(){return a8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=new gs(sn.comparator);function ih(){return gH}const S8=new gs(sn.comparator);function Gg(...n){let e=S8;for(const t of n)e=e.insert(t.key,t);return e}function T8(n){let e=S8;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function dd(){return rm()}function A8(){return rm()}function rm(){return new Ld((n=>n.toString()),((n,e)=>n.isEqual(e)))}const mH=new gs(sn.comparator),_H=new Is(sn.comparator);function Xn(...n){let e=_H;for(const t of n)e=e.add(t);return e}const vH=new Is(Kn);function yH(){return vH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q_(e)?"-0":e}}function C8(n){return{integerValue:""+n}}function xH(n,e){return $z(e)?C8(e):CE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this._=void 0}}function wH(n,e,t){return n instanceof Pm?(function(r,s){const a={fields:{[c8]:{stringValue:l8},[h8]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&bE(s)&&(s=iy(s)),s&&(a.fields[u8]=s),{mapValue:a}})(t,e):n instanceof Mm?R8(n,e):n instanceof Fm?I8(n,e):(function(r,s){const a=N8(r,s),l=z3(a)+z3(r.Ae);return zw(a)&&zw(r.Ae)?C8(l):CE(r.serializer,l)})(n,e)}function bH(n,e,t){return n instanceof Mm?R8(n,e):n instanceof Fm?I8(n,e):t}function N8(n,e){return n instanceof K_?(function(i){return zw(i)||(function(s){return!!s&&"doubleValue"in s})(i)})(e)?e:{integerValue:0}:null}class Pm extends ay{}class Mm extends ay{constructor(e){super(),this.elements=e}}function R8(n,e){const t=k8(e);for(const i of n.elements)t.some((r=>Jc(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Fm extends ay{constructor(e){super(),this.elements=e}}function I8(n,e){let t=k8(e);for(const i of n.elements)t=t.filter((r=>!Jc(r,i)));return{arrayValue:{values:t}}}class K_ extends ay{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function z3(n){return Qr(n.integerValue||n.doubleValue)}function k8(n){return EE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,t){this.field=e,this.transform=t}}function SH(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Mm&&r instanceof Mm||i instanceof Fm&&r instanceof Fm?pp(i.elements,r.elements,Jc):i instanceof K_&&r instanceof K_?Jc(i.Ae,r.Ae):i instanceof Pm&&r instanceof Pm})(n.transform,e.transform)}class TH{constructor(e,t){this.version=e,this.transformResults=t}}class La{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new La}static exists(e){return new La(void 0,e)}static updateTime(e){return new La(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class oy{}function D8(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ly(n.key,La.none()):new f1(n.key,n.data,La.none());{const t=n.data,i=Ja.empty();let r=new Is(ua.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Lf(n.key,i,new Qo(r.toArray()),La.none())}}function AH(n,e,t){n instanceof f1?(function(r,s,a){const l=r.value.clone(),c=q3(r.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(n,e,t):n instanceof Lf?(function(r,s,a){if(!x_(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=q3(r.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(L8(r)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(n,e,t):(function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function sm(n,e,t,i){return n instanceof f1?(function(s,a,l,c){if(!x_(s.precondition,a))return l;const h=s.value.clone(),f=W3(s.fieldTransforms,c,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(n,e,t,i):n instanceof Lf?(function(s,a,l,c){if(!x_(s.precondition,a))return l;const h=W3(s.fieldTransforms,c,a),f=a.data;return f.setAll(L8(s)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(n,e,t,i):(function(s,a,l){return x_(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(n,e,t)}function CH(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=N8(i.transform,r||null);s!=null&&(t===null&&(t=Ja.empty()),t.set(i.field,s))}return t||null}function H3(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&pp(i,r,((s,a)=>SH(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class f1 extends oy{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lf extends oy{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function L8(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function q3(n,e,t){const i=new Map;ci(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,bH(a,l,t[r]))}return i}function W3(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,wH(s,a,e))}return i}class ly extends oy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O8 extends oy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&AH(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=sm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=sm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=A8();return this.mutations.forEach((r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=t.has(r.key)?null:l;const c=D8(a,l);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(_n.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xn())}isEqual(e){return this.batchId===e.batchId&&pp(this.mutations,e.mutations,((t,i)=>H3(t,i)))&&pp(this.baseMutations,e.baseMutations,((t,i)=>H3(t,i)))}}class NE{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ci(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return mH})();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new NE(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hs,ai;function P8(n){switch(n){case rt.OK:return fn(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return fn(15467,{code:n})}}function M8(n){if(n===void 0)return nh("GRPC error has no .code"),rt.UNKNOWN;switch(n){case hs.OK:return rt.OK;case hs.CANCELLED:return rt.CANCELLED;case hs.UNKNOWN:return rt.UNKNOWN;case hs.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case hs.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case hs.INTERNAL:return rt.INTERNAL;case hs.UNAVAILABLE:return rt.UNAVAILABLE;case hs.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case hs.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case hs.NOT_FOUND:return rt.NOT_FOUND;case hs.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case hs.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case hs.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case hs.ABORTED:return rt.ABORTED;case hs.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case hs.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case hs.DATA_LOSS:return rt.DATA_LOSS;default:return fn(39323,{code:n})}}(ai=hs||(hs={}))[ai.OK=0]="OK",ai[ai.CANCELLED=1]="CANCELLED",ai[ai.UNKNOWN=2]="UNKNOWN",ai[ai.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ai[ai.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ai[ai.NOT_FOUND=5]="NOT_FOUND",ai[ai.ALREADY_EXISTS=6]="ALREADY_EXISTS",ai[ai.PERMISSION_DENIED=7]="PERMISSION_DENIED",ai[ai.UNAUTHENTICATED=16]="UNAUTHENTICATED",ai[ai.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ai[ai.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ai[ai.ABORTED=10]="ABORTED",ai[ai.OUT_OF_RANGE=11]="OUT_OF_RANGE",ai[ai.UNIMPLEMENTED=12]="UNIMPLEMENTED",ai[ai.INTERNAL=13]="INTERNAL",ai[ai.UNAVAILABLE=14]="UNAVAILABLE",ai[ai.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=new cf([4294967295,4294967295],0);function G3(n){const e=kH().encode(n),t=new Kk;return t.update(e),new Uint8Array(t.digest())}function $3(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cf([t,i],0),new cf([r,s],0)]}class RE{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $g(`Invalid padding: ${t}`);if(i<0)throw new $g(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $g(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new $g(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=cf.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(cf.fromNumber(i)));return r.compare(DH)===1&&(r=new cf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=G3(e),[i,r]=$3(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new RE(s,r,t);return i.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const t=G3(e),[i,r]=$3(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class $g extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,d1.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new cy(_n.min(),r,new gs(Kn),ih(),Xn())}}class d1{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new d1(i,t,Xn(),Xn(),Xn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class F8{constructor(e,t){this.targetId=e,this.Ce=t}}class B8{constructor(e,t,i=pa.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Y3{constructor(){this.ve=0,this.Fe=K3(),this.Me=pa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xn(),t=Xn(),i=Xn();return this.Fe.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:fn(38017,{changeType:s})}})),new d1(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=K3()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ci(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LH{constructor(e){this.Ge=e,this.ze=new Map,this.je=ih(),this.Je=R2(),this.He=R2(),this.Ye=new gs(Kn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:fn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(qw(s))if(i===0){const a=new sn(s.path);this.et(t,a,qs.newNoDocument(a,_n.min()))}else ci(i===1,20013,{expectedCount:i});else{const a=this._t(t);if(a!==i){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,l;try{a=yf(i).toUint8Array()}catch(c){if(c instanceof o8)return dp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new RE(a,r,s)}catch(c){return dp(c instanceof $g?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(t,s,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&qw(l.target)){const c=new sn(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,qs.newNoDocument(c,e))}s.Be&&(t.set(a,s.ke()),s.qe())}}));let i=Xn();this.He.forEach(((s,a)=>{let l=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(i=i.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const r=new cy(e,t,this.Ye,this.je,i);return this.je=ih(),this.Je=R2(),this.He=R2(),this.Ye=new gs(Kn),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Y3,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Is(Kn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Is(Kn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Pt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y3),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function R2(){return new gs(sn.comparator)}function K3(){return new gs(sn.comparator)}const OH={asc:"ASCENDING",desc:"DESCENDING"},PH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MH={and:"AND",or:"OR"};class FH{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gw(n,e){return n.useProto3Json||h1(e)?e:{value:e}}function X_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j8(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BH(n,e){return X_(n,e.toTimestamp())}function Zo(n){return ci(!!n,49232),_n.fromTimestamp((function(t){const i=vf(t);return new lr(i.seconds,i.nanos)})(n))}function IE(n,e){return $w(n,e).canonicalString()}function $w(n,e){const t=(function(r){return new Gi(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function U8(n){const e=Gi.fromString(n);return ci(G8(e),10190,{key:e.toString()}),e}function Q_(n,e){return IE(n.databaseId,e.path)}function am(n,e){const t=U8(e);if(t.get(1)!==n.databaseId.projectId)throw new Nt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Nt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new sn(z8(t))}function V8(n,e){return IE(n.databaseId,e)}function jH(n){const e=U8(n);return e.length===4?Gi.emptyPath():z8(e)}function Yw(n){return new Gi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z8(n){return ci(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function X3(n,e,t){return{name:Q_(n,e),fields:t.value.mapValue.fields}}function UH(n,e){return"found"in e?(function(i,r){ci(!!r.found,43571),r.found.name,r.found.updateTime;const s=am(i,r.found.name),a=Zo(r.found.updateTime),l=r.found.createTime?Zo(r.found.createTime):_n.min(),c=new Ja({mapValue:{fields:r.found.fields}});return qs.newFoundDocument(s,a,l,c)})(n,e):"missing"in e?(function(i,r){ci(!!r.missing,3894),ci(!!r.readTime,22933);const s=am(i,r.missing),a=Zo(r.readTime);return qs.newNoDocument(s,a)})(n,e):fn(7234,{result:e})}function VH(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:fn(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(h,f){return h.useProto3Json?(ci(f===void 0||typeof f=="string",58123),pa.fromBase64String(f||"")):(ci(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),pa.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(h){const f=h.code===void 0?rt.UNKNOWN:M8(h.code);return new Nt(f,h.message||"")})(a);t=new B8(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=am(n,i.document.name),s=Zo(i.document.updateTime),a=i.document.createTime?Zo(i.document.createTime):_n.min(),l=new Ja({mapValue:{fields:i.document.fields}}),c=qs.newFoundDocument(r,s,a,l),h=i.targetIds||[],f=i.removedTargetIds||[];t=new w_(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=am(n,i.document),s=i.readTime?Zo(i.readTime):_n.min(),a=qs.newNoDocument(r,s),l=i.removedTargetIds||[];t=new w_([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=am(n,i.document),s=i.removedTargetIds||[];t=new w_([],s,r,null)}else{if(!("filter"in e))return fn(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new IH(r,s),l=i.targetId;t=new F8(l,a)}}return t}function H8(n,e){let t;if(e instanceof f1)t={update:X3(n,e.key,e.value)};else if(e instanceof ly)t={delete:Q_(n,e.key)};else if(e instanceof Lf)t={update:X3(n,e.key,e.data),updateMask:XH(e.fieldMask)};else{if(!(e instanceof O8))return fn(16599,{Vt:e.type});t={verify:Q_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(s,a){const l=a.transform;if(l instanceof Pm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof K_)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw fn(20930,{transform:a.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:BH(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fn(27497)})(n,e.precondition)),t}function zH(n,e){return n&&n.length>0?(ci(e!==void 0,14353),n.map((t=>(function(r,s){let a=r.updateTime?Zo(r.updateTime):Zo(s);return a.isEqual(_n.min())&&(a=Zo(s)),new TH(a,r.transformResults||[])})(t,e)))):[]}function HH(n,e){return{documents:[V8(n,e.path)]}}function qH(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=V8(n,r);const s=(function(h){if(h.length!==0)return W8(uc.create(h,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(h){if(h.length!==0)return h.map((f=>(function(_){return{field:F0(_.field),direction:$H(_.dir)}})(f)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=Gw(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:r}}function WH(n){let e=jH(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ci(i===1,65062);const f=t.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(p){const _=q8(p);return _ instanceof uc&&_8(_)?_.getFilters():[_]})(t.where));let a=[];t.orderBy&&(a=(function(p){return p.map((_=>(function(b){return new Om(B0(b.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(_)))})(t.orderBy));let l=null;t.limit&&(l=(function(p){let _;return _=typeof p=="object"?p.value:p,h1(_)?null:_})(t.limit));let c=null;t.startAt&&(c=(function(p){const _=!!p.before,m=p.values||[];return new $_(m,_)})(t.startAt));let h=null;return t.endAt&&(h=(function(p){const _=!p.before,m=p.values||[];return new $_(m,_)})(t.endAt)),hH(e,r,a,s,l,"F",c,h)}function GH(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fn(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function q8(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=B0(t.unaryFilter.field);return fs.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=B0(t.unaryFilter.field);return fs.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=B0(t.unaryFilter.field);return fs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=B0(t.unaryFilter.field);return fs.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fn(61313);default:return fn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return fs.create(B0(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fn(58110);default:return fn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return uc.create(t.compositeFilter.filters.map((i=>q8(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return fn(1026)}})(t.compositeFilter.op))})(n):fn(30097,{filter:n})}function $H(n){return OH[n]}function YH(n){return PH[n]}function KH(n){return MH[n]}function F0(n){return{fieldPath:n.canonicalString()}}function B0(n){return ua.fromServerFormat(n.fieldPath)}function W8(n){return n instanceof fs?(function(t){if(t.op==="=="){if(F3(t.value))return{unaryFilter:{field:F0(t.field),op:"IS_NAN"}};if(M3(t.value))return{unaryFilter:{field:F0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(F3(t.value))return{unaryFilter:{field:F0(t.field),op:"IS_NOT_NAN"}};if(M3(t.value))return{unaryFilter:{field:F0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:F0(t.field),op:YH(t.op),value:t.value}}})(n):n instanceof uc?(function(t){const i=t.getFilters().map((r=>W8(r)));return i.length===1?i[0]:{compositeFilter:{op:KH(t.op),filters:i}}})(n):fn(54877,{filter:n})}function XH(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function G8(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,i,r,s=_n.min(),a=_n.min(),l=pa.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Qh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.yt=e}}function JH(n){const e=WH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Y_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this.Cn=new eq}addToCollectionParentIndex(e,t){return this.Cn.add(t),ut.resolve()}getCollectionParents(e,t){return ut.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ut.resolve()}deleteFieldIndex(e,t){return ut.resolve()}deleteAllFieldIndexes(e){return ut.resolve()}createTargetIndexes(e,t){return ut.resolve()}getDocumentsMatchingTarget(e,t){return ut.resolve(null)}getIndexType(e,t){return ut.resolve(0)}getFieldIndexes(e,t){return ut.resolve([])}getNextCollectionGroupToUpdate(e){return ut.resolve(null)}getMinOffset(e,t){return ut.resolve(_f.min())}getMinOffsetFromCollectionGroup(e,t){return ut.resolve(_f.min())}updateCollectionGroup(e,t,i){return ut.resolve()}updateIndexEntries(e,t){return ut.resolve()}}class eq{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Is(Gi.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Is(Gi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$8=41943040;class Eo{static withCacheSize(e){return new Eo(e,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo.DEFAULT_COLLECTION_PERCENTILE=10,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eo.DEFAULT=new Eo($8,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eo.DISABLED=new Eo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _p(0)}static cr(){return new _p(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="LruGarbageCollector",tq=1048576;function Z3([n,e],[t,i]){const r=Kn(n,t);return r===0?Kn(e,i):r}class nq{constructor(e){this.Ir=e,this.buffer=new Is(Z3),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Z3(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iq{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Pt(J3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Op(t)?Pt(J3,"Ignoring IndexedDB error during garbage collection: ",t):await Lp(t)}await this.Vr(3e5)}))}}class rq{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ut.resolve(ny.ce);const i=new nq(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(Q3)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q3):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,s,a,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(i=p,l=Date.now(),this.removeTargets(e,i,t)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,i)))).next((p=>(h=Date.now(),P0()<=Hn.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p}))))}}function sq(n,e){return new rq(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(){this.changes=new Ld((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ut.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&sm(i.mutation,r,Qo.empty(),lr.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Xn()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Xn()){const r=dd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((s=>{let a=Gg();return s.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const i=dd();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Xn())))}populateOverlays(e,t,i){const r=[];return i.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((a,l)=>{t.set(a,l)}))}))}computeViews(e,t,i,r){let s=ih();const a=rm(),l=(function(){return rm()})();return t.forEach(((c,h)=>{const f=i.get(h.key);r.has(h.key)&&(f===void 0||f.mutation instanceof Lf)?s=s.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),sm(f.mutation,h,f.mutation.getFieldMask(),lr.now())):a.set(h.key,Qo.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((h,f)=>a.set(h,f))),t.forEach(((h,f)=>l.set(h,new oq(f,a.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,t){const i=rm();let r=new gs(((a,l)=>a-l)),s=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const l of a)l.keys().forEach((c=>{const h=t.get(c);if(h===null)return;let f=i.get(c)||Qo.empty();f=l.applyToLocalView(h,f),i.set(c,f);const p=(r.get(l.batchId)||Xn()).add(c);r=r.insert(l.batchId,p)}))})).next((()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=A8();f.forEach((_=>{if(!s.has(_)){const m=D8(t.get(_),i.get(_));m!==null&&p.set(_,m),s=s.add(_)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return ut.waitFor(a)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(a){return sn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ut.resolve(dd());let l=Im,c=s;return a.next((h=>ut.forEach(h,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?ut.resolve():this.remoteDocumentCache.getEntry(e,f).next((_=>{c=c.insert(f,_)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,c,h,Xn()))).next((f=>({batchId:l,changes:T8(f)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new sn(t)).next((i=>{let r=Gg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=Gg();return this.indexManager.getCollectionParents(e,s).next((l=>ut.forEach(l,(c=>{const h=(function(p,_){return new Pp(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next((f=>{f.forEach(((p,_)=>{a=a.insert(p,_)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r)))).next((a=>{s.forEach(((c,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,qs.newInvalidDocument(f)))}));let l=Gg();return a.forEach(((c,h)=>{const f=s.get(c);f!==void 0&&sm(f.mutation,h,Qo.empty(),lr.now()),sy(t,h)&&(l=l.insert(c,h))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ut.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Zo(r.createTime)}})(t)),ut.resolve()}getNamedQuery(e,t){return ut.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:JH(r.bundledQuery),readTime:Zo(r.readTime)}})(t)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.overlays=new gs(sn.comparator),this.qr=new Map}getOverlay(e,t){return ut.resolve(this.overlays.get(t))}getOverlays(e,t){const i=dd();return ut.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&i.set(r,s)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,s)=>{this.St(e,t,s)})),ut.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(i)),ut.resolve()}getOverlaysForCollection(e,t,i){const r=dd(),s=t.length+1,a=new sn(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return ut.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new gs(((h,f)=>h-f));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let f=s.get(h.largestBatchId);f===null&&(f=dd(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=dd(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,f)=>l.set(h,f))),!(l.size()>=r)););return ut.resolve(l)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new RH(t,i));let s=this.qr.get(t);s===void 0&&(s=Xn(),this.qr.set(t,s)),this.qr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(){this.sessionToken=pa.EMPTY_BYTE_STRING}getSessionToken(e){return ut.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.Qr=new Is(Vs.$r),this.Ur=new Is(Vs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Vs(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Vs(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new sn(new Gi([])),i=new Vs(t,e),r=new Vs(t,e+1),s=[];return this.Ur.forEachInRange([i,r],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new sn(new Gi([])),i=new Vs(t,e),r=new Vs(t,e+1);let s=Xn();return this.Ur.forEachInRange([i,r],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new Vs(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return sn.comparator(e.key,t.key)||Kn(e.Yr,t.Yr)}static Kr(e,t){return Kn(e.Yr,t.Yr)||sn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Is(Vs.$r)}checkEmpty(e){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new NH(s,t,i,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new Vs(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ut.resolve(a)}lookupMutationBatch(e,t){return ut.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),s=r<0?0:r;return ut.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?wE:this.tr-1)}getAllMutationBatches(e){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vs(t,0),r=new Vs(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],(a=>{const l=this.Xr(a.Yr);s.push(l)})),ut.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Is(Kn);return t.forEach((r=>{const s=new Vs(r,0),a=new Vs(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(l=>{i=i.add(l.Yr)}))})),ut.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;sn.isDocumentKey(s)||(s=s.child(""));const a=new Vs(new sn(s),0);let l=new Is(Kn);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(c.Yr)),!0)}),a),ut.resolve(this.ti(l))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){ci(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ut.forEach(t.mutations,(r=>{const s=new Vs(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Vs(t,0),r=this.Zr.firstAfterOrEqual(i);return ut.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ut.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.ri=e,this.docs=(function(){return new gs(sn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ut.resolve(i?i.document.mutableCopy():qs.newInvalidDocument(t))}getEntries(e,t){let i=ih();return t.forEach((r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():qs.newInvalidDocument(r))})),ut.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ih();const a=t.path,l=new sn(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Hz(zz(f),i)<=0||(r.has(f.key)||sy(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ut.resolve(s)}getAllFromCollectionGroup(e,t,i,r){fn(9500)}ii(e,t){return ut.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new pq(this)}getSize(e){return ut.resolve(this.size)}}class pq extends aq{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),ut.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.persistence=e,this.si=new Ld((t=>SE(t)),TE),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.oi=0,this._i=new kE,this.targetCount=0,this.ai=_p.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),ut.resolve()}getLastRemoteSnapshotVersion(e){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ut.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ut.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new _p(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ut.resolve()}updateTargetData(e,t){return this.Pr(t),ut.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ut.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=t&&i.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)})),ut.waitFor(s).next((()=>r))}getTargetCount(e){return ut.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ut.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ut.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((a=>{s.push(r.markPotentiallyOrphaned(e,a))})),ut.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ut.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ut.resolve(i)}containsKey(e,t){return ut.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,t){this.ui={},this.overlays={},this.ci=new ny(0),this.li=!1,this.li=!0,this.hi=new hq,this.referenceDelegate=e(this),this.Pi=new gq(this),this.indexManager=new ZH,this.remoteDocumentCache=(function(r){return new dq(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new QH(t),this.Ii=new cq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new fq(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Pt("MemoryPersistence","Starting transaction:",e);const r=new mq(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ai(e,t){return ut.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class mq extends Wz{constructor(e){super(),this.currentSequenceNumber=e}}class DE{constructor(e){this.persistence=e,this.Ri=new kE,this.Vi=null}static mi(e){return new DE(e)}get fi(){if(this.Vi)return this.Vi;throw fn(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ut.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ut.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.fi.add(s.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.fi,(i=>{const r=sn.fromPath(i);return this.gi(e,r).next((s=>{s||t.removeEntry(r,_n.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ut.or([()=>ut.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class J_{constructor(e,t){this.persistence=e,this.pi=new Ld((i=>Yz(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=sq(this,t)}static mi(e,t){return new J_(e,t)}Ei(){}di(e){return ut.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ut.forEach(this.pi,((i,r)=>this.br(e,i,r).next((s=>s?ut.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,(a=>this.br(e,a,t).next((l=>{l||(i++,s.removeEntry(a,_n.min()))})))).next((()=>s.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ut.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ut.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ut.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ut.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=v_(e.data.value)),t}br(e,t,i){return ut.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return ut.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=Xn(),r=Xn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new LE(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BB()?8:Gz(Ba())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ys(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,t,r,i).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new _q;return this.Ss(e,t,a).next((l=>{if(s.result=l,this.Vs)return this.bs(e,t,a,l.size)}))})).next((()=>s.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(P0()<=Hn.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",M0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ut.resolve()):(P0()<=Hn.DEBUG&&Pt("QueryEngine","Query:",M0(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(P0()<=Hn.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",M0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$c(t))):ut.resolve())}ys(e,t){if(V3(t))return ut.resolve(null);let i=$c(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Y_(t,null,"F"),i=$c(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((s=>{const a=Xn(...s);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,i).next((c=>{const h=this.Ds(t,l);return this.Cs(t,h,a,c.readTime)?this.ys(e,Y_(t,null,"F")):this.vs(e,h,t,c)}))))})))))}ws(e,t,i,r){return V3(t)||r.isEqual(_n.min())?ut.resolve(null):this.ps.getDocuments(e,i).next((s=>{const a=this.Ds(t,s);return this.Cs(t,a,i,r)?ut.resolve(null):(P0()<=Hn.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),M0(t)),this.vs(e,a,t,Vz(r,Im)).next((l=>l)))}))}Ds(e,t){let i=new Is(E8(e));return t.forEach(((r,s)=>{sy(e,s)&&(i=i.add(s))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,i){return P0()<=Hn.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",M0(t)),this.ps.getDocumentsMatchingQuery(e,t,_f.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="LocalStore",yq=3e8;class xq{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gs(Kn),this.xs=new Ld((s=>SE(s)),TE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lq(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function wq(n,e,t,i){return new xq(n,e,t,i)}async function K8(n,e){const t=Sn(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((s=>(r=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((s=>{const a=[],l=[];let c=Xn();for(const h of r){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(i,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:l})))}))}))}function bq(n,e){const t=Sn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,h,f){const p=h.batch,_=p.keys();let m=ut.resolve();return _.forEach((b=>{m=m.next((()=>f.getEntry(c,b))).next((x=>{const E=h.docVersions.get(b);ci(E!==null,48541),x.version.compareTo(E)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),f.addEntry(x)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(t,i,e,s).next((()=>s.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(l){let c=Xn();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function X8(n){const e=Sn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Eq(n,e){const t=Sn(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const _=r.get(p);if(!_)return;l.push(t.Pi.removeMatchingKeys(s,f.removedDocuments,p).next((()=>t.Pi.addMatchingKeys(s,f.addedDocuments,p))));let m=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(pa.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,i)),r=r.insert(p,m),(function(x,E,A){return x.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=yq?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(_,m,f)&&l.push(t.Pi.updateTargetData(s,m))}));let c=ih(),h=Xn();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(Sq(s,a,e.documentUpdates).next((f=>{c=f.ks,h=f.qs}))),!i.isEqual(_n.min())){const f=t.Pi.getLastRemoteSnapshotVersion(s).next((p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i)));l.push(f)}return ut.waitFor(l).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,c,h))).next((()=>c))})).then((s=>(t.Ms=r,s)))}function Sq(n,e,t){let i=Xn(),r=Xn();return t.forEach((s=>i=i.add(s))),e.getEntries(n,i).next((s=>{let a=ih();return t.forEach(((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(_n.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Pt(OE,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:r}}))}function Tq(n,e){const t=Sn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=wE),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Aq(n,e){const t=Sn(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((s=>s?(r=s,ut.resolve(r)):t.Pi.allocateTargetId(i).next((a=>(r=new Qh(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Kw(n,e,t){const i=Sn(n),r=i.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,(a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Op(a))throw a;Pt(OE,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function eC(n,e,t){const i=Sn(n);let r=_n.min(),s=Xn();return i.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,h,f){const p=Sn(c),_=p.xs.get(f);return _!==void 0?ut.resolve(p.Ms.get(_)):p.Pi.getTargetData(h,f)})(i,a,$c(e)).next((l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{s=c}))})).next((()=>i.Fs.getDocumentsMatchingQuery(a,e,t?r:_n.min(),t?s:Xn()))).next((l=>(Cq(i,dH(e),l),{documents:l,Qs:s})))))}function Cq(n,e,t){let i=n.Os.get(e)||_n.min();t.forEach(((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)})),n.Os.set(e,i)}class tC{constructor(){this.activeTargetIds=yH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nq{constructor(){this.Mo=new tC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="ConnectivityMonitor";class iC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pt(nC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Pt(nC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I2=null;function Xw(){return I2===null?I2=(function(){return 268435456+Math.round(2147483648*Math.random())})():I2++,"0x"+I2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="RestConnection",Iq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===W_?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,s){const a=Xw(),l=this.zo(e,t.toUriEncodedString());Pt(x5,`Sending RPC '${e}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,s);const{host:h}=new URL(l),f=lh(h);return this.Jo(e,l,c,i,f).then((p=>(Pt(x5,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw dp(x5,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p}))}Ho(e,t,i,r,s,a){return this.Go(e,t,i,r,s)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),i&&i.headers.forEach(((r,s)=>e[s]=r))}zo(e,t){const i=Iq[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="WebChannelConnection";class Lq extends kq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,s){const a=Xw();return new Promise(((l,c)=>{const h=new Xk;h.setWithCredentials(!0),h.listenOnce(Qk.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case __.NO_ERROR:const p=h.getResponseJson();Pt(Ea,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case __.TIMEOUT:Pt(Ea,`RPC '${e}' ${a} timed out`),c(new Nt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case __.HTTP_ERROR:const _=h.getStatus();if(Pt(Ea,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let m=h.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m?.error;if(b&&b.status&&b.message){const x=(function(A){const P=A.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(P)>=0?P:rt.UNKNOWN})(b.status);c(new Nt(x,b.message))}else c(new Nt(rt.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Nt(rt.UNAVAILABLE,"Connection failed."));break;default:fn(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Pt(Ea,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(r);Pt(Ea,`RPC '${e}' ${a} sending request:`,r),h.send(t,"POST",f,i,15)}))}T_(e,t,i){const r=Xw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=e8(),l=Zk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const f=s.join("");Pt(Ea,`Creating RPC '${e}' stream ${r}: ${f}`,c);const p=a.createWebChannel(f,c);this.I_(p);let _=!1,m=!1;const b=new Dq({Yo:E=>{m?Pt(Ea,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(_||(Pt(Ea,`Opening RPC '${e}' stream ${r} transport.`),p.open(),_=!0),Pt(Ea,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},Zo:()=>p.close()}),x=(E,A,P)=>{E.listen(A,(L=>{try{P(L)}catch(j){setTimeout((()=>{throw j}),0)}}))};return x(p,Wg.EventType.OPEN,(()=>{m||(Pt(Ea,`RPC '${e}' stream ${r} transport opened.`),b.o_())})),x(p,Wg.EventType.CLOSE,(()=>{m||(m=!0,Pt(Ea,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(p))})),x(p,Wg.EventType.ERROR,(E=>{m||(m=!0,dp(Ea,`RPC '${e}' stream ${r} transport errored. Name:`,E.name,"Message:",E.message),b.a_(new Nt(rt.UNAVAILABLE,"The operation could not be completed")))})),x(p,Wg.EventType.MESSAGE,(E=>{if(!m){const A=E.data[0];ci(!!A,16349);const P=A,L=P?.error||P[0]?.error;if(L){Pt(Ea,`RPC '${e}' stream ${r} received error:`,L);const j=L.status;let Q=(function(R){const N=hs[R];if(N!==void 0)return M8(N)})(j),ae=L.message;Q===void 0&&(Q=rt.INTERNAL,ae="Unknown error status: "+j+" with message "+L.message),m=!0,b.a_(new Nt(Q,ae)),p.close()}else Pt(Ea,`RPC '${e}' stream ${r} received:`,A),b.u_(A)}})),x(l,Jk.STAT_EVENT,(E=>{E.stat===Bw.PROXY?Pt(Ea,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===Bw.NOPROXY&&Pt(Ea,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function w5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n){return new FH(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&Pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="PersistentStream";class Q8{constructor(e,t,i,r,s,a,l,c){this.Mi=e,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(nh(t.toString()),nh("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new Nt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pt(rC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Pt(rC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Oq extends Q8{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VH(this.serializer,e),i=(function(s){if(!("targetChange"in s))return _n.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?_n.min():a.readTime?Zo(a.readTime):_n.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Yw(this.serializer),t.addTarget=(function(s,a){let l;const c=a.target;if(l=qw(c)?{documents:HH(s,c)}:{query:qH(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=j8(s,a.resumeToken);const h=Gw(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(_n.min())>0){l.readTime=X_(s,a.snapshotVersion.toTimestamp());const h=Gw(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const i=GH(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Yw(this.serializer),t.removeTarget=e,this.q_(t)}}class Pq extends Q8{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ci(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ci(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ci(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=zH(e.writeResults,e.commitTime),i=Zo(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Yw(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>H8(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{}class Fq extends Mq{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Nt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,$w(t,i),r,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Nt(rt.UNKNOWN,s.toString())}))}Ho(e,t,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,$w(t,i),r,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Nt(rt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Bq{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nh(t),this.aa=!1):Pt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="RemoteStore";class jq{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{i.enqueueAndForget((async()=>{Od(this)&&(Pt(bd,"Restarting streams for network reachability change."),await(async function(c){const h=Sn(c);h.Ea.add(4),await p1(h),h.Ra.set("Unknown"),h.Ea.delete(4),await hy(h)})(this))}))})),this.Ra=new Bq(i,r)}}async function hy(n){if(Od(n))for(const e of n.da)await e(!0)}async function p1(n){for(const e of n.da)await e(!1)}function J8(n,e){const t=Sn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),jE(t)?BE(t):Mp(t).O_()&&FE(t,e))}function ME(n,e){const t=Sn(n),i=Mp(t);t.Ia.delete(e),i.O_()&&Z8(t,e),t.Ia.size===0&&(i.O_()?i.L_():Od(t)&&t.Ra.set("Unknown"))}function FE(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_n.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mp(n).Y_(e)}function Z8(n,e){n.Va.Ue(e),Mp(n).Z_(e)}function BE(n){n.Va=new LH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Mp(n).start(),n.Ra.ua()}function jE(n){return Od(n)&&!Mp(n).x_()&&n.Ia.size>0}function Od(n){return Sn(n).Ea.size===0}function eD(n){n.Va=void 0}async function Uq(n){n.Ra.set("Online")}async function Vq(n){n.Ia.forEach(((e,t)=>{FE(n,e)}))}async function zq(n,e){eD(n),jE(n)?(n.Ra.ha(e),BE(n)):n.Ra.set("Unknown")}async function Hq(n,e,t){if(n.Ra.set("Online"),e instanceof B8&&e.state===2&&e.cause)try{await(async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))})(n,e)}catch(i){Pt(bd,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Z_(n,i)}else if(e instanceof w_?n.Va.Ze(e):e instanceof F8?n.Va.st(e):n.Va.tt(e),!t.isEqual(_n.min()))try{const i=await X8(n.localStore);t.compareTo(i)>=0&&await(function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,h)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(pa.EMPTY_BYTE_STRING,f.snapshotVersion)),Z8(s,c);const p=new Qh(f.target,c,h,f.sequenceNumber);FE(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(n,t)}catch(i){Pt(bd,"Failed to raise snapshot:",i),await Z_(n,i)}}async function Z_(n,e,t){if(!Op(e))throw e;n.Ea.add(1),await p1(n),n.Ra.set("Offline"),t||(t=()=>X8(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Pt(bd,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await hy(n)}))}function tD(n,e){return e().catch((t=>Z_(n,t,e)))}async function fy(n){const e=Sn(n),t=wf(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wE;for(;qq(e);)try{const r=await Tq(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,Wq(e,r)}catch(r){await Z_(e,r)}nD(e)&&iD(e)}function qq(n){return Od(n)&&n.Ta.length<10}function Wq(n,e){n.Ta.push(e);const t=wf(n);t.O_()&&t.X_&&t.ea(e.mutations)}function nD(n){return Od(n)&&!wf(n).x_()&&n.Ta.length>0}function iD(n){wf(n).start()}async function Gq(n){wf(n).ra()}async function $q(n){const e=wf(n);for(const t of n.Ta)e.ea(t.mutations)}async function Yq(n,e,t){const i=n.Ta.shift(),r=NE.from(i,e,t);await tD(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await fy(n)}async function Kq(n,e){e&&wf(n).X_&&await(async function(i,r){if((function(a){return P8(a)&&a!==rt.ABORTED})(r.code)){const s=i.Ta.shift();wf(i).B_(),await tD(i,(()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r))),await fy(i)}})(n,e),nD(n)&&iD(n)}async function sC(n,e){const t=Sn(n);t.asyncQueue.verifyOperationInProgress(),Pt(bd,"RemoteStore received new credentials");const i=Od(t);t.Ea.add(3),await p1(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await hy(t)}async function Xq(n,e){const t=Sn(n);e?(t.Ea.delete(2),await hy(t)):e||(t.Ea.add(2),await p1(t),t.Ra.set("Unknown"))}function Mp(n){return n.ma||(n.ma=(function(t,i,r){const s=Sn(t);return s.sa(),new Oq(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Xo:Uq.bind(null,n),t_:Vq.bind(null,n),r_:zq.bind(null,n),H_:Hq.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),jE(n)?BE(n):n.Ra.set("Unknown")):(await n.ma.stop(),eD(n))}))),n.ma}function wf(n){return n.fa||(n.fa=(function(t,i,r){const s=Sn(t);return s.sa(),new Pq(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gq.bind(null,n),r_:Kq.bind(null,n),ta:$q.bind(null,n),na:Yq.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await fy(n)):(await n.fa.stop(),n.Ta.length>0&&(Pt(bd,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Gc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,l=new UE(e,t,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VE(n,e){if(nh("AsyncQueue",`${e}: ${n}`),Op(n))return new Nt(rt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static emptySet(e){return new Q0(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||sn.comparator(t.key,i.key):(t,i)=>sn.comparator(t.key,i.key),this.keyedMap=Gg(),this.sortedSet=new gs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Q0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Q0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.ga=new gs(sn.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):fn(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class vp{constructor(e,t,i,r,s,a,l,c,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach((l=>{a.push({type:0,doc:l})})),new vp(e,t,Q0.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ry(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Jq{constructor(){this.queries=oC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Sn(t),s=r.queries;r.queries=oC(),s.forEach(((a,l)=>{for(const c of l.Sa)c.onError(i)}))})(this,new Nt(rt.ABORTED,"Firestore shutting down"))}}function oC(){return new Ld((n=>b8(n)),ry)}async function rD(n,e){const t=Sn(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new Qq,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await t.onListen(r,!0);break;case 1:s.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const l=VE(a,`Initialization of query '${M0(e.query)}' failed`);return void e.onError(l)}t.queries.set(r,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&zE(t)}async function sD(n,e){const t=Sn(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Zq(n,e){const t=Sn(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const l of a.Sa)l.Fa(r)&&(i=!0);a.wa=r}}i&&zE(t)}function eW(n,e,t){const i=Sn(n),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(t);i.queries.delete(e)}function zE(n){n.Ca.forEach((e=>{e.next()}))}var Qw,lC;(lC=Qw||(Qw={})).Ma="default",lC.Cache="cache";class aD{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new vp(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=vp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.key=e}}class lD{constructor(e){this.key=e}}class tW{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xn(),this.mutatedKeys=Xn(),this.eu=E8(e),this.tu=new Q0(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new aC,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((f,p)=>{const _=r.get(f),m=sy(this.query,p)?p:null,b=!!_&&this.mutatedKeys.has(_.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;_&&m?_.data.isEqual(m.data)?b!==x&&(i.track({type:3,doc:m}),E=!0):this.su(_,m)||(i.track({type:2,doc:m}),E=!0,(c&&this.eu(m,c)>0||h&&this.eu(m,h)<0)&&(l=!0)):!_&&m?(i.track({type:0,doc:m}),E=!0):_&&!m&&(i.track({type:1,doc:_}),E=!0,(c||h)&&(l=!0)),E&&(m?(a=a.add(m),s=x?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Cs:l,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,p)=>(function(m,b){const x=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn(20277,{Rt:E})}};return x(m)-x(b)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(i),r=r??!1;const l=t&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new vp(this.query,e.tu,s,a,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xn(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new lD(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new oD(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Xn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const HE="SyncEngine";class nW{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iW{constructor(e){this.key=e,this.hu=!1}}class rW{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ld((l=>b8(l)),ry),this.Iu=new Map,this.Eu=new Set,this.du=new gs(sn.comparator),this.Au=new Map,this.Ru=new kE,this.Vu={},this.mu=new Map,this.fu=_p.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sW(n,e,t=!0){const i=pD(n);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await cD(i,e,t,!0),r}async function aW(n,e){const t=pD(n);await cD(t,e,!0,!1)}async function cD(n,e,t,i){const r=await Aq(n.localStore,$c(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let l;return i&&(l=await oW(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&J8(n.remoteStore,r),l}async function oW(n,e,t,i,r){n.pu=(p,_,m)=>(async function(x,E,A,P){let L=E.view.ru(A);L.Cs&&(L=await eC(x.localStore,E.query,!1).then((({documents:F})=>E.view.ru(F,L))));const j=P&&P.targetChanges.get(E.targetId),Q=P&&P.targetMismatches.get(E.targetId)!=null,ae=E.view.applyChanges(L,x.isPrimaryClient,j,Q);return uC(x,E.targetId,ae.au),ae.snapshot})(n,p,_,m);const s=await eC(n.localStore,e,!0),a=new tW(e,s.Qs),l=a.ru(s.documents),c=d1.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=a.applyChanges(l,n.isPrimaryClient,c);uC(n,t,h.au);const f=new nW(e,t,a);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function lW(n,e,t){const i=Sn(n),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter((a=>!ry(a,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Kw(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&ME(i.remoteStore,r.targetId),Jw(i,r.targetId)})).catch(Lp)):(Jw(i,r.targetId),await Kw(i.localStore,r.targetId,!0))}async function cW(n,e){const t=Sn(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ME(t.remoteStore,i.targetId))}async function uW(n,e,t){const i=_W(n);try{const r=await(function(a,l){const c=Sn(a),h=lr.now(),f=l.reduce(((m,b)=>m.add(b.key)),Xn());let p,_;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let b=ih(),x=Xn();return c.Ns.getEntries(m,f).next((E=>{b=E,b.forEach(((A,P)=>{P.isValidDocument()||(x=x.add(A))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,b))).next((E=>{p=E;const A=[];for(const P of l){const L=CH(P,p.get(P.key).overlayedDocument);L!=null&&A.push(new Lf(P.key,L,p8(L.value.mapValue),La.exists(!0)))}return c.mutationQueue.addMutationBatch(m,h,A,l)})).next((E=>{_=E;const A=E.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(m,E.batchId,A)}))})).then((()=>({batchId:_.batchId,changes:T8(p)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(a,l,c){let h=a.Vu[a.currentUser.toKey()];h||(h=new gs(Kn)),h=h.insert(l,c),a.Vu[a.currentUser.toKey()]=h})(i,r.batchId,t),await g1(i,r.changes),await fy(i.remoteStore)}catch(r){const s=VE(r,"Failed to persist write");t.reject(s)}}async function uD(n,e){const t=Sn(n);try{const i=await Eq(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const a=t.Au.get(s);a&&(ci(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?ci(a.hu,14607):r.removedDocuments.size>0&&(ci(a.hu,42227),a.hu=!1))})),await g1(t,i,e)}catch(i){await Lp(i)}}function cC(n,e,t){const i=Sn(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)})),(function(a,l){const c=Sn(a);c.onlineState=l;let h=!1;c.queries.forEach(((f,p)=>{for(const _ of p.Sa)_.va(l)&&(h=!0)})),h&&zE(c)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function hW(n,e,t){const i=Sn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new gs(sn.comparator);a=a.insert(s,qs.newNoDocument(s,_n.min()));const l=Xn().add(s),c=new cy(_n.min(),new Map,new gs(Kn),a,l);await uD(i,c),i.du=i.du.remove(s),i.Au.delete(e),qE(i)}else await Kw(i.localStore,e,!1).then((()=>Jw(i,e,t))).catch(Lp)}async function fW(n,e){const t=Sn(n),i=e.batch.batchId;try{const r=await bq(t.localStore,e);fD(t,i,null),hD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await g1(t,r)}catch(r){await Lp(r)}}async function dW(n,e,t){const i=Sn(n);try{const r=await(function(a,l){const c=Sn(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next((p=>(ci(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p)))).next((()=>c.mutationQueue.performConsistencyCheck(h))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>c.localDocuments.getDocuments(h,f)))}))})(i.localStore,e);fD(i,e,t),hD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await g1(i,r)}catch(r){await Lp(r)}}function hD(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function fD(n,e,t){const i=Sn(n);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function Jw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||dD(n,i)}))}function dD(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ME(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),qE(n))}function uC(n,e,t){for(const i of t)i instanceof oD?(n.Ru.addReference(i.key,e),pW(n,i)):i instanceof lD?(Pt(HE,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||dD(n,i.key)):fn(19791,{wu:i})}function pW(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Pt(HE,"New document in limbo: "+t),n.Eu.add(i),qE(n))}function qE(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new sn(Gi.fromString(e)),i=n.fu.next();n.Au.set(i,new iW(t)),n.du=n.du.insert(t,i),J8(n.remoteStore,new Qh($c(AE(t.path)),i,"TargetPurposeLimboResolution",ny.ce))}}async function g1(n,e,t){const i=Sn(n),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach(((l,c)=>{a.push(i.pu(c,e,t).then((h=>{if((h||t)&&i.isPrimaryClient){const f=h?!h.fromCache:t?.targetChanges.get(c.targetId)?.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(h){r.push(h);const f=LE.As(c.targetId,h);s.push(f)}})))})),await Promise.all(a),i.Pu.H_(r),await(async function(c,h){const f=Sn(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ut.forEach(h,(_=>ut.forEach(_.Es,(m=>f.persistence.referenceDelegate.addReference(p,_.targetId,m))).next((()=>ut.forEach(_.ds,(m=>f.persistence.referenceDelegate.removeReference(p,_.targetId,m)))))))))}catch(p){if(!Op(p))throw p;Pt(OE,"Failed to update sequence numbers: "+p)}for(const p of h){const _=p.targetId;if(!p.fromCache){const m=f.Ms.get(_),b=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(_,x)}}})(i.localStore,s))}async function gW(n,e){const t=Sn(n);if(!t.currentUser.isEqual(e)){Pt(HE,"User change. New user:",e.toKey());const i=await K8(t.localStore,e);t.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new Nt(rt.CANCELLED,a))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await g1(t,i.Ls)}}function mW(n,e){const t=Sn(n),i=t.Au.get(e);if(i&&i.hu)return Xn().add(i.key);{let r=Xn();const s=t.Iu.get(e);if(!s)return r;for(const a of s){const l=t.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function pD(n){const e=Sn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hW.bind(null,e),e.Pu.H_=Zq.bind(null,e.eventManager),e.Pu.yu=eW.bind(null,e.eventManager),e}function _W(n){const e=Sn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dW.bind(null,e),e}class ev{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return wq(this.persistence,new vq,e.initialUser,this.serializer)}Cu(e){return new Y8(DE.mi,this.serializer)}Du(e){return new Nq}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ev.provider={build:()=>new ev};class vW extends ev{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ci(this.persistence.referenceDelegate instanceof J_,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new iq(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Eo.withCacheSize(this.cacheSizeBytes):Eo.DEFAULT;return new Y8((i=>J_.mi(i,t)),this.serializer)}}class Zw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gW.bind(null,this.syncEngine),await Xq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jq})()}createDatastore(e){const t=uy(e.databaseInfo.databaseId),i=(function(s){return new Lq(s)})(e.databaseInfo);return(function(s,a,l,c){return new Fq(s,a,l,c)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,s,a,l){return new jq(i,r,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>cC(this.syncEngine,t,0)),(function(){return iC.v()?new iC:new Rq})())}createSyncEngine(e,t){return(function(r,s,a,l,c,h,f){const p=new rW(r,s,a,l,c,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Sn(t);Pt(bd,"RemoteStore shutting down."),i.Ea.add(5),await p1(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zw.provider={build:()=>new Zw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nh("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Nt(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(r,s){const a=Sn(r),l={documents:s.map((p=>Q_(a.serializer,p)))},c=await a.Ho("BatchGetDocuments",a.serializer.databaseId,Gi.emptyPath(),l,s.length),h=new Map;c.forEach((p=>{const _=UH(a.serializer,p);h.set(_.key.toString(),_)}));const f=[];return s.forEach((p=>{const _=h.get(p.toString());ci(!!_,55234,{key:p}),f.push(_)})),f})(this.datastore,e);return t.forEach((i=>this.recordVersion(i))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ly(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,i)=>{const r=sn.fromPath(i);this.mutations.push(new O8(r,this.precondition(r)))})),await(async function(i,r){const s=Sn(i),a={writes:r.map((l=>H8(s.serializer,l)))};await s.Go("Commit",s.serializer.databaseId,Gi.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fn(50498,{Gu:e.constructor.name});t=_n.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Nt(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_n.min())?La.exists(!1):La.updateTime(t):La.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_n.min()))throw new Nt(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return La.updateTime(t)}return La.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.zu=i.maxAttempts,this.M_=new PE(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new yW(this.datastore),t=this.Hu(e);t&&t.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((r=>{this.Yu(r)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const t=this.updateFunction(e);return!h1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!P8(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="FirestoreClient";class wW{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ra.UNAUTHENTICATED,this.clientId=xE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async a=>{Pt(bf,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,(a=>(Pt(bf,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=VE(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function b5(n,e){n.asyncQueue.verifyOperationInProgress(),Pt(bf,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await K8(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function hC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bW(n);Pt(bf,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>sC(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>sC(e.remoteStore,r))),n._onlineComponents=e}async function bW(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pt(bf,"Using user provided OfflineComponentProvider");try{await b5(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;dp("Error using user provided cache. Falling back to memory cache: "+t),await b5(n,new ev)}}else Pt(bf,"Using default OfflineComponentProvider"),await b5(n,new vW(void 0));return n._offlineComponents}async function WE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pt(bf,"Using user provided OnlineComponentProvider"),await hC(n,n._uninitializedComponentsProvider._online)):(Pt(bf,"Using default OnlineComponentProvider"),await hC(n,new Zw))),n._onlineComponents}function EW(n){return WE(n).then((e=>e.syncEngine))}function SW(n){return WE(n).then((e=>e.datastore))}async function mD(n){const e=await WE(n),t=e.eventManager;return t.onListen=sW.bind(null,e.syncEngine),t.onUnlisten=lW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cW.bind(null,e.syncEngine),t}function TW(n,e,t={}){const i=new Gc;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,h){const f=new gD({next:_=>{f.Nu(),a.enqueueAndForget((()=>sD(s,p)));const m=_.docs.has(l);!m&&_.fromCache?h.reject(new Nt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&_.fromCache&&c&&c.source==="server"?h.reject(new Nt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),p=new aD(AE(l.path),f,{includeMetadataChanges:!0,qa:!0});return rD(s,p)})(await mD(n),n.asyncQueue,e,t,i))),i.promise}function AW(n,e,t={}){const i=new Gc;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,h){const f=new gD({next:_=>{f.Nu(),a.enqueueAndForget((()=>sD(s,p))),_.fromCache&&c.source==="server"?h.reject(new Nt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),p=new aD(l,f,{includeMetadataChanges:!0,qa:!0});return rD(s,p)})(await mD(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="firestore.googleapis.com",dC=!0;class pC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Nt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vD,this.ssl=dC}else this.host=e.host,this.ssl=e.ssl??dC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tq)throw new Nt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_D(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Nt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Nt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Nt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dy{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Nt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Iz;switch(i.type){case"firstParty":return new Oz(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Nt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=fC.get(t);i&&(Pt("ComponentProvider","Removing Datastore"),fC.delete(t),i.terminate())})(this),Promise.resolve()}}function CW(n,e,t,i={}){n=Qc(n,dy);const r=lh(e),s=n._getSettings(),a={...s,emulatorOptions:n._getEmulatorOptions()},l=`${e}:${t}`;r&&($v(`https://${l}`),Yv("Firestore",!0)),s.host!==vD&&s.host!==l&&dp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:r,emulatorOptions:i};if(!gf(c,a)&&(n._setSettings(c),i.mockUserToken)){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=Ra.MOCK_USER;else{h=sE(i.mockUserToken,n._app?.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Nt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ra(p)}n._authCredentials=new kz(new n8(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Of(this.firestore,e,this._query)}}class ts{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ts(this.firestore,e,this._key)}toJSON(){return{type:ts._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(u1(t,ts._jsonSchema))return new ts(e,i||null,new sn(Gi.fromString(t.referencePath)))}}ts._jsonSchemaVersion="firestore/documentReference/1.0",ts._jsonSchema={type:ds("string",ts._jsonSchemaVersion),referencePath:ds("string")};class hf extends Of{constructor(e,t,i){super(e,t,AE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ts(this.firestore,null,new sn(e))}withConverter(e){return new hf(this.firestore,e,this._path)}}function Ko(n,e,...t){if(n=kr(n),i8("collection","path",e),n instanceof dy){const i=Gi.fromString(e,...t);return C3(i),new hf(n,null,i)}{if(!(n instanceof ts||n instanceof hf))throw new Nt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Gi.fromString(e,...t));return C3(i),new hf(n.firestore,null,i)}}function Za(n,e,...t){if(n=kr(n),arguments.length===1&&(e=xE.newId()),i8("doc","path",e),n instanceof dy){const i=Gi.fromString(e,...t);return A3(i),new ts(n,null,new sn(i))}{if(!(n instanceof ts||n instanceof hf))throw new Nt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Gi.fromString(e,...t));return A3(i),new ts(n.firestore,n instanceof hf?n.converter:null,new sn(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="AsyncQueue";class mC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PE(this,"async_queue_retry"),this._c=()=>{const i=w5();i&&Pt(gC,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=w5();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=w5();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Gc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Op(e))throw e;Pt(gC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,nh("INTERNAL UNHANDLED ERROR: ",_C(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=UE.createAndSchedule(this,e,t,i,(s=>this.hc(s)));return this.tc.push(r),r}uc(){this.nc&&fn(47125,{Pc:_C(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function _C(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Pd extends dy{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new mC,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mC(e),this._firestoreClient=void 0,await e}}}function NW(n,e){const t=typeof n=="object"?n:Qv(),i=typeof n=="string"?n:W_,r=s1(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=iE("firestore");s&&CW(r,...s)}return r}function py(n){if(n._terminated)throw new Nt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RW(n),n._firestoreClient}function RW(n){const e=n._freezeSettings(),t=(function(r,s,a,l){return new Qz(r,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,_D(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new wW(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const s=r?._online.build();return{_offline:r?._offline.build(s),_online:s}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(pa.fromBase64String(e))}catch(t){throw new Nt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(pa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(u1(e,Xo._jsonSchema))return Xo.fromBase64String(e.bytes)}}Xo._jsonSchemaVersion="firestore/bytes/1.0",Xo._jsonSchema={type:ds("string",Xo._jsonSchemaVersion),bytes:ds("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Nt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ua(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yc._jsonSchemaVersion}}static fromJSON(e){if(u1(e,Yc._jsonSchema))return new Yc(e.latitude,e.longitude)}}Yc._jsonSchemaVersion="firestore/geoPoint/1.0",Yc._jsonSchema={type:ds("string",Yc._jsonSchemaVersion),latitude:ds("number"),longitude:ds("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(u1(e,Kc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Kc(e.vectorValues);throw new Nt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kc._jsonSchemaVersion="firestore/vectorValue/1.0",Kc._jsonSchema={type:ds("string",Kc._jsonSchemaVersion),vectorValues:ds("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=/^__.*__$/;class kW{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Lf(e,this.data,this.fieldMask,t,this.fieldTransforms):new f1(e,this.data,t,this.fieldTransforms)}}class yD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Lf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn(40011,{Ac:n})}}class GE{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new GE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xD(this.Ac)&&IW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DW{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||uy(e)}Cc(e,t,i,r=!1){return new GE({Ac:e,methodName:t,Dc:i,path:ua.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function my(n){const e=n._freezeSettings(),t=uy(n._databaseId);return new DW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wD(n,e,t,i,r,s={}){const a=n.Cc(s.merge||s.mergeFields?2:0,e,t,r);YE("Data must be an object, but it was:",a,i);const l=SD(i,a);let c,h;if(s.merge)c=new Qo(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const _=eb(e,p,t);if(!a.contains(_))throw new Nt(rt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);AD(f,_)||f.push(_)}c=new Qo(f),h=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,h=a.fieldTransforms;return new kW(new Ja(l),c,h)}class _y extends gy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _y}}class $E extends gy{_toFieldTransform(e){return new EH(e.path,new Pm)}isEqual(e){return e instanceof $E}}function bD(n,e,t,i){const r=n.Cc(1,e,t);YE("Data must be an object, but it was:",r,i);const s=[],a=Ja.empty();Df(i,((c,h)=>{const f=KE(e,c,t);h=kr(h);const p=r.yc(f);if(h instanceof _y)s.push(f);else{const _=_1(h,p);_!=null&&(s.push(f),a.set(f,_))}}));const l=new Qo(s);return new yD(a,l,r.fieldTransforms)}function ED(n,e,t,i,r,s){const a=n.Cc(1,e,t),l=[eb(e,i,t)],c=[r];if(s.length%2!=0)throw new Nt(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)l.push(eb(e,s[_])),c.push(s[_+1]);const h=[],f=Ja.empty();for(let _=l.length-1;_>=0;--_)if(!AD(h,l[_])){const m=l[_];let b=c[_];b=kr(b);const x=a.yc(m);if(b instanceof _y)h.push(m);else{const E=_1(b,x);E!=null&&(h.push(m),f.set(m,E))}}const p=new Qo(h);return new yD(f,p,a.fieldTransforms)}function LW(n,e,t,i=!1){return _1(t,n.Cc(i?4:3,e))}function _1(n,e){if(TD(n=kr(n)))return YE("Unsupported field value:",e,n),SD(n,e);if(n instanceof gy)return(function(i,r){if(!xD(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const s=[];let a=0;for(const l of i){let c=_1(l,r.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(n,e)}return(function(i,r){if((i=kr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xH(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=lr.fromDate(i);return{timestampValue:X_(r.serializer,s)}}if(i instanceof lr){const s=new lr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:X_(r.serializer,s)}}if(i instanceof Yc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:j8(r.serializer,i._byteString)};if(i instanceof ts){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:IE(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Kc)return(function(a,l){return{mapValue:{fields:{[f8]:{stringValue:d8},[G_]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return CE(l.serializer,h)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${ty(i)}`)})(n,e)}function SD(n,e){const t={};return a8(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Df(n,((i,r)=>{const s=_1(r,e.mc(i));s!=null&&(t[i]=s)})),{mapValue:{fields:t}}}function TD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof Yc||n instanceof Xo||n instanceof ts||n instanceof gy||n instanceof Kc)}function YE(n,e,t){if(!TD(t)||!r8(t)){const i=ty(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function eb(n,e,t){if((e=kr(e))instanceof m1)return e._internalPath;if(typeof e=="string")return KE(n,e);throw tv("Field path arguments must be of type string or ",n,!1,void 0,t)}const OW=new RegExp("[~\\*/\\[\\]]");function KE(n,e,t){if(e.search(OW)>=0)throw tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new m1(...e.split("."))._internalPath}catch{throw tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tv(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new Nt(rt.INVALID_ARGUMENT,l+n+c)}function AD(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ts(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PW extends nv{data(){return super.data()}}function vy(n,e){return typeof e=="string"?KE(n,e):e instanceof m1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Nt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XE{}class QE extends XE{}function Jh(n,e,...t){let i=[];e instanceof XE&&i.push(e),i=i.concat(t),(function(s){const a=s.filter((c=>c instanceof JE)).length,l=s.filter((c=>c instanceof yy)).length;if(a>1||a>0&&l>0)throw new Nt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class yy extends QE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yy(e,t,i)}_apply(e){const t=this._parse(e);return CD(e._query,t),new Of(e.firestore,e.converter,Ww(e._query,t))}_parse(e){const t=my(e.firestore);return(function(s,a,l,c,h,f,p){let _;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Nt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){yC(p,f);const b=[];for(const x of p)b.push(vC(c,s,x));_={arrayValue:{values:b}}}else _=vC(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||yC(p,f),_=LW(l,a,p,f==="in"||f==="not-in");return fs.create(h,f,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tb(n,e,t){const i=e,r=vy("where",n);return yy._create(r,i,t)}class JE extends XE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new JE(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:uc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let a=r;const l=s.getFlattenedFilters();for(const c of l)CD(a,c),a=Ww(a,c)})(e._query,t),new Of(e.firestore,e.converter,Ww(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ZE extends QE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZE(e,t)}_apply(e){const t=(function(r,s,a){if(r.startAt!==null)throw new Nt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Nt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Om(s,a)})(e._query,this._field,this._direction);return new Of(e.firestore,e.converter,(function(r,s){const a=r.explicitOrderBy.concat([s]);return new Pp(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function iv(n,e="asc"){const t=e,i=vy("orderBy",n);return ZE._create(i,t)}class eS extends QE{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new eS(e,t,i)}_apply(e){return new Of(e.firestore,e.converter,Y_(e._query,this._limit,this._limitType))}}function FW(n){return eS._create("limit",n,"F")}function vC(n,e,t){if(typeof(t=kr(t))=="string"){if(t==="")throw new Nt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w8(e)&&t.indexOf("/")!==-1)throw new Nt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Gi.fromString(t));if(!sn.isDocumentKey(i))throw new Nt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return P3(n,new sn(i))}if(t instanceof ts)return P3(n,t._key);throw new Nt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ty(t)}.`)}function yC(n,e){if(!Array.isArray(n)||n.length===0)throw new Nt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CD(n,e){const t=(function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Nt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Nt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ND{convertValue(e,t="none"){switch(xf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Df(e,((r,s)=>{i[r]=this.convertValue(s,t)})),i}convertVectorValue(e){const t=e.fields?.[G_].arrayValue?.values?.map((i=>Qr(i.doubleValue)));return new Kc(t)}convertGeoPoint(e){return new Yc(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=iy(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(km(e));default:return null}}convertTimestamp(e){const t=vf(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Gi.fromString(e);ci(G8(i),9688,{name:e});const r=new Dm(i.get(1),i.get(3)),s=new sn(i.popFirst(5));return r.isEqual(t)||nh(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class BW extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ts(this.firestore,null,t)}}class H0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ff extends nv{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new b_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Nt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ff._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ff._jsonSchemaVersion="firestore/documentSnapshot/1.0",ff._jsonSchema={type:ds("string",ff._jsonSchemaVersion),bundleSource:ds("string","DocumentSnapshot"),bundleName:ds("string"),bundle:ds("string")};class b_ extends ff{data(e={}){return super.data(e)}}class J0{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new H0(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new b_(this._firestore,this._userDataWriter,i.key,i,new H0(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map((l=>{const c=new b_(r._firestore,r._userDataWriter,l.doc.key,l.doc,new H0(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new b_(r._firestore,r._userDataWriter,l.doc.key,l.doc,new H0(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:jW(l.type),doc:c,oldIndex:h,newIndex:f}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Nt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=J0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(n){n=Qc(n,ts);const e=Qc(n.firestore,Pd);return TW(py(e),n._key).then((t=>UW(e,n,t)))}J0._jsonSchemaVersion="firestore/querySnapshot/1.0",J0._jsonSchema={type:ds("string",J0._jsonSchemaVersion),bundleSource:ds("string","QuerySnapshot"),bundleName:ds("string"),bundle:ds("string")};class tS extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ts(this.firestore,null,t)}}function $u(n){n=Qc(n,Of);const e=Qc(n.firestore,Pd),t=py(e),i=new tS(e);return MW(n._query),AW(t,n._query).then((r=>new J0(e,i,n,r)))}function ID(n,e,t,...i){n=Qc(n,ts);const r=Qc(n.firestore,Pd),s=my(r);let a;return a=typeof(e=kr(e))=="string"||e instanceof m1?ED(s,"updateDoc",n._key,e,t,i):bD(s,"updateDoc",n._key,e),iS(r,[a.toMutation(n._key,La.exists(!0))])}function kD(n){return iS(Qc(n.firestore,Pd),[new ly(n._key,La.none())])}function nS(n,e){const t=Qc(n.firestore,Pd),i=Za(n),r=RD(n.converter,e);return iS(t,[wD(my(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,La.exists(!1))]).then((()=>i))}function iS(n,e){return(function(i,r){const s=new Gc;return i.asyncQueue.enqueueAndForget((async()=>uW(await EW(i),r,s))),s.promise})(py(n),e)}function UW(n,e,t){const i=t.docs.get(e._key),r=new tS(n);return new ff(n,r,e._key,i,new H0(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW={maxAttempts:5};function Yg(n,e){if((n=kr(n)).firestore!==e)throw new Nt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=my(e)}get(e){const t=Yg(e,this._firestore),i=new BW(this._firestore);return this._transaction.lookup([t._key]).then((r=>{if(!r||r.length!==1)return fn(24041);const s=r[0];if(s.isFoundDocument())return new nv(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new nv(this._firestore,i,t._key,null,t.converter);throw fn(18433,{doc:s})}))}set(e,t,i){const r=Yg(e,this._firestore),s=RD(r.converter,t,i),a=wD(this._dataReader,"Transaction.set",r._key,s,r.converter!==null,i);return this._transaction.set(r._key,a),this}update(e,t,i,...r){const s=Yg(e,this._firestore);let a;return a=typeof(t=kr(t))=="string"||t instanceof m1?ED(this._dataReader,"Transaction.update",s._key,t,i,r):bD(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=Yg(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW extends zW{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yg(e,this._firestore),i=new tS(this._firestore);return super.get(e).then((r=>new ff(this._firestore,i,t._key,r._document,new H0(!1,!1),t.converter)))}}function nb(n,e,t){n=Qc(n,Pd);const i={...VW,...t};return(function(s){if(s.maxAttempts<1)throw new Nt(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(s,a,l){const c=new Gc;return s.asyncQueue.enqueueAndForget((async()=>{const h=await SW(s);new xW(s.asyncQueue,h,l,a,c).ju()})),c.promise})(py(n),(r=>e(new HW(n,r))),i)}function yp(){return new $E("serverTimestamp")}(function(e,t=!0){(function(r){Dp=r})(kf),mf(new Zu("firestore",((i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Pd(new Dz(i.getProvider("auth-internal")),new Pz(a,i.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Nt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dm(h.options.projectId,f)})(a,r),a);return s={useFetchStreams:t,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Tl(b3,E3,e),Tl(b3,E3,"esm2020")})();var wC={};const bC="@firebase/database",EC="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DD="";function qW(n){DD=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ca(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Am(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return ch(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new WW(e)}}catch{}return new GW},pd=LD("localStorage"),$W=LD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Xv("@firebase/database"),YW=(function(){let n=1;return function(){return n++}})(),OD=function(n){const e=QB(n),t=new GB;t.update(e);const i=t.digest();return nE.encodeByteArray(i)},v1=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=v1.apply(null,i):typeof i=="object"?e+=ca(i):e+=i,e+=" "}return e};let om=null,SC=!0;const KW=function(n,e){Rt(!0,"Can't turn on custom loggers persistently."),Z0.logLevel=Hn.VERBOSE,om=Z0.log.bind(Z0)},ka=function(...n){if(SC===!0&&(SC=!1,om===null&&$W.get("logging_enabled")===!0&&KW()),om){const e=v1.apply(null,n);om(e)}},y1=function(n){return function(...e){ka(n,...e)}},ib=function(...n){const e="FIREBASE INTERNAL ERROR: "+v1(...n);Z0.error(e)},rh=function(...n){const e=`FIREBASE FATAL ERROR: ${v1(...n)}`;throw Z0.error(e),new Error(e)},el=function(...n){const e="FIREBASE WARNING: "+v1(...n);Z0.warn(e)},XW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&el("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},PD=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},QW=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},xp="[MIN_NAME]",Ed="[MAX_NAME]",Fp=function(n,e){if(n===e)return 0;if(n===xp||e===Ed)return-1;if(e===xp||n===Ed)return 1;{const t=TC(n),i=TC(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},JW=function(n,e){return n===e?0:n<e?-1:1},kg=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+ca(e))},rS=function(n){if(typeof n!="object"||n===null)return ca(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=ca(e[i]),t+=":",t+=rS(n[e[i]]);return t+="}",t},MD=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function Cl(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const FD=function(n){Rt(!PD(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,s,a,l,c;n===0?(s=0,a=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=l+i,a=Math.round(n*Math.pow(2,t-l)-Math.pow(2,t))):(s=0,a=Math.round(n/Math.pow(2,1-i-t))));const h=[];for(c=t;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(r?1:0),h.reverse();const f=h.join("");let p="";for(c=0;c<64;c+=8){let _=parseInt(f.substr(c,8),2).toString(16);_.length===1&&(_="0"+_),p=p+_}return p.toLowerCase()},ZW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},eG=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},tG=new RegExp("^-?(0*)\\d{1,10}$"),nG=-2147483648,iG=2147483647,TC=function(n){if(tG.test(n)){const e=Number(n);if(e>=nG&&e<=iG)return e}return null},x1=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw el("Exception was thrown by user callback.",t),e},Math.floor(0))}},rG=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lm=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Qa(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){el(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ka("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',el(e)}}class E_{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}E_.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="5",BD="v",jD="s",UD="r",VD="f",zD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,HD="ls",qD="p",rb="ac",WD="websocket",GD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,i,r,s=!1,a="",l=!1,c=!1,h=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pd.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function oG(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function YD(n,e,t){Rt(typeof e=="string","typeof type must == string"),Rt(typeof t=="object","typeof params must == object");let i;if(e===WD)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===GD)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);oG(n)&&(t.ns=n.namespace);const r=[];return Cl(t,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(){this.counters_={}}incrementCounter(e,t=1){ch(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return TB(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5={},S5={};function aS(n){const e=n.toString();return E5[e]||(E5[e]=new lG),E5[e]}function cG(n,e){const t=n.toString();return S5[t]||(S5[t]=e()),S5[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&x1(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="start",hG="close",fG="pLPCommand",dG="pRTLPCB",KD="id",XD="pw",QD="ser",pG="cb",gG="seg",mG="ts",_G="d",vG="dframe",JD=1870,ZD=30,yG=JD-ZD,xG=25e3,wG=3e4;class q0{constructor(e,t,i,r,s,a,l){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=y1(e),this.stats_=aS(t),this.urlFn=c=>(this.appCheckToken&&(c[rb]=this.appCheckToken),YD(t,GD,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uG(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wG)),QW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oS((...s)=>{const[a,l,c,h,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===AC)this.id=l,this.password=c;else if(a===hG)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[AC]="t",i[QD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[pG]=this.scriptTagHolder.uniqueCallbackIdentifier),i[BD]=sS,this.transportSessionId&&(i[jD]=this.transportSessionId),this.lastSessionId&&(i[HD]=this.lastSessionId),this.applicationId&&(i[qD]=this.applicationId),this.appCheckToken&&(i[rb]=this.appCheckToken),typeof location<"u"&&location.hostname&&zD.test(location.hostname)&&(i[UD]=VD);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){q0.forceAllow_=!0}static forceDisallow(){q0.forceDisallow_=!0}static isAvailable(){return q0.forceAllow_?!0:!q0.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ZW()&&!eG()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ca(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=ik(t),r=MD(i,yG);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[vG]="t",i[KD]=e,i[XD]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ca(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class oS{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=YW(),window[fG+this.uniqueCallbackIdentifier]=e,window[dG+this.uniqueCallbackIdentifier]=t,this.myIFrame=oS.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){ka("frame writing exception"),l.stack&&ka(l.stack),ka(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ka("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[KD]=this.myID,e[XD]=this.myPW,e[QD]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ZD+i.length<=JD;){const a=this.pendingSegs.shift();i=i+"&"+gG+r+"="+a.seg+"&"+mG+r+"="+a.ts+"&"+_G+r+"="+a.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(xG)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ka("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=16384,EG=45e3;let rv=null;typeof MozWebSocket<"u"?rv=MozWebSocket:typeof WebSocket<"u"&&(rv=WebSocket);class Zl{constructor(e,t,i,r,s,a,l){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=y1(this.connId),this.stats_=aS(t),this.connURL=Zl.connectionURL_(t,a,l,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,s){const a={};return a[BD]=sS,typeof location<"u"&&location.hostname&&zD.test(location.hostname)&&(a[UD]=VD),t&&(a[jD]=t),i&&(a[HD]=i),r&&(a[rb]=r),s&&(a[qD]=s),YD(e,WD,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pd.set("previous_websocket_failure",!0);try{let i;FB(),this.mySock=new rv(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Zl.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&rv!==null&&!Zl.forceDisallow_}static previouslyFailed(){return pd.isInMemoryStorage||pd.get("previous_websocket_failure")===!0}markConnectionHealthy(){pd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=Am(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Rt(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=ca(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=MD(t,bG);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(EG))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zl.responsesRequiredToBeHealthy=2;Zl.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{static get ALL_TRANSPORTS(){return[q0,Zl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Zl&&Zl.isAvailable();let i=t&&!Zl.previouslyFailed();if(e.webSocketOnly&&(t||el("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Zl];else{const r=this.transports_=[];for(const s of Bm.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Bm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=6e4,TG=5e3,AG=10*1024,CG=100*1024,T5="t",CC="d",NG="s",NC="r",RG="e",RC="o",IC="a",kC="n",DC="p",IG="h";class kG{constructor(e,t,i,r,s,a,l,c,h,f){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=y1("c:"+this.id+":"),this.transportManager_=new Bm(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=lm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CG?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AG?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(T5 in e){const t=e[T5];t===IC?this.upgradeIfSecondaryHealthy_():t===NC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===RC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=kg("t",e),i=kg("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:IC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=kg("t",e),i=kg("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=kg(T5,e);if(CC in e){const i=e[CC];if(t===IG){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===kC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===NG?this.onConnectionShutdown_(i):t===NC?this.onReset_(i):t===RG?ib("Server Error: "+i):t===RC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ib("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),sS!==i&&el("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),lm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(SG))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TG))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.allowedEvents_=e,this.listeners_={},Rt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){Rt(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends tL{static getInstance(){return new sv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!aE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Rt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=32,OC=768;class hr{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function $i(){return new hr("")}function oi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ef(n){return n.pieces_.length-n.pieceNum_}function or(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new hr(n.pieces_,e)}function nL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function DG(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function iL(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function rL(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new hr(e,0)}function Ws(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof hr)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new hr(t,0)}function ei(n){return n.pieceNum_>=n.pieces_.length}function Sl(n,e){const t=oi(n),i=oi(e);if(t===null)return e;if(t===i)return Sl(or(n),or(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function sL(n,e){if(Ef(n)!==Ef(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function nc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ef(n)>Ef(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class LG{constructor(e,t){this.errorPrefix_=t,this.parts_=iL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Kv(this.parts_[i]);aL(this)}}function OG(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Kv(e),aL(n)}function PG(n){const e=n.parts_.pop();n.byteLength_-=Kv(e),n.parts_.length>0&&(n.byteLength_-=1)}function aL(n){if(n.byteLength_>OC)throw new Error(n.errorPrefix_+"has a key path longer than "+OC+" bytes ("+n.byteLength_+").");if(n.parts_.length>LC)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+LC+") or object contains a cycle "+ad(n))}function ad(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends tL{static getInstance(){return new lS}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Rt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=1e3,MG=300*1e3,PC=30*1e3,FG=1.3,BG=3e4,jG="server_kill",MC=3;class Yu extends eL{constructor(e,t,i,r,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Yu.nextPersistentConnectionId_++,this.log_=y1("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dg,this.maxReconnectDelay_=MG,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lS.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,s={r,a:e,b:t};this.log_(ca(s)),Rt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new rE,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?t.resolve(l):t.reject(l)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,i,r){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Rt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Rt(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},a="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,l=>{const c=l.d,h=l.s;Yu.warnOnListenWarnings_(c,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&ch(e,"w")){const i=fp(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();el(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||WB(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=PC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=qB(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const s=r.s,a=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Rt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e},a="n";r&&(s.q=i,s.t=r),this.sendRequest(a,s)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const s={p:t,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,s){this.initConnection_();const a={p:t,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ca(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):ib("Unrecognized action received from server: "+ca(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Rt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>BG&&(this.reconnectDelay_=Dg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FG)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Yu.nextConnectionId_++,s=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,i())},h=function(p){Rt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:h};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,_]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?ka("getToken() completed but was canceled"):(ka("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=_&&_.token,l=new kG(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,m=>{el(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(jG)},s))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&el(p),c())}}}interrupt(e){ka("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ka("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nw(this.interruptReasons_)&&(this.reconnectDelay_=Dg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(s=>rS(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new hr(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(t),s.delete(t),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){ka("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=MC&&(this.reconnectDelay_=PC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ka("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=MC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+DD.replace(/\./g,"-")]=1,aE()?e["framework.cordova"]=1:lk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sv.getInstance().currentlyOnline();return Nw(this.interruptReasons_)&&e}}Yu.nextPersistentConnectionId_=0;Yu.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new li(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new li(xp,e),r=new li(xp,t);return this.compare(i,r)!==0}minPost(){return li.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k2;class oL extends xy{static get __EMPTY_NODE(){return k2}static set __EMPTY_NODE(e){k2=e}compare(e,t){return Fp(e.name,t.name)}isDefinedOn(e){throw Rp("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return li.MIN}maxPost(){return new li(Ed,k2)}makePost(e,t){return Rt(typeof e=="string","KeyIndex indexValue must always be a string."),new li(e,k2)}toString(){return".key"}}const ep=new oL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?i(e.key,t):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class zs{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??zs.RED,this.left=r??To.EMPTY_NODE,this.right=s??To.EMPTY_NODE}copy(e,t,i,r,s){return new zs(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return To.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return To.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}zs.RED=!0;zs.BLACK=!1;class UG{copy(e,t,i,r,s){return this}insert(e,t,i){return new zs(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class To{constructor(e,t=To.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new To(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,zs.BLACK,null,null))}remove(e){return new To(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zs.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new D2(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new D2(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new D2(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new D2(this.root_,null,this.comparator_,!0,e)}}To.EMPTY_NODE=new UG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(n,e){return Fp(n.name,e.name)}function cS(n,e){return Fp(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sb;function zG(n){sb=n}const lL=function(n){return typeof n=="number"?"number:"+FD(n):"string:"+n},cL=function(n){if(n.isLeafNode()){const e=n.val();Rt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ch(e,".sv"),"Priority must be a string or number.")}else Rt(n===sb||n.isEmpty(),"priority of unexpected type.");Rt(n===sb||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FC;class Us{static set __childrenNodeConstructor(e){FC=e}static get __childrenNodeConstructor(){return FC}constructor(e,t=Us.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Rt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cL(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Us(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Us.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ei(e)?this:oi(e)===".priority"?this.priorityNode_:Us.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Us.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=oi(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(Rt(i!==".priority"||Ef(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Us.__childrenNodeConstructor.EMPTY_NODE.updateChild(or(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+lL(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=FD(this.value_):e+=this.value_,this.lazyHash_=OD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Us.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Us.__childrenNodeConstructor?-1:(Rt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=Us.VALUE_TYPE_ORDER.indexOf(t),s=Us.VALUE_TYPE_ORDER.indexOf(i);return Rt(r>=0,"Unknown leaf type: "+t),Rt(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Us.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uL,hL;function HG(n){uL=n}function qG(n){hL=n}class WG extends xy{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return s===0?Fp(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return li.MIN}maxPost(){return new li(Ed,new Us("[PRIORITY-POST]",hL))}makePost(e,t){const i=uL(e);return new li(t,new Us("[PRIORITY-POST]",i))}toString(){return".priority"}}const Oa=new WG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=Math.log(2);class $G{constructor(e){const t=s=>parseInt(Math.log(s)/GG,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const av=function(n,e,t,i){n.sort(e);const r=function(c,h){const f=h-c;let p,_;if(f===0)return null;if(f===1)return p=n[c],_=t?t(p):p,new zs(_,p.node,zs.BLACK,null,null);{const m=parseInt(f/2,10)+c,b=r(c,m),x=r(m+1,h);return p=n[m],_=t?t(p):p,new zs(_,p.node,zs.BLACK,b,x)}},s=function(c){let h=null,f=null,p=n.length;const _=function(b,x){const E=p-b,A=p;p-=b;const P=r(E+1,A),L=n[E],j=t?t(L):L;m(new zs(j,L.node,x,null,P))},m=function(b){h?(h.left=b,h=b):(f=b,h=b)};for(let b=0;b<c.count;++b){const x=c.nextBitIsOne(),E=Math.pow(2,c.count-(b+1));x?_(E,zs.BLACK):(_(E,zs.BLACK),_(E,zs.RED))}return f},a=new $G(n.length),l=s(a);return new To(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A5;const A0={};class Uu{static get Default(){return Rt(A0&&Oa,"ChildrenNode.ts has not been loaded"),A5=A5||new Uu({".priority":A0},{".priority":Oa}),A5}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=fp(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof To?t:null}hasIndex(e){return ch(this.indexSet_,e.toString())}addIndex(e,t){Rt(e!==ep,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(li.Wrap);let a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=s.getNext();let l;r?l=av(i,e.getCompare()):l=A0;const c=e.toString(),h={...this.indexSet_};h[c]=e;const f={...this.indexes_};return f[c]=l,new Uu(f,h)}addToIndexes(e,t){const i=P_(this.indexes_,(r,s)=>{const a=fp(this.indexSet_,s);if(Rt(a,"Missing index implementation for "+s),r===A0)if(a.isDefinedOn(e.node)){const l=[],c=t.getIterator(li.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&l.push(h),h=c.getNext();return l.push(e),av(l,a.getCompare())}else return A0;else{const l=t.get(e.name);let c=r;return l&&(c=c.remove(new li(e.name,l))),c.insert(e,e.node)}});return new Uu(i,this.indexSet_)}removeFromIndexes(e,t){const i=P_(this.indexes_,r=>{if(r===A0)return r;{const s=t.get(e.name);return s?r.remove(new li(e.name,s)):r}});return new Uu(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg;class Ai{static get EMPTY_NODE(){return Lg||(Lg=new Ai(new To(cS),null,Uu.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cL(this.priorityNode_),this.children_.isEmpty()&&Rt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lg}updatePriority(e){return this.children_.isEmpty()?this:new Ai(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Lg:t}}getChild(e){const t=oi(e);return t===null?this:this.getImmediateChild(t).getChild(or(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Rt(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new li(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(i,this.children_));const a=r.isEmpty()?Lg:this.priorityNode_;return new Ai(r,a,s)}}updateChild(e,t){const i=oi(e);if(i===null)return t;{Rt(oi(e)!==".priority"||Ef(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(or(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,s=!0;if(this.forEachChild(Oa,(a,l)=>{t[a]=l.val(e),i++,s&&Ai.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):s=!1}),!e&&s&&r<2*i){const a=[];for(const l in t)a[l]=t[l];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+lL(this.getPriority().val())+":"),this.forEachChild(Oa,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":OD(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new li(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new li(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new li(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,li.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,li.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===w1?-1:0}withIndex(e){if(e===ep||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ai(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ep||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Oa),r=t.getIterator(Oa);let s=i.getNext(),a=r.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=r.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===ep?null:this.indexMap_.get(e.toString())}}Ai.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class YG extends Ai{constructor(){super(new To(cS),Ai.EMPTY_NODE,Uu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ai.EMPTY_NODE}isEmpty(){return!1}}const w1=new YG;Object.defineProperties(li,{MIN:{value:new li(xp,Ai.EMPTY_NODE)},MAX:{value:new li(Ed,w1)}});oL.__EMPTY_NODE=Ai.EMPTY_NODE;Us.__childrenNodeConstructor=Ai;zG(w1);qG(w1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG=!0;function Da(n,e=null){if(n===null)return Ai.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Rt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Us(t,Da(e))}if(!(n instanceof Array)&&KG){const t=[];let i=!1;if(Cl(n,(a,l)=>{if(a.substring(0,1)!=="."){const c=Da(l);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new li(a,c)))}}),t.length===0)return Ai.EMPTY_NODE;const s=av(t,VG,a=>a.name,cS);if(i){const a=av(t,Oa.getCompare());return new Ai(s,Da(e),new Uu({".priority":a},{".priority":Oa}))}else return new Ai(s,Da(e),Uu.Default)}else{let t=Ai.EMPTY_NODE;return Cl(n,(i,r)=>{if(ch(n,i)&&i.substring(0,1)!=="."){const s=Da(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Da(e))}}HG(Da);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG extends xy{constructor(e){super(),this.indexPath_=e,Rt(!ei(e)&&oi(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return s===0?Fp(e.name,t.name):s}makePost(e,t){const i=Da(e),r=Ai.EMPTY_NODE.updateChild(this.indexPath_,i);return new li(t,r)}maxPost(){const e=Ai.EMPTY_NODE.updateChild(this.indexPath_,w1);return new li(Ed,e)}toString(){return iL(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG extends xy{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Fp(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return li.MIN}maxPost(){return li.MAX}makePost(e,t){const i=Da(e);return new li(t,i)}toString(){return".value"}}const JG=new QG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZG(n){return{type:"value",snapshotNode:n}}function e$(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function t$(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function BC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function n$(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oa}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Rt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Rt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xp}hasEnd(){return this.endSet_}getIndexEndValue(){return Rt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Rt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ed}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Rt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oa}copy(){const e=new uS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jC(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Oa?t="$priority":n.index_===JG?t="$value":n.index_===ep?t="$key":(Rt(n.index_ instanceof XG,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=ca(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=ca(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+ca(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=ca(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+ca(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function UC(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Oa&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends eL{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Rt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=y1("p:rest:"),this.listens_={}}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=ov.getListenId_(e,i),l={};this.listens_[a]=l;const c=jC(e._queryParams);this.restRequest_(s+".json",c,(h,f)=>{let p=f;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,i),fp(this.listens_,a)===l){let _;h?h===401?_="permission_denied":_="rest_error:"+h:_="ok",r(_,null)}})}unlisten(e,t){const i=ov.getListenId_(e,t);delete this.listens_[i]}get(e){const t=jC(e._queryParams),i=e._path.toString(),r=new rE;return this.restRequest_(i+".json",t,(s,a)=>{let l=a;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ip(t);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Am(l.responseText)}catch{el("Failed to parse JSON response for "+a+": "+l.responseText)}i(null,c)}else l.status!==401&&l.status!==404&&el("Got unsuccessful REST response for "+a+" Status: "+l.status),i(l.status);i=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.rootNode_=Ai.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){return{value:null,children:new Map}}function fL(n,e,t){if(ei(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=oi(e);n.children.has(i)||n.children.set(i,lv());const r=n.children.get(i);e=or(e),fL(r,e,t)}}function ab(n,e,t){n.value!==null?t(e,n.value):r$(n,(i,r)=>{const s=new hr(e.toString()+"/"+i);ab(r,s,t)})}function r$(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&Cl(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=10*1e3,a$=30*1e3,o$=300*1e3;class l${constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new s$(e);const i=VC+(a$-VC)*Math.random();lm(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Cl(e,(r,s)=>{s>0&&ch(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),lm(this.reportStats_.bind(this),Math.floor(Math.random()*2*o$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zc;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zc||(zc={}));function dL(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pL(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=zc.ACK_USER_WRITE,this.source=dL()}operationForChild(e){if(ei(this.path)){if(this.affectedTree.value!=null)return Rt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new hr(e));return new cv($i(),t,this.revert)}}else return Rt(oi(this.path)===e,"operationForChild called for unrelated child."),new cv(or(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=zc.OVERWRITE}operationForChild(e){return ei(this.path)?new Sd(this.source,$i(),this.snap.getImmediateChild(e)):new Sd(this.source,or(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=zc.MERGE}operationForChild(e){if(ei(this.path)){const t=this.children.subtree(new hr(e));return t.isEmpty()?null:t.value?new Sd(this.source,$i(),t.value):new jm(this.source,$i(),t)}else return Rt(oi(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jm(this.source,or(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ei(e))return this.isFullyInitialized()&&!this.filtered_;const t=oi(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function c$(n,e,t,i){const r=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(n$(a.childName,a.snapshotNode))}),Og(n,r,"child_removed",e,i,t),Og(n,r,"child_added",e,i,t),Og(n,r,"child_moved",s,i,t),Og(n,r,"child_changed",e,i,t),Og(n,r,"value",e,i,t),r}function Og(n,e,t,i,r,s){const a=i.filter(l=>l.type===t);a.sort((l,c)=>h$(n,l,c)),a.forEach(l=>{const c=u$(n,l,s);r.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(c,n.query_))})})}function u$(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function h$(n,e,t){if(e.childName==null||t.childName==null)throw Rp("Should only compare child_ events.");const i=new li(e.childName,e.snapshotNode),r=new li(t.childName,t.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n,e){return{eventCache:n,serverCache:e}}function cm(n,e,t,i){return mL(new hS(e,t,i),n.serverCache)}function _L(n,e,t,i){return mL(n.eventCache,new hS(e,t,i))}function ob(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Td(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C5;const f$=()=>(C5||(C5=new To(JW)),C5);class ar{static fromObject(e){let t=new ar(null);return Cl(e,(i,r)=>{t=t.set(new hr(i),r)}),t}constructor(e,t=f$()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:$i(),value:this.value};if(ei(e))return null;{const i=oi(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(or(e),t);return s!=null?{path:Ws(new hr(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ei(e))return this;{const t=oi(e),i=this.children.get(t);return i!==null?i.subtree(or(e)):new ar(null)}}set(e,t){if(ei(e))return new ar(t,this.children);{const i=oi(e),s=(this.children.get(i)||new ar(null)).set(or(e),t),a=this.children.insert(i,s);return new ar(this.value,a)}}remove(e){if(ei(e))return this.children.isEmpty()?new ar(null):new ar(null,this.children);{const t=oi(e),i=this.children.get(t);if(i){const r=i.remove(or(e));let s;return r.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,r),this.value===null&&s.isEmpty()?new ar(null):new ar(this.value,s)}else return this}}get(e){if(ei(e))return this.value;{const t=oi(e),i=this.children.get(t);return i?i.get(or(e)):null}}setTree(e,t){if(ei(e))return t;{const i=oi(e),s=(this.children.get(i)||new ar(null)).setTree(or(e),t);let a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new ar(this.value,a)}}fold(e){return this.fold_($i(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ws(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,$i(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(ei(e))return null;{const s=oi(e),a=this.children.get(s);return a?a.findOnPath_(or(e),Ws(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,$i(),t)}foreachOnPath_(e,t,i){if(ei(e))return this;{this.value&&i(t,this.value);const r=oi(e),s=this.children.get(r);return s?s.foreachOnPath_(or(e),Ws(t,r),i):new ar(null)}}foreach(e){this.foreach_($i(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Ws(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.writeTree_=e}static empty(){return new oc(new ar(null))}}function um(n,e,t){if(ei(e))return new oc(new ar(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const a=Sl(r,e);return s=s.updateChild(a,t),new oc(n.writeTree_.set(r,s))}else{const r=new ar(t),s=n.writeTree_.setTree(e,r);return new oc(s)}}}function zC(n,e,t){let i=n;return Cl(t,(r,s)=>{i=um(i,Ws(e,r),s)}),i}function HC(n,e){if(ei(e))return oc.empty();{const t=n.writeTree_.setTree(e,new ar(null));return new oc(t)}}function lb(n,e){return Md(n,e)!=null}function Md(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Sl(t.path,e)):null}function qC(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Oa,(i,r)=>{e.push(new li(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new li(i,r.value))}),e}function df(n,e){if(ei(e))return n;{const t=Md(n,e);return t!=null?new oc(new ar(t)):new oc(n.writeTree_.subtree(e))}}function cb(n){return n.writeTree_.isEmpty()}function wp(n,e){return vL($i(),n.writeTree_,e)}function vL(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(Rt(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):t=vL(Ws(n,r),s,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Ws(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n,e){return SL(e,n)}function d$(n,e,t,i,r){Rt(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=um(n.visibleWrites,e,t)),n.lastWriteId=i}function p$(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function g$(n,e){const t=n.allWrites.findIndex(l=>l.writeId===e);Rt(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const l=n.allWrites[a];l.visible&&(a>=t&&m$(l,i.path)?r=!1:nc(i.path,l.path)&&(s=!0)),a--}if(r){if(s)return _$(n),!0;if(i.snap)n.visibleWrites=HC(n.visibleWrites,i.path);else{const l=i.children;Cl(l,c=>{n.visibleWrites=HC(n.visibleWrites,Ws(i.path,c))})}return!0}else return!1}function m$(n,e){if(n.snap)return nc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&nc(Ws(n.path,t),e))return!0;return!1}function _$(n){n.visibleWrites=xL(n.allWrites,v$,$i()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function v$(n){return n.visible}function xL(n,e,t){let i=oc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const a=s.path;let l;if(s.snap)nc(t,a)?(l=Sl(t,a),i=um(i,l,s.snap)):nc(a,t)&&(l=Sl(a,t),i=um(i,$i(),s.snap.getChild(l)));else if(s.children){if(nc(t,a))l=Sl(t,a),i=zC(i,l,s.children);else if(nc(a,t))if(l=Sl(a,t),ei(l))i=zC(i,$i(),s.children);else{const c=fp(s.children,oi(l));if(c){const h=c.getChild(or(l));i=um(i,$i(),h)}}}else throw Rp("WriteRecord should have .snap or .children")}}return i}function wL(n,e,t,i,r){if(!i&&!r){const s=Md(n.visibleWrites,e);if(s!=null)return s;{const a=df(n.visibleWrites,e);if(cb(a))return t;if(t==null&&!lb(a,$i()))return null;{const l=t||Ai.EMPTY_NODE;return wp(a,l)}}}else{const s=df(n.visibleWrites,e);if(!r&&cb(s))return t;if(!r&&t==null&&!lb(s,$i()))return null;{const a=function(h){return(h.visible||r)&&(!i||!~i.indexOf(h.writeId))&&(nc(h.path,e)||nc(e,h.path))},l=xL(n.allWrites,a,e),c=t||Ai.EMPTY_NODE;return wp(l,c)}}}function y$(n,e,t){let i=Ai.EMPTY_NODE;const r=Md(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Oa,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(t){const s=df(n.visibleWrites,e);return t.forEachChild(Oa,(a,l)=>{const c=wp(df(s,new hr(a)),l);i=i.updateImmediateChild(a,c)}),qC(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const s=df(n.visibleWrites,e);return qC(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function x$(n,e,t,i,r){Rt(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ws(e,t);if(lb(n.visibleWrites,s))return null;{const a=df(n.visibleWrites,s);return cb(a)?r.getChild(t):wp(a,r.getChild(t))}}function w$(n,e,t,i){const r=Ws(e,t),s=Md(n.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(t)){const a=df(n.visibleWrites,r);return wp(a,i.getNode().getImmediateChild(t))}else return null}function b$(n,e){return Md(n.visibleWrites,e)}function E$(n,e,t,i,r,s,a){let l;const c=df(n.visibleWrites,e),h=Md(c,$i());if(h!=null)l=h;else if(t!=null)l=wp(c,t);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const f=[],p=a.getCompare(),_=s?l.getReverseIteratorFrom(i,a):l.getIteratorFrom(i,a);let m=_.getNext();for(;m&&f.length<r;)p(m,i)!==0&&f.push(m),m=_.getNext();return f}else return[]}function S$(){return{visibleWrites:oc.empty(),allWrites:[],lastWriteId:-1}}function ub(n,e,t,i){return wL(n.writeTree,n.treePath,e,t,i)}function bL(n,e){return y$(n.writeTree,n.treePath,e)}function WC(n,e,t,i){return x$(n.writeTree,n.treePath,e,t,i)}function uv(n,e){return b$(n.writeTree,Ws(n.treePath,e))}function T$(n,e,t,i,r,s){return E$(n.writeTree,n.treePath,e,t,i,r,s)}function fS(n,e,t){return w$(n.writeTree,n.treePath,e,t)}function EL(n,e){return SL(Ws(n.treePath,e),n.writeTree)}function SL(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;Rt(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Rt(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(i,BC(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(i,t$(i,r.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(i,e$(i,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(i,BC(i,e.snapshotNode,r.oldSnap));else throw Rp("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const TL=new C$;class dS{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new hS(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fS(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Td(this.viewCache_),s=T$(this.writes_,r,t,1,i,e);return s.length===0?null:s[0]}}function N$(n,e){Rt(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Rt(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function R$(n,e,t,i,r){const s=new A$;let a,l;if(t.type===zc.OVERWRITE){const h=t;h.source.fromUser?a=hb(n,e,h.path,h.snap,i,r,s):(Rt(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!ei(h.path),a=hv(n,e,h.path,h.snap,i,r,l,s))}else if(t.type===zc.MERGE){const h=t;h.source.fromUser?a=k$(n,e,h.path,h.children,i,r,s):(Rt(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),a=fb(n,e,h.path,h.children,i,r,l,s))}else if(t.type===zc.ACK_USER_WRITE){const h=t;h.revert?a=O$(n,e,h.path,i,r,s):a=D$(n,e,h.path,h.affectedTree,i,r,s)}else if(t.type===zc.LISTEN_COMPLETE)a=L$(n,e,t.path,i,s);else throw Rp("Unknown operation type: "+t.type);const c=s.getChanges();return I$(e,a,c),{viewCache:a,changes:c}}function I$(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=ob(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(ZG(ob(e)))}}function AL(n,e,t,i,r,s){const a=e.eventCache;if(uv(i,t)!=null)return e;{let l,c;if(ei(t))if(Rt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Td(e),f=h instanceof Ai?h:Ai.EMPTY_NODE,p=bL(i,f);l=n.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=ub(i,Td(e));l=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=oi(t);if(h===".priority"){Rt(Ef(t)===1,"Can't have a priority with additional path components");const f=a.getNode();c=e.serverCache.getNode();const p=WC(i,t,f,c);p!=null?l=n.filter.updatePriority(f,p):l=a.getNode()}else{const f=or(t);let p;if(a.isCompleteForChild(h)){c=e.serverCache.getNode();const _=WC(i,t,a.getNode(),c);_!=null?p=a.getNode().getImmediateChild(h).updateChild(f,_):p=a.getNode().getImmediateChild(h)}else p=fS(i,h,e.serverCache);p!=null?l=n.filter.updateChild(a.getNode(),h,p,f,r,s):l=a.getNode()}}return cm(e,l,a.isFullyInitialized()||ei(t),n.filter.filtersNodes())}}function hv(n,e,t,i,r,s,a,l){const c=e.serverCache;let h;const f=a?n.filter:n.filter.getIndexedFilter();if(ei(t))h=f.updateFullNode(c.getNode(),i,null);else if(f.filtersNodes()&&!c.isFiltered()){const m=c.getNode().updateChild(t,i);h=f.updateFullNode(c.getNode(),m,null)}else{const m=oi(t);if(!c.isCompleteForPath(t)&&Ef(t)>1)return e;const b=or(t),E=c.getNode().getImmediateChild(m).updateChild(b,i);m===".priority"?h=f.updatePriority(c.getNode(),E):h=f.updateChild(c.getNode(),m,E,b,TL,null)}const p=_L(e,h,c.isFullyInitialized()||ei(t),f.filtersNodes()),_=new dS(r,p,s);return AL(n,p,t,r,_,l)}function hb(n,e,t,i,r,s,a){const l=e.eventCache;let c,h;const f=new dS(r,e,s);if(ei(t))h=n.filter.updateFullNode(e.eventCache.getNode(),i,a),c=cm(e,h,!0,n.filter.filtersNodes());else{const p=oi(t);if(p===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),i),c=cm(e,h,l.isFullyInitialized(),l.isFiltered());else{const _=or(t),m=l.getNode().getImmediateChild(p);let b;if(ei(_))b=i;else{const x=f.getCompleteChild(p);x!=null?nL(_)===".priority"&&x.getChild(rL(_)).isEmpty()?b=x:b=x.updateChild(_,i):b=Ai.EMPTY_NODE}if(m.equals(b))c=e;else{const x=n.filter.updateChild(l.getNode(),p,b,_,f,a);c=cm(e,x,l.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function GC(n,e){return n.eventCache.isCompleteForChild(e)}function k$(n,e,t,i,r,s,a){let l=e;return i.foreach((c,h)=>{const f=Ws(t,c);GC(e,oi(f))&&(l=hb(n,l,f,h,r,s,a))}),i.foreach((c,h)=>{const f=Ws(t,c);GC(e,oi(f))||(l=hb(n,l,f,h,r,s,a))}),l}function $C(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function fb(n,e,t,i,r,s,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;ei(t)?h=i:h=new ar(null).setTree(t,i);const f=e.serverCache.getNode();return h.children.inorderTraversal((p,_)=>{if(f.hasChild(p)){const m=e.serverCache.getNode().getImmediateChild(p),b=$C(n,m,_);c=hv(n,c,new hr(p),b,r,s,a,l)}}),h.children.inorderTraversal((p,_)=>{const m=!e.serverCache.isCompleteForChild(p)&&_.value===null;if(!f.hasChild(p)&&!m){const b=e.serverCache.getNode().getImmediateChild(p),x=$C(n,b,_);c=hv(n,c,new hr(p),x,r,s,a,l)}}),c}function D$(n,e,t,i,r,s,a){if(uv(r,t)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(ei(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return hv(n,e,t,c.getNode().getChild(t),r,s,l,a);if(ei(t)){let h=new ar(null);return c.getNode().forEachChild(ep,(f,p)=>{h=h.set(new hr(f),p)}),fb(n,e,t,h,r,s,l,a)}else return e}else{let h=new ar(null);return i.foreach((f,p)=>{const _=Ws(t,f);c.isCompleteForPath(_)&&(h=h.set(f,c.getNode().getChild(_)))}),fb(n,e,t,h,r,s,l,a)}}function L$(n,e,t,i,r){const s=e.serverCache,a=_L(e,s.getNode(),s.isFullyInitialized()||ei(t),s.isFiltered());return AL(n,a,t,i,TL,r)}function O$(n,e,t,i,r,s){let a;if(uv(i,t)!=null)return e;{const l=new dS(i,e,r),c=e.eventCache.getNode();let h;if(ei(t)||oi(t)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=ub(i,Td(e));else{const p=e.serverCache.getNode();Rt(p instanceof Ai,"serverChildren would be complete if leaf node"),f=bL(i,p)}f=f,h=n.filter.updateFullNode(c,f,s)}else{const f=oi(t);let p=fS(i,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),p!=null?h=n.filter.updateChild(c,f,p,or(t),l,s):e.eventCache.getNode().hasChild(f)?h=n.filter.updateChild(c,f,Ai.EMPTY_NODE,or(t),l,s):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=ub(i,Td(e)),a.isLeafNode()&&(h=n.filter.updateFullNode(h,a,s)))}return a=e.serverCache.isFullyInitialized()||uv(i,$i())!=null,cm(e,h,a,n.filter.filtersNodes())}}function P$(n,e){const t=Td(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ei(e)&&!t.getImmediateChild(oi(e)).isEmpty())?t.getChild(e):null}function YC(n,e,t,i){e.type===zc.MERGE&&e.source.queryId!==null&&(Rt(Td(n.viewCache_),"We should always have a full cache before handling merges"),Rt(ob(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=R$(n.processor_,r,e,t,i);return N$(n.processor_,s.viewCache),Rt(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,M$(n,s.changes,s.viewCache.eventCache.getNode())}function M$(n,e,t,i){const r=n.eventRegistrations_;return c$(n.eventGenerator_,e,t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KC;function F$(n){Rt(!KC,"__referenceConstructor has already been defined"),KC=n}function pS(n,e,t,i){const r=e.source.queryId;if(r!==null){const s=n.views.get(r);return Rt(s!=null,"SyncTree gave us an op for an invalid query."),YC(s,e,t,i)}else{let s=[];for(const a of n.views.values())s=s.concat(YC(a,e,t,i));return s}}function gS(n,e){let t=null;for(const i of n.views.values())t=t||P$(i,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XC;function B$(n){Rt(!XC,"__referenceConstructor has already been defined"),XC=n}class QC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ar(null),this.pendingWriteTree_=S$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function j$(n,e,t,i,r){return d$(n.pendingWriteTree_,e,t,i,r),r?by(n,new Sd(dL(),e,t)):[]}function W0(n,e,t=!1){const i=p$(n.pendingWriteTree_,e);if(g$(n.pendingWriteTree_,e)){let s=new ar(null);return i.snap!=null?s=s.set($i(),!0):Cl(i.children,a=>{s=s.set(new hr(a),!0)}),by(n,new cv(i.path,s,t))}else return[]}function wy(n,e,t){return by(n,new Sd(pL(),e,t))}function U$(n,e,t){const i=ar.fromObject(t);return by(n,new jm(pL(),e,i))}function V$(n,e,t,i){const r=IL(n,i);if(r!=null){const s=kL(r),a=s.path,l=s.queryId,c=Sl(a,e),h=new Sd(gL(l),c,t);return DL(n,a,h)}else return[]}function z$(n,e,t,i){const r=IL(n,i);if(r){const s=kL(r),a=s.path,l=s.queryId,c=Sl(a,e),h=ar.fromObject(t),f=new jm(gL(l),c,h);return DL(n,a,f)}else return[]}function CL(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,l)=>{const c=Sl(a,e),h=gS(l,c);if(h)return h});return wL(r,e,s,t,!0)}function by(n,e){return NL(e,n.syncPointTree_,null,yL(n.pendingWriteTree_,$i()))}function NL(n,e,t,i){if(ei(n.path))return RL(n,e,t,i);{const r=e.get($i());t==null&&r!=null&&(t=gS(r,$i()));let s=[];const a=oi(n.path),l=n.operationForChild(a),c=e.children.get(a);if(c&&l){const h=t?t.getImmediateChild(a):null,f=EL(i,a);s=s.concat(NL(l,c,h,f))}return r&&(s=s.concat(pS(r,n,i,t))),s}}function RL(n,e,t,i){const r=e.get($i());t==null&&r!=null&&(t=gS(r,$i()));let s=[];return e.children.inorderTraversal((a,l)=>{const c=t?t.getImmediateChild(a):null,h=EL(i,a),f=n.operationForChild(a);f&&(s=s.concat(RL(f,l,c,h)))}),r&&(s=s.concat(pS(r,n,i,t))),s}function IL(n,e){return n.tagToQueryMap.get(e)}function kL(n){const e=n.indexOf("$");return Rt(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new hr(n.substr(0,e))}}function DL(n,e,t){const i=n.syncPointTree_.get(e);Rt(i,"Missing sync point for query tag that we're tracking");const r=yL(n.pendingWriteTree_,e);return pS(i,t,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new mS(t)}node(){return this.node_}}class _S{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ws(this.path_,e);return new _S(this.syncTree_,t)}node(){return CL(this.syncTree_,this.path_)}}const H$=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},JC=function(n,e,t){if(!n||typeof n!="object")return n;if(Rt(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return q$(n[".sv"],e,t);if(typeof n[".sv"]=="object")return W$(n[".sv"],e);Rt(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},q$=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Rt(!1,"Unexpected server value: "+n)}},W$=function(n,e,t){n.hasOwnProperty("increment")||Rt(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&Rt(!1,"Unexpected increment value: "+i);const r=e.node();if(Rt(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return typeof a!="number"?i:a+i},G$=function(n,e,t,i){return vS(e,new _S(t,n),i)},$$=function(n,e,t){return vS(n,new mS(e),t)};function vS(n,e,t){const i=n.getPriority().val(),r=JC(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,l=JC(a.getValue(),e,t);return l!==a.getValue()||r!==a.getPriority().val()?new Us(l,Da(r)):n}else{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new Us(r))),a.forEachChild(Oa,(l,c)=>{const h=vS(c,e.getImmediateChild(l),t);h!==c&&(s=s.updateImmediateChild(l,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function xS(n,e){let t=e instanceof hr?e:new hr(e),i=n,r=oi(t);for(;r!==null;){const s=fp(i.node.children,r)||{children:{},childCount:0};i=new yS(r,i,s),t=or(t),r=oi(t)}return i}function Bp(n){return n.node.value}function LL(n,e){n.node.value=e,db(n)}function OL(n){return n.node.childCount>0}function Y$(n){return Bp(n)===void 0&&!OL(n)}function Ey(n,e){Cl(n.node.children,(t,i)=>{e(new yS(t,n,i))})}function PL(n,e,t,i){t&&e(n),Ey(n,r=>{PL(r,e,!0)})}function K$(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function b1(n){return new hr(n.parent===null?n.name:b1(n.parent)+"/"+n.name)}function db(n){n.parent!==null&&X$(n.parent,n.name,n)}function X$(n,e,t){const i=Y$(t),r=ch(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,db(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,db(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=/[\[\].#$\/\u0000-\u001F\u007F]/,J$=/[\[\].#$\u0000-\u001F\u007F]/,N5=10*1024*1024,ML=function(n){return typeof n=="string"&&n.length!==0&&!Q$.test(n)},Z$=function(n){return typeof n=="string"&&n.length!==0&&!J$.test(n)},eY=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Z$(n)},FL=function(n,e,t){const i=t instanceof hr?new LG(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ad(i));if(typeof e=="function")throw new Error(n+"contains a function "+ad(i)+" with contents = "+e.toString());if(PD(e))throw new Error(n+"contains "+e.toString()+" "+ad(i));if(typeof e=="string"&&e.length>N5/3&&Kv(e)>N5)throw new Error(n+"contains a string greater than "+N5+" utf8 bytes "+ad(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Cl(e,(a,l)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!ML(a)))throw new Error(n+" contains an invalid key ("+a+") "+ad(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OG(i,a),FL(n,l,i),PG(i)}),r&&s)throw new Error(n+' contains ".value" child '+ad(i)+" in addition to actual children.")}},tY=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ML(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!eY(t))throw new Error(XB(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iY(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();t!==null&&!sL(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function Fd(n,e,t){iY(n,t),rY(n,i=>nc(i,e)||nc(e,i))}function rY(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const s=r.path;e(s)?(sY(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function sY(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();om&&ka("event: "+t.toString()),x1(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY="repo_interrupt",oY=25;class lY{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lv(),this.transactionQueueTree_=new yS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cY(n,e,t){if(n.stats_=aS(n.repoInfo_),n.forceRestClient_||rG())n.server_=new ov(n.repoInfo_,(i,r,s,a)=>{ZC(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>eN(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ca(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Yu(n.repoInfo_,e,(i,r,s,a)=>{ZC(n,i,r,s,a)},i=>{eN(n,i)},i=>{hY(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=cG(n.repoInfo_,()=>new l$(n.stats_,n.server_)),n.infoData_=new i$,n.infoSyncTree_=new QC({startListening:(i,r,s,a)=>{let l=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(l=wy(n.infoSyncTree_,i._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),wS(n,"connected",!1),n.serverSyncTree_=new QC({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(l,c)=>{const h=a(l,c);Fd(n.eventQueue_,i._path,h)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function uY(n){const t=n.infoData_.getNode(new hr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function BL(n){return H$({timestamp:uY(n)})}function ZC(n,e,t,i,r){n.dataUpdateCount++;const s=new hr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(r)if(i){const c=P_(t,h=>Da(h));a=z$(n.serverSyncTree_,s,c,r)}else{const c=Da(t);a=V$(n.serverSyncTree_,s,c,r)}else if(i){const c=P_(t,h=>Da(h));a=U$(n.serverSyncTree_,s,c)}else{const c=Da(t);a=wy(n.serverSyncTree_,s,c)}let l=s;a.length>0&&(l=ES(n,s)),Fd(n.eventQueue_,l,a)}function eN(n,e){wS(n,"connected",e),e===!1&&dY(n)}function hY(n,e){Cl(e,(t,i)=>{wS(n,t,i)})}function wS(n,e,t){const i=new hr("/.info/"+e),r=Da(t);n.infoData_.updateSnapshot(i,r);const s=wy(n.infoSyncTree_,i,r);Fd(n.eventQueue_,i,s)}function fY(n){return n.nextWriteId_++}function dY(n){jL(n,"onDisconnectEvents");const e=BL(n),t=lv();ab(n.onDisconnect_,$i(),(r,s)=>{const a=G$(r,s,n.serverSyncTree_,e);fL(t,r,a)});let i=[];ab(t,$i(),(r,s)=>{i=i.concat(wy(n.serverSyncTree_,r,s));const a=_Y(n,r);ES(n,a)}),n.onDisconnect_=lv(),Fd(n.eventQueue_,$i(),i)}function pY(n){n.persistentConnection_&&n.persistentConnection_.interrupt(aY)}function jL(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ka(t,...e)}function UL(n,e,t){return CL(n.serverSyncTree_,e,t)||Ai.EMPTY_NODE}function bS(n,e=n.transactionQueueTree_){if(e||Sy(n,e),Bp(e)){const t=zL(n,e);Rt(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&gY(n,b1(e),t)}else OL(e)&&Ey(e,t=>{bS(n,t)})}function gY(n,e,t){const i=t.map(h=>h.currentWriteId),r=UL(n,e,i);let s=r;const a=r.hash();for(let h=0;h<t.length;h++){const f=t[h];Rt(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=Sl(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;n.server_.put(c.toString(),l,h=>{jL(n,"transaction put response",{path:c.toString(),status:h});let f=[];if(h==="ok"){const p=[];for(let _=0;_<t.length;_++)t[_].status=2,f=f.concat(W0(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&p.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();Sy(n,xS(n.transactionQueueTree_,e)),bS(n,n.transactionQueueTree_),Fd(n.eventQueue_,e,f);for(let _=0;_<p.length;_++)x1(p[_])}else{if(h==="datastale")for(let p=0;p<t.length;p++)t[p].status===3?t[p].status=4:t[p].status=0;else{el("transaction at "+c.toString()+" failed: "+h);for(let p=0;p<t.length;p++)t[p].status=4,t[p].abortReason=h}ES(n,e)}},a)}function ES(n,e){const t=VL(n,e),i=b1(t),r=zL(n,t);return mY(n,r,i),i}function mY(n,e,t){if(e.length===0)return;const i=[];let r=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],h=Sl(t,c.path);let f=!1,p;if(Rt(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,p=c.abortReason,r=r.concat(W0(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=oY)f=!0,p="maxretry",r=r.concat(W0(n.serverSyncTree_,c.currentWriteId,!0));else{const _=UL(n,c.path,a);c.currentInputSnapshot=_;const m=e[l].update(_.val());if(m!==void 0){FL("transaction failed: Data returned ",m,c.path);let b=Da(m);typeof m=="object"&&m!=null&&ch(m,".priority")||(b=b.updatePriority(_.getPriority()));const E=c.currentWriteId,A=BL(n),P=$$(b,_,A);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=P,c.currentWriteId=fY(n),a.splice(a.indexOf(E),1),r=r.concat(j$(n.serverSyncTree_,c.path,P,c.currentWriteId,c.applyLocally)),r=r.concat(W0(n.serverSyncTree_,E,!0))}else f=!0,p="nodata",r=r.concat(W0(n.serverSyncTree_,c.currentWriteId,!0))}Fd(n.eventQueue_,t,r),r=[],f&&(e[l].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(p),!1,null))))}Sy(n,n.transactionQueueTree_);for(let l=0;l<i.length;l++)x1(i[l]);bS(n,n.transactionQueueTree_)}function VL(n,e){let t,i=n.transactionQueueTree_;for(t=oi(e);t!==null&&Bp(i)===void 0;)i=xS(i,t),e=or(e),t=oi(e);return i}function zL(n,e){const t=[];return HL(n,e,t),t.sort((i,r)=>i.order-r.order),t}function HL(n,e,t){const i=Bp(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Ey(e,r=>{HL(n,r,t)})}function Sy(n,e){const t=Bp(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,LL(e,t.length>0?t:void 0)}Ey(e,i=>{Sy(n,i)})}function _Y(n,e){const t=b1(VL(n,e)),i=xS(n.transactionQueueTree_,e);return K$(i,r=>{R5(n,r)}),R5(n,i),PL(i,r=>{R5(n,r)}),t}function R5(n,e){const t=Bp(e);if(t){const i=[];let r=[],s=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(Rt(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):(Rt(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(W0(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?LL(e,void 0):t.length=s+1,Fd(n.eventQueue_,b1(e),r);for(let a=0;a<i.length;a++)x1(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function yY(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):el(`Invalid query segment '${t}' in query '${n}'`)}return e}const tN=function(n,e){const t=xY(n),i=t.namespace;t.domain==="firebase.com"&&rh(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&rh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||XW();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new $D(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new hr(t.pathString)}},xY=function(n){let e="",t="",i="",r="",s="",a=!0,l="https",c=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(l=n.substring(0,h-1),n=n.substring(h+2));let f=n.indexOf("/");f===-1&&(f=n.length);let p=n.indexOf("?");p===-1&&(p=n.length),e=n.substring(0,Math.min(f,p)),f<p&&(r=vY(n.substring(f,p)));const _=yY(n.substring(Math.min(n.length,p)));h=e.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const m=e.slice(0,h);if(m.toLowerCase()==="localhost")t="localhost";else if(m.split(".").length<=2)t=m;else{const b=e.indexOf(".");i=e.substring(0,b).toLowerCase(),t=e.substring(b+1),s=i}"ns"in _&&(s=_.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:a,scheme:l,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return ei(this._path)?null:nL(this._path)}get ref(){return new jp(this._repo,this._path)}get _queryIdentifier(){const e=UC(this._queryParams),t=rS(e);return t==="{}"?"default":t}get _queryObject(){return UC(this._queryParams)}isEqual(e){if(e=kr(e),!(e instanceof SS))return!1;const t=this._repo===e._repo,i=sL(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+DG(this._path)}}class jp extends SS{constructor(e,t){super(e,t,new uS,!1)}get parent(){const e=rL(this._path);return e===null?null:new jp(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}F$(jp);B$(jp);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY="FIREBASE_DATABASE_EMULATOR_HOST",pb={};let bY=!1;function EY(n,e,t,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),a=lh(s);n.repoInfo_=new $D(e,a,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function SY(n,e,t,i,r){let s=i||n.options.databaseURL;s===void 0&&(n.options.projectId||rh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ka("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=tN(s,r),l=a.repoInfo,c;typeof process<"u"&&wC&&(c=wC[wY]),c?(s=`http://${c}?ns=${l.namespace}`,a=tN(s,r),l=a.repoInfo):a.repoInfo.secure;const h=new aG(n.name,n.options,e);tY("Invalid Firebase Database URL",a),ei(a.path)||rh("Database URL must point to the root of a Firebase Database (not including a child path).");const f=AY(l,n,h,new sG(n,t));return new CY(f,n)}function TY(n,e){const t=pb[e];(!t||t[n.key]!==n)&&rh(`Database ${e}(${n.repoInfo_}) has already been deleted.`),pY(n),delete t[n.key]}function AY(n,e,t,i){let r=pb[e.name];r||(r={},pb[e.name]=r);let s=r[n.toURLString()];return s&&rh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lY(n,bY,t,i),r[n.toURLString()]=s,s}class CY{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cY(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jp(this._repo,$i())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TY(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&rh("Cannot call "+e+" on a deleted database.")}}function NY(n=Qv(),e){const t=s1(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=iE("database");i&&RY(t,...i)}return t}function RY(n,e,t,i={}){n=kr(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&gf(i,s.repoInfo_.emulatorOptions))return;rh("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&rh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new E_(E_.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:sE(i.mockUserToken,n.app.options.projectId);a=new E_(l)}lh(e)&&($v(e),Yv("Database",!0)),EY(s,r,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(n){qW(kf),mf(new Zu("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return SY(i,r,s,t)},"PUBLIC").setMultipleInstances(!0)),Tl(bC,EC,n),Tl(bC,EC,"esm2020")}Yu.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Yu.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};IY();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="firebasestorage.googleapis.com",kY="storageBucket",DY=120*1e3,LY=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends tu{constructor(e,t,i=0){super(I5(e),`Firebase Storage: ${t} (${I5(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nu.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return I5(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zc;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zc||(Zc={}));function I5(n){return"storage/"+n}function OY(){const n="An unknown error occurred, please check the error payload for server response.";return new nu(Zc.UNKNOWN,n)}function PY(){return new nu(Zc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MY(){return new nu(Zc.CANCELED,"User canceled the upload/download.")}function FY(n){return new nu(Zc.INVALID_URL,"Invalid URL '"+n+"'.")}function BY(n){return new nu(Zc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function nN(n){return new nu(Zc.INVALID_ARGUMENT,n)}function WL(){return new nu(Zc.APP_DELETED,"The Firebase app was deleted.")}function jY(n){return new nu(Zc.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ic.makeFromUrl(e,t)}catch{return new ic(e,"")}if(i.path==="")return i;throw BY(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function h(j){j.path_=decodeURIComponent(j.path)}const f="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${f}/b/${r}/o${_}`,"i"),b={bucket:1,path:3},x=t===qL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",A=new RegExp(`^https?://${x}/${r}/${E}`,"i"),L=[{regex:l,indices:c,postModify:s},{regex:m,indices:b,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let j=0;j<L.length;j++){const Q=L[j],ae=Q.regex.exec(e);if(ae){const F=ae[Q.indices.bucket];let R=ae[Q.indices.path];R||(R=""),i=new ic(F,R),Q.postModify(i);break}}if(i==null)throw FY(e);return i}}class UY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(n,e,t){let i=1,r=null,s=null,a=!1,l=0;function c(){return l===2}let h=!1;function f(...E){h||(h=!0,e.apply(null,E))}function p(E){r=setTimeout(()=>{r=null,n(m,c())},E)}function _(){s&&clearTimeout(s)}function m(E,...A){if(h){_();return}if(E){_(),f.call(null,E,...A);return}if(c()||a){_(),f.call(null,E,...A);return}i<64&&(i*=2);let L;l===1?(l=2,L=0):L=(i+Math.random())*1e3,p(L)}let b=!1;function x(E){b||(b=!0,_(),!h&&(r!==null?(E||(l=2),clearTimeout(r),p(0)):E||(l=1)))}return p(0),s=setTimeout(()=>{a=!0,x(!0)},t),x}function zY(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(n){return n!==void 0}function iN(n,e,t,i){if(i<e)throw nN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw nN(`Invalid value for '${n}'. Expected ${t} or less.`)}function qY(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var fv;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(fv||(fv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WY(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,t,i,r,s,a,l,c,h,f,p,_=!0,m=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=_,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new L2(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===fv.NO_ERROR,c=s.getStatus();if(!l||WY(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===fv.ABORT;i(!1,new L2(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;i(!0,new L2(h,s))})},t=(i,r)=>{const s=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());HY(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=OY();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(r.canceled){const c=this.appDelete_?WL():MY();a(c)}else{const c=PY();a(c)}};this.canceled_?t(!1,new L2(!1,null,!0)):this.backoffId_=VY(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class L2{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function $Y(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function YY(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KY(n,e){e&&(n["X-Firebase-GMPID"]=e)}function XY(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function QY(n,e,t,i,r,s,a=!0,l=!1){const c=qY(n.urlParams),h=n.url+c,f=Object.assign({},n.headers);return KY(f,e),$Y(f,t),YY(f,s),XY(f,i),new GY(h,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JY(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function ZY(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){this._service=e,t instanceof ic?this._location=t:this._location=ic.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new dv(e,t)}get root(){const e=new ic(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZY(this._location.path)}get storage(){return this._service}get parent(){const e=JY(this._location.path);if(e===null)return null;const t=new ic(this._location.bucket,e);return new dv(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw jY(e)}}function rN(n,e){const t=e?.[kY];return t==null?null:ic.makeFromBucketSpec(t,n)}function eK(n,e,t,i={}){n.host=`${e}:${t}`;const r=lh(e);r&&($v(`https://${n.host}/b`),Yv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:sE(s,n.app.options.projectId))}class tK{constructor(e,t,i,r,s,a=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=qL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DY,this._maxUploadRetryTime=LY,this._requests=new Set,r!=null?this._bucket=ic.makeFromBucketSpec(r,this._host):this._bucket=rN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ic.makeFromBucketSpec(this._url,e):this._bucket=rN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Qa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dv(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new UY(WL());{const a=QY(e,this._appId,i,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const sN="@firebase/storage",aN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="storage";function nK(n=Qv(),e){n=kr(n);const i=s1(n,GL).getImmediate({identifier:e}),r=iE("storage");return r&&iK(i,...r),i}function iK(n,e,t,i={}){eK(n,e,t,i)}function rK(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new tK(t,i,r,e,kf)}function sK(){mf(new Zu(GL,rK,"PUBLIC").setMultipleInstances(!0)),Tl(sN,aN,""),Tl(sN,aN,"esm2020")}sK();const aK={apiKey:"AIzaSyCotTsGec4oVY7EoZDXGJqynxqmjC5MJLk",authDomain:"simbrasys-3aaec.firebaseapp.com",projectId:"simbrasys-3aaec",storageBucket:"simbrasys-3aaec.firebasestorage.app",messagingSenderId:"809241685905",appId:"1:809241685905:web:30931f1210e132e07bf430",measurementId:"G-GBGPL57MJ6"},Ty=fk(aK),er=NW(Ty),Hc=bz(Ty);NY(Ty);nK(Ty);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lK=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),oN=n=>{const e=lK(n);return e.charAt(0).toUpperCase()+e.slice(1)},$L=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),cK=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=Le.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...l},c)=>Le.createElement("svg",{ref:c,...uK,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:$L("lucide",r),...!s&&!cK(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,f])=>Le.createElement(h,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=(n,e)=>{const t=Le.forwardRef(({className:i,...r},s)=>Le.createElement(hK,{ref:s,iconNode:e,className:$L(`lucide-${oK(oN(n))}`,`lucide-${n}`,i),...r}));return t.displayName=oN(n),t};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],YL=dr("chart-no-axes-column",fK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pK=dr("chevron-down",dK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mK=dr("circle-check-big",gK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],vK=dr("circle-plus",_K);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xK=dr("clock",yK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gb=dr("download",wK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EK=dr("eye",bK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mb=dr("file-text",SK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],AK=dr("house",TK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],NK=dr("layout-grid",CK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],IK=dr("list",RK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_b=dr("lock",kK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lN=dr("log-out",DK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],TS=dr("mail",LK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],PK=dr("menu",OK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Up=dr("package",MK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KL=dr("pen",FK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],jK=dr("printer",BK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],vb=dr("rotate-cw",UK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XL=dr("save",VK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hm=dr("search",zK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],QL=dr("trash-2",HK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],WK=dr("user-plus",qK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],JL=dr("users",GK);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ay=dr("x",$K);function YK(){const[n,e]=Le.useState(""),[t,i]=Le.useState(""),[r,s]=Le.useState(!1),[a,l]=Le.useState(null),[c,h]=Le.useState(!1),f=qv(),p=async m=>{m.preventDefault(),h(!0),l(null),console.log("Intentando iniciar sesin con:",{email:n,password:t});try{const x=(await lV(Hc,n,t)).user;console.log("Autenticacin exitosa, verificando autorizacin...",x.email);const E=Za(er,"autenticados",x.email);(await xC(E)).exists()?(console.log("Usuario autorizado. Redirigiendo..."),f("/dashboard")):(console.log("Usuario no autorizado:",x.email),await Mw(Hc),l("No tienes permiso para acceder. Contacta a un administrador."))}catch(b){switch(console.error("Error de Firebase:",b),b.code){case"auth/user-not-found":case"auth/invalid-credential":l("Las credenciales son incorrectas. Verifica el correo y la contrasea.");break;case"auth/wrong-password":l("La contrasea es incorrecta.");break;case"auth/invalid-email":l("El formato del correo electrnico no es vlido.");break;default:l("Hubo un problema al iniciar sesin. Revisa la consola para ms detalles.");break}}finally{h(!1)}},_=async()=>{h(!0),l(null);const m=new Fu;try{const x=(await kV(Hc,m)).user;console.log("Autenticacin con Google exitosa, verificando autorizacin...",x.email);const E=Za(er,"autenticados",x.email);(await xC(E)).exists()?(console.log("Usuario de Google autorizado. Redirigiendo..."),f("/dashboard")):(console.log("Usuario de Google no autorizado:",x.email),await Mw(Hc),l("No tienes permiso para acceder. Contacta a un administrador."))}catch(b){console.error("Error en inicio de sesin con Google:",b),l("No se pudo iniciar sesin con Google. Intntalo de nuevo.")}finally{h(!1)}};return B.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center p-4",children:B.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-xl shadow-lg",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsx("div",{className:"flex justify-center mb-4",children:B.jsx(Up,{className:"h-16 w-16 text-amber-800",strokeWidth:2})}),B.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"CIMBRA-SYS"}),B.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de renta de madera para cimbra"})]}),B.jsxs("form",{className:"space-y-6",onSubmit:p,children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrnico"}),B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx(TS,{className:"text-black",size:20})}),B.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:m=>e(m.target.value),className:"text-black w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none",placeholder:"tu@correo.com"})]})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx(_b,{className:"text-gray-400",size:20})}),B.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:m=>i(m.target.value),className:"text-black w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none",placeholder:""})]})]}),B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center",children:[B.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:r,onChange:m=>s(m.target.checked),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded"}),B.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Recordarme"})]}),B.jsx("div",{className:"text-sm",children:B.jsx(hp,{to:"/recuperar-contrasena",className:"font-medium text-amber-600 hover:text-amber-500",children:"Olvidaste tu contrasea?"})})]}),a&&B.jsx("div",{className:"text-red-600 text-sm text-center",children:a}),B.jsx("div",{children:B.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition duration-150 disabled:bg-amber-400 disabled:cursor-not-allowed",children:c?"Iniciando sesin...":"Iniciar sesin"})})]}),B.jsxs("div",{className:"mt-6",children:[B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-0 flex items-center",children:B.jsx("div",{className:"w-full border-t border-gray-300"})}),B.jsx("div",{className:"relative flex justify-center text-sm",children:B.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O contina con"})})]}),B.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:B.jsx("div",{children:B.jsx("button",{type:"button",onClick:_,disabled:c,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition duration-150",children:B.jsxs("div",{className:"flex items-center",children:[B.jsx("img",{className:"h-5 w-5",src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google logo"}),B.jsx("span",{className:"ml-2",children:"Google"})]})})})})]}),B.jsx("div",{className:"mt-6 text-center",children:B.jsxs("p",{className:"text-sm text-gray-600",children:["No tienes una cuenta?"," ",B.jsx(hp,{to:"/registro",className:"font-medium text-amber-600 hover:text-amber-500",children:"Regstrate"})]})})]})})}function KK(){const[n,e]=Le.useState(""),[t,i]=Le.useState(""),[r,s]=Le.useState(""),[a,l]=Le.useState(null),[c,h]=Le.useState(null),[f,p]=Le.useState(!1),_=async m=>{if(m.preventDefault(),p(!0),l(null),h(null),t!==r){l("Las contraseas no coinciden."),p(!1);return}try{await oV(Hc,n,t),h("Registro exitoso! Tu cuenta ha sido creada. Por favor, espera a que un administrador te conceda acceso para poder iniciar sesin.")}catch(b){switch(console.error("Error de Firebase al registrar:",b),b.code){case"auth/email-already-in-use":l("Este correo electrnico ya est en uso.");break;case"auth/invalid-email":l("El formato del correo electrnico no es vlido.");break;case"auth/weak-password":l("La contrasea es demasiado dbil. Debe tener al menos 6 caracteres.");break;default:l("Hubo un problema al registrar la cuenta.");break}}finally{p(!1)}};return B.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center p-4",children:B.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-xl shadow-lg",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsx("div",{className:"flex justify-center mb-4",children:B.jsx(Up,{className:"h-16 w-16 text-amber-800",strokeWidth:2})}),B.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Crear Cuenta"}),B.jsx("p",{className:"text-gray-600 mt-2",children:"CIMBRA-SYS"})]}),B.jsxs("form",{className:"space-y-6",onSubmit:_,children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrnico"}),B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx(TS,{className:"text-black",size:20})}),B.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:m=>e(m.target.value),className:"text-black w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none",placeholder:"tu@correo.com"})]})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx(_b,{className:"text-gray-400",size:20})}),B.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t,onChange:m=>i(m.target.value),className:"text-black w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none",placeholder:"Mnimo 6 caracteres"})]})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Contrasea"}),B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx(_b,{className:"text-gray-400",size:20})}),B.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,value:r,onChange:m=>s(m.target.value),className:"text-black w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none",placeholder:"Repite la contrasea"})]})]}),a&&B.jsx("div",{className:"text-red-600 text-sm text-center",children:a}),c&&B.jsx("div",{className:"text-green-600 text-sm text-center",children:c}),B.jsx("div",{children:B.jsx("button",{type:"submit",disabled:f||c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition duration-150 disabled:bg-amber-400 disabled:cursor-not-allowed",children:f?"Registrando...":"Crear cuenta"})})]}),B.jsx("div",{className:"mt-6 text-center",children:B.jsxs("p",{className:"text-sm text-gray-600",children:["Ya tienes una cuenta?"," ",B.jsx(hp,{to:"/login",className:"font-medium text-amber-600 hover:text-amber-500",children:"Inicia sesin"})]})})]})})}function XK(){const[n,e]=Le.useState(""),[t,i]=Le.useState(null),[r,s]=Le.useState(null),[a,l]=Le.useState(!1),c=async h=>{h.preventDefault(),l(!0),i(null),s(null);try{await aV(Hc,n),s("Se ha enviado un correo para restablecer tu contrasea. Revisa tu bandeja de entrada (y la carpeta de spam).")}catch(f){switch(console.error("Error de Firebase al enviar correo de restablecimiento:",f),f.code){case"auth/user-not-found":i("No se encontr ningn usuario con este correo electrnico.");break;case"auth/invalid-email":i("El formato del correo electrnico no es vlido.");break;default:i("Hubo un problema al enviar el correo de restablecimiento.");break}}finally{l(!1)}};return B.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center p-4",children:B.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-xl shadow-lg",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsx("div",{className:"flex justify-center mb-4",children:B.jsx(Up,{className:"h-16 w-16 text-amber-800",strokeWidth:2})}),B.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Recuperar Contrasea"}),B.jsx("p",{className:"text-gray-600 mt-2",children:"Ingresa tu correo para recibir un enlace de restablecimiento."})]}),B.jsxs("form",{className:"space-y-6",onSubmit:c,children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrnico"}),B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx(TS,{className:"text-black",size:20})}),B.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:h=>e(h.target.value),className:"text-black w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none",placeholder:"tu@correo.com"})]})]}),t&&B.jsx("div",{className:"text-red-600 text-sm text-center",children:t}),r&&B.jsx("div",{className:"text-green-600 text-sm text-center",children:r}),B.jsx("div",{children:B.jsx("button",{type:"submit",disabled:a||r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition duration-150 disabled:bg-amber-400 disabled:cursor-not-allowed",children:a?"Enviando...":"Enviar correo"})})]}),B.jsx("div",{className:"mt-6 text-center",children:B.jsx("p",{className:"text-sm text-gray-600",children:B.jsx(hp,{to:"/login",className:"font-medium text-amber-600 hover:text-amber-500",children:"Volver a Iniciar sesin"})})})]})})}function QK(){const[n]=vE(Hc);return B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[B.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Bienvenido a CIMBRA-SYS"}),n&&B.jsxs("p",{className:"text-xl text-gray-600",children:["Sesin iniciada como: ",B.jsx("strong",{children:n.displayName||n.email})]}),B.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Utiliza la barra de navegacin para gestionar el inventario, clientes y contratos."})]})}const JK=()=>{const[n,e]=Le.useState(""),[t,i]=Le.useState(""),[r,s]=Le.useState(""),[a,l]=Le.useState([]),[c,h]=Le.useState([]);Le.useEffect(()=>{(async()=>{const N=Ko(er,"clients"),U=await $u(N);h(U.docs.map(we=>({id:we.id,...we.data()})));const I=Ko(er,"inventory"),M=Jh(I,tb("status","==","Disponible")),de=(await $u(M)).docs.map(we=>{const ce=we.data();return{id:we.id,name:ce.materialType,checked:!1,quantity:1,price:17,available:ce.quantity}});l(de)})()},[]),Le.useEffect(()=>{if(t){const R=new Date(t);R.setDate(R.getDate()+20),s(R.toISOString().split("T")[0])}},[t]);const f=()=>a.reduce((R,N)=>N.checked?R+N.quantity*N.price:R,0),p=R=>{l(a.map(N=>N.id===R?{...N,checked:!N.checked}:N))},_=(R,N)=>{l(a.map(U=>U.id===R?{...U,quantity:Math.max(1,parseInt(N)||1)}:U))},m=(R,N)=>{l(a.map(U=>U.id===R?{...U,price:Math.max(1,parseFloat(N)||1)}:U))},b=async R=>{R.preventDefault();const N=a.filter(U=>U.checked);if(!n||!t||N.length===0){alert("Por favor complete todos los campos requeridos y seleccione al menos un material");return}for(const U of N)if(U.quantity>U.available){alert(`No hay suficiente stock para "${U.name}". Disponible: ${U.available}, Solicitado: ${U.quantity}.`);return}try{await nb(er,async U=>{const I=Ko(er,"contracts"),M=await $u(I),z=`CIM-${new Date().getFullYear()}-${String(M.size+1).padStart(3,"0")}`,de=[];for(const ye of N){const be=Za(er,"inventory",ye.id),Ne=await U.get(be);if(!Ne.exists()||Ne.data().quantity<ye.quantity)throw`No hay suficiente stock para ${ye.name}.`;de.push({sourceInventoryRef:be,sourceDoc:Ne,material:ye})}const we=P(),ce=Za(Ko(er,"contracts"));U.set(ce,{contractNumber:z,clientId:n,clientName:we.name,clientPhone:we.phone,clientProject:we.project,startDate:t,returnDate:r,materials:N.map(({id:ye,name:be,quantity:Ne,price:$e})=>({inventoryId:ye,name:be,quantity:Ne,price:$e})),totalCost:Q,status:"Rentado",createdAt:yp()});for(const{sourceInventoryRef:ye,sourceDoc:be,material:Ne}of de){const $e=be.data().quantity-Ne.quantity;U.update(ye,{quantity:$e});const se=Za(Ko(er,"inventory"));U.set(se,{materialType:Ne.name,quantity:Ne.quantity,status:"Rentado",registerDate:new Date().toISOString().split("T")[0],materialId:`CIM-${Math.floor(Math.random()*1e4)}`,contractId:z,sourceInventoryId:Ne.id,createdAt:yp()})}}),alert("Contrato generado y guardado exitosamente"),x()}catch(U){console.error("Error al generar el contrato: ",U),alert(`Hubo un error al generar el contrato: ${U}`)}},x=()=>{e(""),i(""),s(""),l(a.map(R=>({...R,checked:!1,quantity:1,price:17})))},E=()=>{window.print()},A=()=>{alert("Funcin de descarga en desarrollo")},P=()=>c.find(R=>R.id===n),L=R=>R?new Date(R).toLocaleDateString("es-MX"):"-",j=R=>`$${R.toFixed(2)}`,Q=f(),ae=P();return B.jsx("div",{className:"w-full",children:B.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 h-full",children:[B.jsx("section",{className:"w-full lg:w-1/2 print:hidden",children:B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[B.jsx(mb,{className:"text-blue-600",size:24}),"Nuevo Contrato"]}),B.jsxs("form",{onSubmit:b,className:"space-y-4",children:[B.jsxs("div",{children:[B.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cliente ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsxs("div",{className:"relative",children:[B.jsxs("select",{value:n,onChange:R=>e(R.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[B.jsx("option",{value:"",children:"Seleccione un cliente"}),c.map(R=>B.jsx("option",{value:R.id,children:R.name},R.id))]}),B.jsx(pK,{className:"absolute right-3 top-2.5 text-gray-400 pointer-events-none",size:20})]})]}),B.jsxs("div",{children:[B.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fecha Inicio ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{type:"date",value:t,onChange:R=>i(R.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Devolucin"}),B.jsxs("div",{className:"bg-gray-100 px-3 py-2 rounded-md",children:[B.jsx("span",{children:r?L(r):"-"}),B.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"(20 das de renta)"})]})]}),B.jsxs("div",{children:[B.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Materiales Disponibles ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("div",{className:"border border-gray-300 rounded-md overflow-hidden",children:B.jsx("div",{className:"max-h-60 overflow-y-auto",children:B.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[B.jsx("thead",{className:"bg-gray-50",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Seleccionar"}),B.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),B.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cantidad"}),B.jsxs("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:["Precio/20 das ",B.jsx("span",{className:"text-xs font-normal",children:"(editable)"})]})]})}),B.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(R=>B.jsxs("tr",{children:[B.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:B.jsx("input",{type:"checkbox",checked:R.checked,onChange:()=>p(R.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),B.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:R.name}),B.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:B.jsx("input",{type:"number",min:"1",value:R.quantity,onChange:N=>_(R.id,N.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-sm"})}),B.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:B.jsxs("div",{className:"flex items-center gap-1",children:[B.jsx("span",{className:"text-gray-500",children:"$"}),B.jsx("input",{type:"number",min:"1",value:R.price,onChange:N=>m(R.id,N.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-sm"})]})})]},R.id))})]})})})]}),B.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("span",{className:"font-medium text-gray-700",children:"Costo Estimado:"}),B.jsx("span",{className:"text-2xl font-bold text-blue-600",children:j(Q)})]})}),B.jsxs("div",{className:"flex gap-3 pt-4",children:[B.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md font-medium transition duration-150 ease-in-out flex items-center justify-center gap-2",children:[B.jsx(mb,{size:18}),"Generar Contrato"]}),B.jsxs("button",{type:"button",onClick:x,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md font-medium transition duration-150 ease-in-out flex items-center justify-center gap-2",children:[B.jsx(Ay,{size:18}),"Cancelar"]})]})]})]})}),B.jsx("section",{className:"w-full lg:w-1/2",children:B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[B.jsxs("div",{className:"flex justify-between items-center mb-6",children:[B.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[B.jsx(EK,{className:"text-blue-600",size:24}),"Vista Previa"]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:E,title:"Imprimir",className:"text-gray-600 hover:text-blue-600 p-2 rounded-full hover:bg-gray-100",children:B.jsx(jK,{size:20})}),B.jsx("button",{onClick:A,title:"Descargar",className:"text-gray-600 hover:text-blue-600 p-2 rounded-full hover:bg-gray-100",children:B.jsx(gb,{size:20})})]})]}),B.jsxs("div",{id:"contract-preview",className:"border border-gray-200 rounded-md p-6 space-y-6",children:[B.jsxs("div",{className:"text-center",children:[B.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"CONTRATO DE RENTA"}),B.jsx("p",{className:"text-sm text-gray-500",children:"CIMBRA-SYS S.A. DE C.V."})]}),B.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B.jsxs("div",{children:[B.jsx("p",{className:"text-sm text-gray-500",children:"No. Contrato:"}),B.jsx("p",{className:"font-medium",children:"CIM-XXXX-XXX"})]}),B.jsxs("div",{children:[B.jsx("p",{className:"text-sm text-gray-500",children:"Fecha:"}),B.jsx("p",{className:"font-medium",children:new Date().toLocaleDateString("es-MX")})]})]}),B.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[B.jsx("h4",{className:"font-bold text-gray-700 mb-2",children:"DATOS DEL CLIENTE"}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("p",{children:ae?ae.name:"-"}),B.jsx("p",{children:ae?ae.phone:"-"}),B.jsx("p",{children:ae?ae.project:"-"})]})]}),B.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[B.jsx("h4",{className:"font-bold text-gray-700 mb-2",children:"DETALLES DE RENTA"}),B.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[B.jsxs("div",{children:[B.jsx("p",{className:"text-sm text-gray-500",children:"Fecha Inicio:"}),B.jsx("p",{className:"font-medium",children:L(t)})]}),B.jsxs("div",{children:[B.jsx("p",{className:"text-sm text-gray-500",children:"Fecha Devolucin:"}),B.jsx("p",{className:"font-medium",children:L(r)})]})]}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[B.jsx("thead",{className:"bg-gray-50",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),B.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cantidad"}),B.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Precio/20 das"}),B.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Subtotal"})]})}),B.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.filter(R=>R.checked).length===0?B.jsx("tr",{children:B.jsx("td",{colSpan:"4",className:"px-4 py-4 text-center text-gray-500",children:"No hay materiales seleccionados"})}):a.filter(R=>R.checked).map(R=>B.jsxs("tr",{children:[B.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:R.name}),B.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:R.quantity}),B.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:j(R.price)}),B.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:j(R.quantity*R.price)})]},R.id))})]})})]}),B.jsx("div",{className:"border-t border-gray-200 pt-4",children:B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("span",{className:"font-bold text-gray-700",children:"TOTAL:"}),B.jsx("span",{className:"text-xl font-bold text-blue-600",children:j(Q)})]})}),B.jsxs("div",{className:"border-t border-gray-200 pt-4 text-sm text-gray-500",children:[B.jsx("p",{className:"mb-2",children:"Condiciones:"}),B.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[B.jsx("li",{children:"El cliente se compromete a devolver los materiales en buen estado"}),B.jsx("li",{children:"Daos o prdidas sern cobrados al precio de reposicin"}),B.jsx("li",{children:"Retrasos en devolucin generarn cargos adicionales"})]})]})]})]})})]})})};function ZK(){const[n,e]=Le.useState([]),[t,i]=Le.useState({materialType:"",status:"",quantity:"",registerDate:new Date().toISOString().split("T")[0],materialId:`CIM-${Math.floor(Math.random()*1e4)}`}),[r,s]=Le.useState(""),[a,l]=Le.useState(null),[c,h]=Le.useState(!0),f=Ko(er,"inventory");Le.useEffect(()=>{p()},[]);const p=async()=>{h(!0);try{const L=Jh(f,iv("createdAt","desc")),Q=(await $u(L)).docs.map(ae=>({id:ae.id,...ae.data()}));e(Q)}catch(L){console.error("Error al cargar el inventario: ",L)}finally{h(!1)}},_=L=>{const{id:j,value:Q}=L.target;i(ae=>({...ae,[j]:Q}))},m=async L=>{L.preventDefault();try{if(a){const j=Za(er,"inventory",a);await ID(j,t)}else await nS(f,{...t,createdAt:yp()});p()}catch(j){console.error("Error al guardar el material: ",j),alert("Hubo un error al guardar el material.")}b()},b=()=>{i({materialType:"",status:"",quantity:"",registerDate:new Date().toISOString().split("T")[0],materialId:`CIM-${Math.floor(Math.random()*1e4)}`}),l(null)},x=L=>{i({materialType:L.materialType,status:L.status,quantity:L.quantity,registerDate:L.registerDate,materialId:L.materialId}),l(L.id)},E=async L=>{if(window.confirm("Ests seguro de que deseas eliminar este material?"))try{const j=Za(er,"inventory",L);await kD(j),p()}catch(j){console.error("Error al eliminar el material: ",j)}},A=n.filter(L=>L.materialType.toLowerCase().includes(r.toLowerCase())||L.status.toLowerCase().includes(r.toLowerCase())||L.materialId.toLowerCase().includes(r.toLowerCase())||L.contractId&&L.contractId.toLowerCase().includes(r.toLowerCase())),P=L=>({Disponible:"bg-green-100 text-green-800",Rentado:"bg-blue-100 text-blue-800",Daado:"bg-red-100 text-red-800",Extraviado:"bg-yellow-100 text-yellow-800"})[L]||"bg-gray-100 text-gray-800";return B.jsx("div",{className:"w-full",children:B.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 h-full",children:[B.jsx("section",{className:"w-full lg:w-1/3",children:B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[B.jsx(vK,{className:"text-blue-600",size:28}),a?"Editar Material":"Registrar Material"]}),B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{children:[B.jsxs("label",{htmlFor:"materialType",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tipo de Material ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsxs("select",{id:"materialType",value:t.materialType,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[B.jsx("option",{value:"",disabled:!0,children:"Seleccione un tipo"}),B.jsx("option",{value:"Tabla",children:"Tabla"}),B.jsx("option",{value:"Barrote",children:"Barrote"}),B.jsx("option",{value:"Pedazo de barrote",children:"Pedazo de barrote"})]})]}),B.jsxs("div",{children:[B.jsxs("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Estado ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsxs("select",{id:"status",value:t.status,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[B.jsx("option",{value:"",disabled:!0,children:"Seleccione estado"}),B.jsx("option",{value:"Disponible",children:"Disponible"}),B.jsx("option",{value:"Rentado",children:"Rentado"}),B.jsx("option",{value:"Daado",children:"Daado"}),B.jsx("option",{value:"Extraviado",children:"Extraviado"})]})]}),B.jsxs("div",{children:[B.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:["Cantidad ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{type:"number",id:"quantity",min:"1",value:t.quantity,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"registerDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Registro"}),B.jsx("input",{type:"text",id:"registerDate",value:t.registerDate,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"materialId",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID de Material"}),B.jsx("input",{type:"text",id:"materialId",value:t.materialId,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100"})]}),B.jsxs("div",{className:"flex gap-3 pt-4",children:[B.jsxs("button",{onClick:m,disabled:!t.materialType||!t.status||!t.quantity,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-2 px-4 rounded-md font-medium transition flex items-center justify-center gap-2",children:[B.jsx(XL,{size:18}),a?"Actualizar":"Guardar"]}),B.jsxs("button",{onClick:b,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md font-medium transition flex items-center justify-center gap-2",children:[B.jsx(Ay,{size:18}),"Cancelar"]})]})]})]})}),B.jsx("section",{className:"w-full lg:w-2/3",children:B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[B.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[B.jsx(IK,{className:"text-blue-600",size:28}),"Inventario Actual"]}),B.jsxs("div",{className:"relative w-full sm:w-auto",children:[B.jsx("input",{type:"text",placeholder:"Buscar...",value:r,onChange:L=>s(L.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),B.jsx(hm,{className:"absolute left-3 top-2.5 text-gray-400",size:18})]})]}),c?B.jsx("div",{className:"text-center py-12",children:B.jsx("p",{children:"Cargando inventario..."})}):A.length===0?B.jsxs("div",{className:"text-center py-12",children:[B.jsx(Up,{className:"mx-auto h-12 w-12 text-gray-400"}),B.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:r?"No se encontraron resultados":"No hay materiales registrados"}),B.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?"Intenta con otro trmino de bsqueda.":"Empieza agregando nuevos materiales al inventario."})]}):B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[B.jsx("thead",{className:"bg-gray-50",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contrato / Lote"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Registro"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),B.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(L=>B.jsxs("tr",{className:"hover:bg-gray-50",children:[B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L.materialId}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:L.materialType}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.contractId||"-"}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${P(L.status)}`,children:L.status})}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:L.quantity}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:L.registerDate}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:()=>x(L),className:"text-blue-600 hover:text-blue-900 transition",title:"Editar",children:B.jsx(KL,{size:18})}),B.jsx("button",{onClick:()=>E(L.id),className:"text-red-600 hover:text-red-900 transition",title:"Eliminar",children:B.jsx(QL,{size:18})})]})})]},L.id))})]})})]})})]})})}const eX=()=>{const[n,e]=Le.useState(""),[t,i]=Le.useState(""),[r,s]=Le.useState([]),[a,l]=Le.useState(null),[c,h]=Le.useState([]);Le.useEffect(()=>{f()},[]);const f=async()=>{const E=Ko(er,"returns"),A=Jh(E,iv("returnDate","desc"),FW(10)),L=(await $u(A)).docs.map(j=>({id:j.id,...j.data()}));h(L)},p=E=>E?new Date(E).toLocaleDateString("es-MX",{timeZone:"UTC"}):"-",_=async()=>{const E=Ko(er,"contracts");let A;t?A=Jh(E,tb("status","==",t)):A=Jh(E,iv("createdAt","desc"));let L=(await $u(A)).docs.map(j=>({id:j.id,...j.data()}));if(n.trim()){const j=n.toLowerCase();L=L.filter(Q=>Q.contractNumber.toLowerCase().includes(j)||Q.clientName.toLowerCase().includes(j)||Q.clientProject.toLowerCase().includes(j))}s(L),l(null)},m=E=>{l(E)},b=async()=>{if(a)try{await nb(er,async A=>{const P=Za(er,"contracts",a.id),L=Jh(Ko(er,"inventory"),tb("contractId","==",a.contractNumber)),j=await $u(L),Q=[];for(const ae of j.docs){const F=ae.data();if(F.sourceInventoryId){const R=Za(er,"inventory",F.sourceInventoryId),N=await A.get(R);N.exists()&&Q.push({sourceDoc:N,rentedItem:F,rentedDocRef:ae.ref})}}A.update(P,{status:"Devuelto"});for(const{sourceDoc:ae,rentedItem:F,rentedDocRef:R}of Q){const N=ae.data().quantity+F.quantity;A.update(ae.ref,{quantity:N}),A.delete(R)}});const E=Ko(er,"returns");await nS(E,{contractId:a.contractNumber,clientName:a.clientName,returnDate:yp(),materials:a.materials.map(A=>`${A.quantity} x ${A.name}`).join(", ")}),alert("Devolucin registrada exitosamente"),l(null),s([]),e(""),f()}catch(E){console.error("Error al registrar la devolucin: ",E),alert("Hubo un error al registrar la devolucin.")}},x=async()=>{if(!(!a||a.status!=="Devuelto"))try{await nb(er,async E=>{const A=Za(er,"contracts",a.id),P=[];for(const L of a.materials){const j=L.inventoryId;if(j){const Q=Za(er,"inventory",j),ae=await E.get(Q);if(!ae.exists()||ae.data().quantity<L.quantity)throw new Error(`No se puede revertir: el stock original para ${L.name} no existe o no tiene suficiente cantidad.`);P.push({sourceInventoryRef:Q,material:L})}}E.update(A,{status:"Rentado"});for(const{sourceInventoryRef:L,material:j}of P){const ae=(await E.get(L)).data().quantity-j.quantity;E.update(L,{quantity:ae});const F=Za(Ko(er,"inventory"));E.set(F,{materialType:j.name,quantity:j.quantity,status:"Rentado",contractId:a.contractNumber,sourceInventoryId,createdAt:yp()})}}),alert("Devolucin revertida exitosamente. El contrato est activo de nuevo."),l(null),_()}catch(E){console.error("Error al revertir la devolucin: ",E),alert(`Hubo un error al revertir la devolucin: ${E.message}`)}};return B.jsx("div",{className:"bg-gray-50 min-h-screen",children:B.jsxs("main",{className:"container mx-auto px-4 py-8",children:[B.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[B.jsx(vb,{className:"text-blue-600"}),"Mdulo de Devoluciones"]}),B.jsxs("div",{className:"space-y-8",children:[B.jsxs("section",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[B.jsx(hm,{className:"text-blue-600"}),"Buscar Contrato o Cliente"]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[B.jsx("div",{className:"md:col-span-2",children:B.jsxs("div",{className:"relative",children:[B.jsx("input",{type:"text",id:"searchInput",value:n,onChange:E=>e(E.target.value),placeholder:"Buscar por ID de contrato, nombre de cliente o proyecto...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),B.jsx(hm,{className:"absolute left-3 top-2.5 text-gray-400 w-5 h-5"})]})}),B.jsx("div",{className:"md:col-span-1",children:B.jsxs("button",{onClick:_,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md font-medium transition flex items-center justify-center gap-2",children:[B.jsx(hm,{size:18}),"Buscar"]})}),B.jsx("div",{children:B.jsxs("select",{id:"filterStatus",value:t,onChange:E=>i(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[B.jsx("option",{value:"",children:"Todos los estados"}),B.jsx("option",{value:"Rentado",children:"Pendiente (Rentado)"}),B.jsx("option",{value:"Devuelto",children:"Devuelto"})]})})]}),r.length>0&&B.jsx("div",{id:"contractResults",className:"mt-4 space-y-2",children:r.map(E=>B.jsx("div",{onClick:()=>m(E),className:`p-4 border rounded-md hover:bg-blue-50 cursor-pointer ${a?.id===E.id?"bg-blue-100 border-blue-400":"border-gray-200"}`,children:B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsxs("div",{children:[B.jsxs("h3",{className:"font-medium",children:["Contrato: ",E.contractNumber]}),B.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",E.clientName]}),B.jsxs("p",{className:"text-sm text-gray-600",children:["Proyecto: ",E.clientProject]})]}),B.jsxs("div",{className:"text-right",children:[B.jsxs("p",{className:"text-sm",children:["Fecha inicio: ",p(E.startDate)]}),B.jsxs("p",{className:"text-sm",children:["Fecha devolucin: ",p(E.returnDate)]}),B.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.status==="Rentado"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:E.status})]})]})},E.id))})]}),a&&B.jsxs("section",{id:"materialsSection",className:"bg-white rounded-lg shadow-md p-6",children:[B.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[B.jsx(Up,{className:"text-blue-600"}),"Materiales a Devolver del Contrato ",a.contractNumber]}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{id:"materialsTable",className:"min-w-full divide-y divide-gray-200",children:[B.jsx("thead",{className:"bg-gray-50",children:B.jsxs("tr",{children:[B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),B.jsx("tbody",{id:"materialsBody",className:"bg-white divide-y divide-gray-200",children:a.materials.map((E,A)=>B.jsxs("tr",{children:[B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.name}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.quantity}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Rentado"})})]},A))})]})}),B.jsxs("div",{className:"mt-6 flex justify-end",children:[a.status==="Rentado"&&B.jsxs("button",{id:"registerReturnBtn",onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded-md font-medium transition duration-150 ease-in-out flex items-center gap-2",children:[B.jsx(mK,{className:"w-5 h-5"}),"Registrar Devolucin"]}),a.status==="Devuelto"&&B.jsxs("button",{onClick:x,className:"bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-6 rounded-md font-medium transition duration-150 ease-in-out flex items-center gap-2",children:[B.jsx(vb,{className:"w-5 h-5"}),"Revertir Devolucin"]})]})]}),B.jsxs("section",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[B.jsx(xK,{className:"text-blue-600"}),"Historial de Devoluciones Recientes"]}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{id:"returnsHistoryTable",className:"min-w-full divide-y divide-gray-200",children:[B.jsx("thead",{className:"bg-gray-50",children:B.jsxs("tr",{children:[B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contrato"}),B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materiales Devueltos"}),B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),B.jsx("tbody",{id:"returnsHistoryBody",className:"bg-white divide-y divide-gray-200",children:c.map((E,A)=>B.jsxs("tr",{children:[B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.returnDate?.toDate().toLocaleDateString("es-MX")||"-"}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.contractId}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.clientName}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.materials}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completado"})})]},E.id))})]})})]})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function E1(n){return n+.5|0}const Zh=(n,e,t)=>Math.max(Math.min(n,t),e);function Kg(n){return Zh(E1(n*2.55),0,255)}function pf(n){return Zh(E1(n*255),0,255)}function Pu(n){return Zh(E1(n/2.55)/100,0,1)}function cN(n){return Zh(E1(n*100),0,100)}const xl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yb=[..."0123456789ABCDEF"],tX=n=>yb[n&15],nX=n=>yb[(n&240)>>4]+yb[n&15],O2=n=>(n&240)>>4===(n&15),iX=n=>O2(n.r)&&O2(n.g)&&O2(n.b)&&O2(n.a);function rX(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&xl[n[1]]*17,g:255&xl[n[2]]*17,b:255&xl[n[3]]*17,a:e===5?xl[n[4]]*17:255}:(e===7||e===9)&&(t={r:xl[n[1]]<<4|xl[n[2]],g:xl[n[3]]<<4|xl[n[4]],b:xl[n[5]]<<4|xl[n[6]],a:e===9?xl[n[7]]<<4|xl[n[8]]:255})),t}const sX=(n,e)=>n<255?e(n):"";function aX(n){var e=iX(n)?tX:nX;return n?"#"+e(n.r)+e(n.g)+e(n.b)+sX(n.a,e):void 0}const oX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZL(n,e,t){const i=e*Math.min(t,1-t),r=(s,a=(s+n/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function lX(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function cX(n,e,t){const i=ZL(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function uX(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function AS(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),a=Math.min(t,i,r),l=(s+a)/2;let c,h,f;return s!==a&&(f=s-a,h=l>.5?f/(2-s-a):f/(s+a),c=uX(t,i,r,f,s),c=c*60+.5),[c|0,h||0,l]}function CS(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(pf)}function NS(n,e,t){return CS(ZL,n,e,t)}function hX(n,e,t){return CS(cX,n,e,t)}function fX(n,e,t){return CS(lX,n,e,t)}function eO(n){return(n%360+360)%360}function dX(n){const e=oX.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Kg(+e[5]):pf(+e[5]));const r=eO(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=hX(r,s,a):e[1]==="hsv"?i=fX(r,s,a):i=NS(r,s,a),{r:i[0],g:i[1],b:i[2],a:t}}function pX(n,e){var t=AS(n);t[0]=eO(t[0]+e),t=NS(t),n.r=t[0],n.g=t[1],n.b=t[2]}function gX(n){if(!n)return;const e=AS(n),t=e[0],i=cN(e[1]),r=cN(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Pu(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const uN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mX(){const n={},e=Object.keys(hN),t=Object.keys(uN);let i,r,s,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],r=0;r<t.length;r++)s=t[r],l=l.replace(s,uN[s]);s=parseInt(hN[a],16),n[l]=[s>>16&255,s>>8&255,s&255]}return n}let P2;function _X(n){P2||(P2=mX(),P2.transparent=[0,0,0,0]);const e=P2[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const vX=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function yX(n){const e=vX.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];t=e[8]?Kg(a):Zh(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Kg(i):Zh(i,0,255)),r=255&(e[4]?Kg(r):Zh(r,0,255)),s=255&(e[6]?Kg(s):Zh(s,0,255)),{r:i,g:r,b:s,a:t}}}function xX(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Pu(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const k5=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,C0=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function wX(n,e,t){const i=C0(Pu(n.r)),r=C0(Pu(n.g)),s=C0(Pu(n.b));return{r:pf(k5(i+t*(C0(Pu(e.r))-i))),g:pf(k5(r+t*(C0(Pu(e.g))-r))),b:pf(k5(s+t*(C0(Pu(e.b))-s))),a:n.a+t*(e.a-n.a)}}function M2(n,e,t){if(n){let i=AS(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=NS(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function tO(n,e){return n&&Object.assign(e||{},n)}function fN(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=pf(n[3]))):(e=tO(n,{r:0,g:0,b:0,a:1}),e.a=pf(e.a)),e}function bX(n){return n.charAt(0)==="r"?yX(n):dX(n)}class Um{constructor(e){if(e instanceof Um)return e;const t=typeof e;let i;t==="object"?i=fN(e):t==="string"&&(i=rX(e)||_X(e)||bX(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=tO(this._rgb);return e&&(e.a=Pu(e.a)),e}set rgb(e){this._rgb=fN(e)}rgbString(){return this._valid?xX(this._rgb):void 0}hexString(){return this._valid?aX(this._rgb):void 0}hslString(){return this._valid?gX(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,l=2*a-1,c=i.a-r.a,h=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-h,i.r=255&h*i.r+s*r.r+.5,i.g=255&h*i.g+s*r.g+.5,i.b=255&h*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=wX(this._rgb,e._rgb,t)),this}clone(){return new Um(this.rgb)}alpha(e){return this._rgb.a=pf(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=E1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return M2(this._rgb,2,e),this}darken(e){return M2(this._rgb,2,-e),this}saturate(e){return M2(this._rgb,1,e),this}desaturate(e){return M2(this._rgb,1,-e),this}rotate(e){return pX(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ru(){}const EX=(()=>{let n=0;return()=>n++})();function qn(n){return n==null}function wr(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Hr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function qo(n,e){return Hr(n)?n:e}function Rn(n,e){return typeof n>"u"?e:n}const SX=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,nO=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function tr(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Oi(n,e,t,i){let r,s,a;if(wr(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(Qn(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)e.call(t,n[a[r]],a[r])}function pv(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function gv(n){if(wr(n))return n.map(gv);if(Qn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=gv(n[t[r]]);return e}return n}function iO(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function TX(n,e,t,i){if(!iO(n))return;const r=e[n],s=t[n];Qn(r)&&Qn(s)?Vm(r,s,i):e[n]=gv(s)}function Vm(n,e,t){const i=wr(e)?e:[e],r=i.length;if(!Qn(n))return n;t=t||{};const s=t.merger||TX;let a;for(let l=0;l<r;++l){if(a=i[l],!Qn(a))continue;const c=Object.keys(a);for(let h=0,f=c.length;h<f;++h)s(c[h],n,a,t)}return n}function fm(n,e){return Vm(n,e,{merger:AX})}function AX(n,e,t){if(!iO(n))return;const i=e[n],r=t[n];Qn(i)&&Qn(r)?fm(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=gv(r))}const dN={"":n=>n,x:n=>n.x,y:n=>n.y};function CX(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function NX(n){const e=CX(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Sf(n,e){return(dN[e]||(dN[e]=NX(e)))(n)}function RS(n){return n.charAt(0).toUpperCase()+n.slice(1)}const zm=n=>typeof n<"u",Tf=n=>typeof n=="function",pN=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function RX(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const yi=Math.PI,ur=2*yi,IX=ur+yi,mv=Number.POSITIVE_INFINITY,kX=yi/180,ns=yi/2,td=yi/4,gN=yi*2/3,ef=Math.log10,Xc=Math.sign;function dm(n,e,t){return Math.abs(n-e)<t}function mN(n){const e=Math.round(n);n=dm(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(ef(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function DX(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function LX(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function bp(n){return!LX(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function OX(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function rO(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function rc(n){return n*(yi/180)}function IS(n){return n*(180/yi)}function _N(n){if(!Hr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function sO(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*yi&&(s+=ur),{angle:s,distance:r}}function xb(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function PX(n,e){return(n-e+IX)%ur-yi}function Ia(n){return(n%ur+ur)%ur}function Hm(n,e,t,i){const r=Ia(n),s=Ia(e),a=Ia(t),l=Ia(s-r),c=Ia(a-r),h=Ia(r-s),f=Ia(r-a);return r===s||r===a||i&&s===a||l>c&&h<f}function $s(n,e,t){return Math.max(e,Math.min(t,n))}function MX(n){return $s(n,-32768,32767)}function Vu(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function kS(n,e,t){t=t||(a=>n[a]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const zu=(n,e,t,i)=>kS(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),FX=(n,e,t)=>kS(n,t,i=>n[i][e]>=t);function BX(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const aO=["push","pop","shift","splice","unshift"];function jX(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),aO.forEach(t=>{const i="_onData"+RS(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),a}})})}function vN(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(aO.forEach(s=>{delete n[s]}),delete n._chartjs)}function oO(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const lO=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function cO(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,lO.call(window,()=>{i=!1,n.apply(e,t)}))}}function UX(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const DS=n=>n==="start"?"left":n==="end"?"right":"center",Na=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,VX=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function uO(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:a,vScale:l,_parsed:c}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=a.axis,{min:p,max:_,minDefined:m,maxDefined:b}=a.getUserBounds();if(m){if(r=Math.min(zu(c,f,p).lo,t?i:zu(e,f,a.getPixelForValue(p)).lo),h){const x=c.slice(0,r+1).reverse().findIndex(E=>!qn(E[l.axis]));r-=Math.max(0,x)}r=$s(r,0,i-1)}if(b){let x=Math.max(zu(c,a.axis,_,!0).hi+1,t?0:zu(e,f,a.getPixelForValue(_),!0).hi+1);if(h){const E=c.slice(x-1).findIndex(A=>!qn(A[l.axis]));x+=Math.max(0,E)}s=$s(x,r,i)-r}else s=i-r}return{start:r,count:s}}function hO(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const F2=n=>n===0||n===1,yN=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ur/t)),xN=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ur/t)+1,pm={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ns)+1,easeOutSine:n=>Math.sin(n*ns),easeInOutSine:n=>-.5*(Math.cos(yi*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>F2(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>F2(n)?n:yN(n,.075,.3),easeOutElastic:n=>F2(n)?n:xN(n,.075,.3),easeInOutElastic(n){return F2(n)?n:n<.5?.5*yN(n*2,.1125,.45):.5+.5*xN(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-pm.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?pm.easeInBounce(n*2)*.5:pm.easeOutBounce(n*2-1)*.5+.5};function LS(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wN(n){return LS(n)?n:new Um(n)}function D5(n){return LS(n)?n:new Um(n).saturate(.5).darken(.1).hexString()}const zX=["x","y","borderWidth","radius","tension"],HX=["color","borderColor","backgroundColor"];function qX(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:HX},numbers:{type:"number",properties:zX}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function WX(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bN=new Map;function GX(n,e){e=e||{};const t=n+JSON.stringify(e);let i=bN.get(t);return i||(i=new Intl.NumberFormat(n,e),bN.set(t,i)),i}function S1(n,e,t){return GX(e,t).format(n)}const fO={values(n){return wr(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),s=$X(n,t)}const a=ef(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),S1(n,i,c)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(ef(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?fO.numeric.call(this,n,e,t):""}};function $X(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Cy={formatters:fO};function YX(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ad=Object.create(null),wb=Object.create(null);function gm(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function L5(n,e,t){return typeof e=="string"?Vm(gm(n,e),t):Vm(gm(n,""),e)}class KX{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>D5(r.backgroundColor),this.hoverBorderColor=(i,r)=>D5(r.borderColor),this.hoverColor=(i,r)=>D5(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return L5(this,e,t)}get(e){return gm(this,e)}describe(e,t){return L5(wb,e,t)}override(e,t){return L5(Ad,e,t)}route(e,t,i,r){const s=gm(this,e),a=gm(this,i),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],h=a[r];return Qn(c)?Object.assign({},h,c):Rn(c,h)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var br=new KX({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qX,WX,YX]);function XX(n){return!n||qn(n.size)||qn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function _v(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function QX(n,e,t,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let a=0;const l=t.length;let c,h,f,p,_;for(c=0;c<l;c++)if(p=t[c],p!=null&&!wr(p))a=_v(n,r,s,a,p);else if(wr(p))for(h=0,f=p.length;h<f;h++)_=p[h],_!=null&&!wr(_)&&(a=_v(n,r,s,a,_));n.restore();const m=s.length/2;if(m>t.length){for(c=0;c<m;c++)delete r[s[c]];s.splice(0,m)}return a}function nd(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function EN(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function bb(n,e,t,i){dO(n,e,t,i,null)}function dO(n,e,t,i,r){let s,a,l,c,h,f,p,_;const m=e.pointStyle,b=e.rotation,x=e.radius;let E=(b||0)*kX;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(E),n.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),m){default:r?n.ellipse(t,i,r/2,x,0,0,ur):n.arc(t,i,x,0,ur),n.closePath();break;case"triangle":f=r?r/2:x,n.moveTo(t+Math.sin(E)*f,i-Math.cos(E)*x),E+=gN,n.lineTo(t+Math.sin(E)*f,i-Math.cos(E)*x),E+=gN,n.lineTo(t+Math.sin(E)*f,i-Math.cos(E)*x),n.closePath();break;case"rectRounded":h=x*.516,c=x-h,a=Math.cos(E+td)*c,p=Math.cos(E+td)*(r?r/2-h:c),l=Math.sin(E+td)*c,_=Math.sin(E+td)*(r?r/2-h:c),n.arc(t-p,i-l,h,E-yi,E-ns),n.arc(t+_,i-a,h,E-ns,E),n.arc(t+p,i+l,h,E,E+ns),n.arc(t-_,i+a,h,E+ns,E+yi),n.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*x,f=r?r/2:c,n.rect(t-f,i-c,2*f,2*c);break}E+=td;case"rectRot":p=Math.cos(E)*(r?r/2:x),a=Math.cos(E)*x,l=Math.sin(E)*x,_=Math.sin(E)*(r?r/2:x),n.moveTo(t-p,i-l),n.lineTo(t+_,i-a),n.lineTo(t+p,i+l),n.lineTo(t-_,i+a),n.closePath();break;case"crossRot":E+=td;case"cross":p=Math.cos(E)*(r?r/2:x),a=Math.cos(E)*x,l=Math.sin(E)*x,_=Math.sin(E)*(r?r/2:x),n.moveTo(t-p,i-l),n.lineTo(t+p,i+l),n.moveTo(t+_,i-a),n.lineTo(t-_,i+a);break;case"star":p=Math.cos(E)*(r?r/2:x),a=Math.cos(E)*x,l=Math.sin(E)*x,_=Math.sin(E)*(r?r/2:x),n.moveTo(t-p,i-l),n.lineTo(t+p,i+l),n.moveTo(t+_,i-a),n.lineTo(t-_,i+a),E+=td,p=Math.cos(E)*(r?r/2:x),a=Math.cos(E)*x,l=Math.sin(E)*x,_=Math.sin(E)*(r?r/2:x),n.moveTo(t-p,i-l),n.lineTo(t+p,i+l),n.moveTo(t+_,i-a),n.lineTo(t-_,i+a);break;case"line":a=r?r/2:Math.cos(E)*x,l=Math.sin(E)*x,n.moveTo(t-a,i-l),n.lineTo(t+a,i+l);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(E)*(r?r/2:x),i+Math.sin(E)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Hu(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ny(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Ry(n){n.restore()}function JX(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function ZX(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function eQ(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),qn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function tQ(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,h=t+s.actualBoundingBoxDescent,f=r.strikethrough?(c+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,f),n.lineTo(l,f),n.stroke()}}function nQ(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Cd(n,e,t,i,r,s={}){const a=wr(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,h;for(n.save(),n.font=r.string,eQ(n,s),c=0;c<a.length;++c)h=a[c],s.backdrop&&nQ(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),qn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(h,t,i,s.maxWidth)),n.fillText(h,t,i,s.maxWidth),tQ(n,t,i,h,s),i+=Number(r.lineHeight);n.restore()}function qm(n,e){const{x:t,y:i,w:r,h:s,radius:a}=e;n.arc(t+a.topLeft,i+a.topLeft,a.topLeft,1.5*yi,yi,!0),n.lineTo(t,i+s-a.bottomLeft),n.arc(t+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,yi,ns,!0),n.lineTo(t+r-a.bottomRight,i+s),n.arc(t+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,ns,0,!0),n.lineTo(t+r,i+a.topRight),n.arc(t+r-a.topRight,i+a.topRight,a.topRight,0,-ns,!0),n.lineTo(t+a.topLeft,i)}const iQ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rQ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sQ(n,e){const t=(""+n).match(iQ);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const aQ=n=>+n||0;function OS(n,e){const t={},i=Qn(e),r=i?Object.keys(e):e,s=Qn(n)?i?a=>Rn(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of r)t[a]=aQ(s(a));return t}function pO(n){return OS(n,{top:"y",right:"x",bottom:"y",left:"x"})}function gd(n){return OS(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ja(n){const e=pO(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rs(n,e){n=n||{},e=e||br.font;let t=Rn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Rn(n.style,e.style);i&&!(""+i).match(rQ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Rn(n.family,e.family),lineHeight:sQ(Rn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Rn(n.weight,e.weight),string:""};return r.string=XX(r),r}function Xg(n,e,t,i){let r,s,a;for(r=0,s=n.length;r<s;++r)if(a=n[r],a!==void 0&&a!==void 0)return a}function oQ(n,e,t){const{min:i,max:r}=n,s=nO(e,(r-i)/2),a=(l,c)=>t&&l===0?0:l+c;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function Pf(n,e){return Object.assign(Object.create(n),e)}function PS(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=vO("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>PS([l,...n],e,s,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return mO(l,c,()=>gQ(c,e,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return TN(l).includes(c)},ownKeys(l){return TN(l)},set(l,c,h){const f=l._storage||(l._storage=r());return l[c]=f[c]=h,delete l._keys,!0}})}function Ep(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:gO(n,i),setContext:s=>Ep(n,s,t,i),override:s=>Ep(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,l){return mO(s,a,()=>cQ(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,l){return n[a]=l,delete s[a],!0}})}function gO(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Tf(t)?t:()=>t,isIndexable:Tf(i)?i:()=>i}}const lQ=(n,e)=>n?n+RS(e):e,MS=(n,e)=>Qn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function mO(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function cQ(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let l=i[e];return Tf(l)&&a.isScriptable(e)&&(l=uQ(e,l,n,t)),wr(l)&&l.length&&(l=hQ(e,l,n,a.isIndexable)),MS(e,l)&&(l=Ep(l,r,s&&s[e],a)),l}function uQ(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(s,a||i);return l.delete(n),MS(n,c)&&(c=FS(r._scopes,r,n,c)),c}function hQ(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Qn(e[0])){const c=e,h=r._scopes.filter(f=>f!==c);e=[];for(const f of c){const p=FS(h,r,n,f);e.push(Ep(p,s,a&&a[n],l))}}return e}function _O(n,e,t){return Tf(n)?n(e,t):n}const fQ=(n,e)=>n===!0?e:typeof n=="string"?Sf(e,n):void 0;function dQ(n,e,t,i,r){for(const s of e){const a=fQ(t,s);if(a){n.add(a);const l=_O(a._fallback,t,r);if(typeof l<"u"&&l!==t&&l!==i)return l}else if(a===!1&&typeof i<"u"&&t!==i)return null}return!1}function FS(n,e,t,i){const r=e._rootScopes,s=_O(e._fallback,t,i),a=[...n,...r],l=new Set;l.add(i);let c=SN(l,a,t,s||t,i);return c===null||typeof s<"u"&&s!==t&&(c=SN(l,a,s,c,i),c===null)?!1:PS(Array.from(l),[""],r,s,()=>pQ(e,t,i))}function SN(n,e,t,i,r){for(;t;)t=dQ(n,e,t,i,r);return t}function pQ(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return wr(r)&&Qn(t)?t:r||{}}function gQ(n,e,t,i){let r;for(const s of e)if(r=vO(lQ(s,n),t),typeof r<"u")return MS(n,r)?FS(t,i,n,r):r}function vO(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function TN(n){let e=n._keys;return e||(e=n._keys=mQ(n._scopes)),e}function mQ(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function yO(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let l,c,h,f;for(l=0,c=i;l<c;++l)h=l+t,f=e[h],a[l]={r:r.parse(Sf(f,s),h)};return a}const _Q=Number.EPSILON||1e-14,Sp=(n,e)=>e<n.length&&!n[e].skip&&n[e],xO=n=>n==="x"?"y":"x";function vQ(n,e,t,i){const r=n.skip?e:n,s=e,a=t.skip?e:t,l=xb(s,r),c=xb(a,s);let h=l/(l+c),f=c/(l+c);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const p=i*h,_=i*f;return{previous:{x:s.x-p*(a.x-r.x),y:s.y-p*(a.y-r.y)},next:{x:s.x+_*(a.x-r.x),y:s.y+_*(a.y-r.y)}}}function yQ(n,e,t){const i=n.length;let r,s,a,l,c,h=Sp(n,0);for(let f=0;f<i-1;++f)if(c=h,h=Sp(n,f+1),!(!c||!h)){if(dm(e[f],0,_Q)){t[f]=t[f+1]=0;continue}r=t[f]/e[f],s=t[f+1]/e[f],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),t[f]=r*a*e[f],t[f+1]=s*a*e[f])}}function xQ(n,e,t="x"){const i=xO(t),r=n.length;let s,a,l,c=Sp(n,0);for(let h=0;h<r;++h){if(a=l,l=c,c=Sp(n,h+1),!l)continue;const f=l[t],p=l[i];a&&(s=(f-a[t])/3,l[`cp1${t}`]=f-s,l[`cp1${i}`]=p-s*e[h]),c&&(s=(c[t]-f)/3,l[`cp2${t}`]=f+s,l[`cp2${i}`]=p+s*e[h])}}function wQ(n,e="x"){const t=xO(e),i=n.length,r=Array(i).fill(0),s=Array(i);let a,l,c,h=Sp(n,0);for(a=0;a<i;++a)if(l=c,c=h,h=Sp(n,a+1),!!c){if(h){const f=h[e]-c[e];r[a]=f!==0?(h[t]-c[t])/f:0}s[a]=l?h?Xc(r[a-1])!==Xc(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}yQ(n,r,s),xQ(n,s,e)}function B2(n,e,t){return Math.max(Math.min(n,t),e)}function bQ(n,e){let t,i,r,s,a,l=Hu(n[0],e);for(t=0,i=n.length;t<i;++t)a=s,s=l,l=t<i-1&&Hu(n[t+1],e),s&&(r=n[t],a&&(r.cp1x=B2(r.cp1x,e.left,e.right),r.cp1y=B2(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=B2(r.cp2x,e.left,e.right),r.cp2y=B2(r.cp2y,e.top,e.bottom)))}function EQ(n,e,t,i,r){let s,a,l,c;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")wQ(n,r);else{let h=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)l=n[s],c=vQ(h,l,n[Math.min(s+1,a-(i?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,h=l}e.capBezierPoints&&bQ(n,t)}function BS(){return typeof window<"u"&&typeof document<"u"}function jS(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vv(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Iy=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function SQ(n,e){return Iy(n).getPropertyValue(e)}const TQ=["top","right","bottom","left"];function md(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=TQ[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const AQ=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function CQ(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let a=!1,l,c;if(AQ(r,s,n.target))l=r,c=s;else{const h=e.getBoundingClientRect();l=i.clientX-h.left,c=i.clientY-h.top,a=!0}return{x:l,y:c,box:a}}function od(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Iy(t),s=r.boxSizing==="border-box",a=md(r,"padding"),l=md(r,"border","width"),{x:c,y:h,box:f}=CQ(n,t),p=a.left+(f&&l.left),_=a.top+(f&&l.top);let{width:m,height:b}=e;return s&&(m-=a.width+l.width,b-=a.height+l.height),{x:Math.round((c-p)/m*t.width/i),y:Math.round((h-_)/b*t.height/i)}}function NQ(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&jS(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),l=Iy(s),c=md(l,"border","width"),h=md(l,"padding");e=a.width-h.width-c.width,t=a.height-h.height-c.height,i=vv(l.maxWidth,s,"clientWidth"),r=vv(l.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||mv,maxHeight:r||mv}}const tf=n=>Math.round(n*10)/10;function RQ(n,e,t,i){const r=Iy(n),s=md(r,"margin"),a=vv(r.maxWidth,n,"clientWidth")||mv,l=vv(r.maxHeight,n,"clientHeight")||mv,c=NQ(n,e,t);let{width:h,height:f}=c;if(r.boxSizing==="content-box"){const _=md(r,"border","width"),m=md(r,"padding");h-=m.width+_.width,f-=m.height+_.height}return h=Math.max(0,h-s.width),f=Math.max(0,i?h/i:f-s.height),h=tf(Math.min(h,a,c.maxWidth)),f=tf(Math.min(f,l,c.maxHeight)),h&&!f&&(f=tf(h/2)),(e!==void 0||t!==void 0)&&i&&c.height&&f>c.height&&(f=c.height,h=tf(Math.floor(f*i))),{width:h,height:f}}function AN(n,e,t){const i=e||1,r=tf(n.height*i),s=tf(n.width*i);n.height=tf(n.height),n.width=tf(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const IQ=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};BS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function CN(n,e){const t=SQ(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ld(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function kQ(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function DQ(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=ld(n,r,t),l=ld(r,s,t),c=ld(s,e,t),h=ld(a,l,t),f=ld(l,c,t);return ld(h,f,t)}const LQ=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},OQ=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function tp(n,e,t){return n?LQ(e,t):OQ()}function wO(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function bO(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function EO(n){return n==="angle"?{between:Hm,compare:PX,normalize:Ia}:{between:Vu,compare:(e,t)=>e-t,normalize:e=>e}}function NN({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function PQ(n,e,t){const{property:i,start:r,end:s}=t,{between:a,normalize:l}=EO(i),c=e.length;let{start:h,end:f,loop:p}=n,_,m;if(p){for(h+=c,f+=c,_=0,m=c;_<m&&a(l(e[h%c][i]),r,s);++_)h--,f--;h%=c,f%=c}return f<h&&(f+=c),{start:h,end:f,loop:p,style:n.style}}function SO(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,a=e.length,{compare:l,between:c,normalize:h}=EO(i),{start:f,end:p,loop:_,style:m}=PQ(n,e,t),b=[];let x=!1,E=null,A,P,L;const j=()=>c(r,L,A)&&l(r,L)!==0,Q=()=>l(s,A)===0||c(s,L,A),ae=()=>x||j(),F=()=>!x||Q();for(let R=f,N=f;R<=p;++R)P=e[R%a],!P.skip&&(A=h(P[i]),A!==L&&(x=c(A,r,s),E===null&&ae()&&(E=l(A,r)===0?R:N),E!==null&&F()&&(b.push(NN({start:E,end:R,loop:_,count:a,style:m})),E=null),N=R,L=A));return E!==null&&b.push(NN({start:E,end:p,loop:_,count:a,style:m})),b}function TO(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=SO(i[r],n.points,e);s.length&&t.push(...s)}return t}function MQ(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function FQ(n,e,t,i){const r=n.length,s=[];let a=e,l=n[e],c;for(c=e+1;c<=t;++c){const h=n[c%r];h.skip||h.stop?l.skip||(i=!1,s.push({start:e%r,end:(c-1)%r,loop:i}),e=a=h.stop?c:null):(a=c,l.skip&&(e=c)),l=h}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function BQ(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:a,end:l}=MQ(t,r,s,i);if(i===!0)return RN(n,[{start:a,end:l,loop:s}],t,e);const c=l<a?l+r:l,h=!!n._fullLoop&&a===0&&l===r-1;return RN(n,FQ(t,a,c,h),t,e)}function RN(n,e,t,i){return!i||!i.setContext||!t?e:jQ(n,e,t,i)}function jQ(n,e,t,i){const r=n._chart.getContext(),s=IN(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,c=t.length,h=[];let f=s,p=e[0].start,_=p;function m(b,x,E,A){const P=l?-1:1;if(b!==x){for(b+=c;t[b%c].skip;)b-=P;for(;t[x%c].skip;)x+=P;b%c!==x%c&&(h.push({start:b%c,end:x%c,loop:E,style:A}),f=A,p=x%c)}}for(const b of e){p=l?p:b.start;let x=t[p%c],E;for(_=p+1;_<=b.end;_++){const A=t[_%c];E=IN(i.setContext(Pf(r,{type:"segment",p0:x,p1:A,p0DataIndex:(_-1)%c,p1DataIndex:_%c,datasetIndex:a}))),UQ(E,f)&&m(p,_-1,b.loop,f),x=A,f=E}p<_-1&&m(p,_-1,b.loop,f)}return h}function IN(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function UQ(n,e){if(!e)return!1;const t=[],i=function(r,s){return LS(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function j2(n,e,t){return n.options.clip?n[t]:e[t]}function VQ(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:j2(t,e,"left"),right:j2(t,e,"right"),top:j2(i,e,"top"),bottom:j2(i,e,"bottom")}:e}function AO(n,e){const t=e._clip;if(t.disabled)return!1;const i=VQ(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class zQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],a=t.duration;s.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=lO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,l=!1,c;for(;a>=0;--a)c=s[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Lu=new zQ;const kN="transparent",HQ={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=wN(n||kN),r=i.valid&&wN(e||kN);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class qQ{constructor(e,t,i,r){const s=t[i];r=Xg([e.to,r,s,e.from]);const a=Xg([e.from,s,r]);this._active=!0,this._fn=e.fn||HQ[e.type||typeof a],this._easing=pm[e.easing]||pm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Xg([e.to,t,r,e.from]),this._from=Xg([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let c;if(this._active=s!==l&&(a||t<i),!this._active){this._target[r]=l,this._notify(!0);return}if(t<0){this._target[r]=s;return}c=t/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class CO{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Qn(e))return;const t=Object.keys(br.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Qn(s))return;const a={};for(const l of t)a[l]=s[l];(wr(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,t){const i=t.options,r=GQ(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&WQ(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const h=a[c];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,t));continue}const f=t[h];let p=s[h];const _=i.get(h);if(p)if(_&&p.active()){p.update(_,f,l);continue}else p.cancel();if(!_||!_.duration){e[h]=f;continue}s[h]=p=new qQ(_,e,h,f),r.push(p)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Lu.add(this._chart,i),!0}}function WQ(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function GQ(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function DN(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function $Q(n,e,t){if(t===!1)return!1;const i=DN(n,t),r=DN(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function YQ(n){let e,t,i,r;return Qn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function NO(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function LN(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let a,l,c,h;if(e===null)return;let f=!1;for(a=0,l=r.length;a<l;++a){if(c=+r[a],c===t){if(f=!0,i.all)continue;break}h=n.values[c],Hr(h)&&(s||e===0||Xc(e)===Xc(h))&&(e+=h)}return!f&&!i.all?0:e}function KQ(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let c,h,f;for(c=0,h=a.length;c<h;++c)f=a[c],l[c]={[r]:f,[s]:n[f]};return l}function O5(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function XQ(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function QQ(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function JQ(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function ON(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function PN(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:l}=i,c=s.axis,h=a.axis,f=XQ(s,a,i),p=e.length;let _;for(let m=0;m<p;++m){const b=e[m],{[c]:x,[h]:E}=b,A=b._stacks||(b._stacks={});_=A[h]=JQ(r,f,x),_[l]=E,_._top=ON(_,a,!0,i.type),_._bottom=ON(_,a,!1,i.type);const P=_._visualValues||(_._visualValues={});P[l]=E}}function P5(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function ZQ(n,e){return Pf(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function eJ(n,e,t){return Pf(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Pg(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const M5=n=>n==="reset"||n==="none",MN=(n,e)=>e?n:Object.assign({},n),tJ=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:NO(t,!0),values:null};class Mf{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=O5(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(p,_,m,b)=>p==="x"?_:p==="r"?b:m,s=t.xAxisID=Rn(i.xAxisID,P5(e,"x")),a=t.yAxisID=Rn(i.yAxisID,P5(e,"y")),l=t.rAxisID=Rn(i.rAxisID,P5(e,"r")),c=t.indexAxis,h=t.iAxisID=r(c,s,a,l),f=t.vAxisID=r(c,a,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vN(this._data,this),e._stacked&&Pg(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Qn(t)){const r=this._cachedMeta;this._data=KQ(t,r)}else if(i!==t){if(i){vN(i,this);const r=this._cachedMeta;Pg(r),r._parsed=[]}t&&Object.isExtensible(t)&&jX(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=O5(t.vScale,t),t.stack!==i.stack&&(r=!0,Pg(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(PN(this,t._parsed),t._stacked=O5(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let c=e===0&&t===r.length?!0:i._sorted,h=e>0&&i._parsed[e-1],f,p,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{wr(r[e])?_=this.parseArrayData(i,r,e,t):Qn(r[e])?_=this.parseObjectData(i,r,e,t):_=this.parsePrimitiveData(i,r,e,t);const m=()=>p[l]===null||h&&p[l]<h[l];for(f=0;f<t;++f)i._parsed[f+e]=p=_[f],c&&(m()&&(c=!1),h=p);i._sorted=c}a&&PN(this,_)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,h=s.getLabels(),f=s===a,p=new Array(r);let _,m,b;for(_=0,m=r;_<m;++_)b=_+i,p[_]={[l]:f||s.parse(h[b],b),[c]:a.parse(t[b],b)};return p}parseArrayData(e,t,i,r){const{xScale:s,yScale:a}=e,l=new Array(r);let c,h,f,p;for(c=0,h=r;c<h;++c)f=c+i,p=t[f],l[c]={x:s.parse(p[0],f),y:a.parse(p[1],f)};return l}parseObjectData(e,t,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=new Array(r);let f,p,_,m;for(f=0,p=r;f<p;++f)_=f+i,m=t[_],h[f]={x:s.parse(Sf(m,l),_),y:a.parse(Sf(m,c),_)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,a=t[e.axis],l={keys:NO(r,!0),values:t._stacks[e.axis]._visualValues};return LN(l,a,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let a=s===null?NaN:s;const l=r&&i._stacks[t.axis];r&&l&&(r.values=l,a=LN(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,l=this._getOtherScale(e),c=tJ(t,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=QQ(l);let _,m;function b(){m=r[_];const x=m[l.axis];return!Hr(m[e.axis])||f>x||p<x}for(_=0;_<a&&!(!b()&&(this.updateRangeFromParsed(h,e,m,c),s));++_);if(s){for(_=a-1;_>=0;--_)if(!b()){this.updateRangeFromParsed(h,e,m,c);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],Hr(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=YQ(Rn(this.options.clip,$Q(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,h=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,s,l,c),f=l;f<l+c;++f){const p=r[f];p.hidden||(p.active&&h?a.push(p):p.draw(e,s))}for(f=0;f<a.length;++f)a[f].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=eJ(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=ZQ(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,a=e+"-"+t,l=s[a],c=this.enableOptionSharing&&zm(i);if(l)return MN(l,c);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],_=h.getOptionScopes(this.getDataset(),f),m=Object.keys(br.elements[e]),b=()=>this.getContext(i,r,t),x=h.resolveNamedOptions(_,m,b,p);return x.$shared&&(x.$shared=c,s[a]=Object.freeze(MN(x,c))),x}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,l=s[a];if(l)return l;let c;if(r.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,t),_=f.getOptionScopes(this.getDataset(),p);c=f.createResolver(_,this.getContext(e,i,t))}const h=new CO(r,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||M5(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:a}}updateElement(e,t,i,r){M5(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!M5(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[l,c,h]of this._syncList)this[l](c,h);this._syncList=[];const r=i.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,a=e+t;let l;const c=h=>{for(h.length+=t,l=h.length-1;l>=a;l--)h[l]=h[l-t]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Pg(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function nJ(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=oO(i.sort((r,s)=>r-s))}return n._cache.$bar}function iJ(n){const e=n.iScale,t=nJ(e,n.type);let i=e._length,r,s,a,l;const c=()=>{a===32767||a===-32768||(zm(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(r=0,s=t.length;r<s;++r)a=e.getPixelForValue(t[r]),c();for(l=void 0,r=0,s=e.ticks.length;r<s;++r)a=e.getPixelForTick(r),c();return i}function rJ(n,e,t,i){const r=t.barThickness;let s,a;return qn(r)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:e.pixels[n]-s/2}}function sJ(n,e,t,i){const r=e.pixels,s=r[n];let a=n>0?r[n-1]:null,l=n<r.length-1?r[n+1]:null;const c=t.categoryPercentage;a===null&&(a=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-a);const h=s-(s-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/i,ratio:t.barPercentage,start:h}}function aJ(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),a=Math.min(r,s),l=Math.max(r,s);let c=a,h=l;Math.abs(a)>Math.abs(l)&&(c=l,h=a),e[t.axis]=h,e._custom={barStart:c,barEnd:h,start:r,end:s,min:a,max:l}}function RO(n,e,t,i){return wr(n)?aJ(n,e,t,i):e[t.axis]=t.parse(n,i),e}function FN(n,e,t,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),l=r===s,c=[];let h,f,p,_;for(h=t,f=t+i;h<f;++h)_=e[h],p={},p[r.axis]=l||r.parse(a[h],h),c.push(RO(_,p,s,h));return c}function F5(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function oJ(n,e,t){return n!==0?Xc(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function lJ(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function cJ(n,e,t,i){let r=e.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:h,bottom:f}=lJ(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=h:(t._bottom||0)===i?r=f:(s[BN(f,a,l,c)]=!0,r=h)),s[BN(r,a,l,c)]=!0,n.borderSkipped=s}function BN(n,e,t,i){return i?(n=uJ(n,e,t),n=jN(n,t,e)):n=jN(n,e,t),n}function uJ(n,e,t){return n===e?t:n===t?e:n}function jN(n,e,t){return n==="start"?e:n==="end"?t:n}function hJ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class fJ extends Mf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,r){return FN(e,t,i,r)}parseArrayData(e,t,i,r){return FN(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=s.axis==="x"?l:c,f=a.axis==="x"?l:c,p=[];let _,m,b,x;for(_=i,m=i+r;_<m;++_)x=t[_],b={},b[s.axis]=s.parse(Sf(x,h),_),p.push(RO(Sf(x,f),b,a,_));return p}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),a=s._custom,l=F5(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),h=l.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:_}=this._getSharedOptions(t,r);for(let m=t;m<t+i;m++){const b=this.getParsed(m),x=s||qn(b[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),E=this._calculateBarIndexPixels(m,f),A=(b._stacks||{})[l.axis],P={horizontal:h,base:x.base,enableBorderRadius:!A||F5(b._custom)||a===A._top||a===A._bottom,x:h?x.head:E.center,y:h?E.center:x.head,height:h?E.size:Math.abs(x.size),width:h?Math.abs(x.size):E.size};_&&(P.options=p||this.resolveDataElementOptions(m,e[m].active?"active":r));const L=P.options||e[m].options;cJ(P,L,A,a),hJ(P,L,f.ratio),this.updateElement(e[m],m,P,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[i.axis],h=f=>{const p=f._parsed.find(m=>m[i.axis]===c),_=p&&p[f.vScale.axis];if(qn(_)||isNaN(_))return!0};for(const f of r)if(!(t!==void 0&&h(f))&&((s===!1||a.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Rn(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,a;for(s=0,a=t.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=e.barThickness;return{min:l||iJ(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),h=c._custom,f=F5(h);let p=c[t.axis],_=0,m=i?this.applyStack(t,c,i):p,b,x;m!==p&&(_=m-p,m=p),f&&(p=h.barStart,m=h.barEnd-h.barStart,p!==0&&Xc(p)!==Xc(h.barEnd)&&(_=0),_+=p);const E=!qn(s)&&!f?s:_;let A=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(_+m):b=A,x=b-A,Math.abs(x)<a){x=oJ(x,t,l)*a,p===l&&(A-=x/2);const P=t.getPixelForDecimal(0),L=t.getPixelForDecimal(1),j=Math.min(P,L),Q=Math.max(P,L);A=Math.max(Math.min(A,Q),j),b=A+x,i&&!f&&(c._stacks[t.axis]._visualValues[r]=t.getValueForPixel(b)-t.getValueForPixel(A))}if(A===t.getPixelForValue(l)){const P=Xc(x)*t.getLineWidthForValue(l)/2;A+=P,x-=P}return{size:x,base:A,head:b,center:b+x/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,a=Rn(r.maxBarThickness,1/0);let l,c;const h=this._getAxisCount();if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,p=r.barThickness==="flex"?sJ(e,t,r,f*h):rJ(e,t,r,f*h),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Rn(_,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+m;l=p.start+p.chunk*b+p.chunk/2,c=Math.min(a,p.chunk*p.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}class dJ extends Mf{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,r){const s=super.parsePrimitiveData(e,t,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(e,t,i,r){const s=super.parseArrayData(e,t,i,r);for(let a=0;a<s.length;a++){const l=t[i+a];s[a]._custom=Rn(l[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(e,t,i,r){const s=super.parseObjectData(e,t,i,r);for(let a=0;a<s.length;a++){const l=t[i+a];s[a]._custom=Rn(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y),h=a._custom;return{label:i[e]||"",value:"("+l+", "+c+(h?", "+h:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(t,r),f=a.axis,p=l.axis;for(let _=t;_<t+i;_++){const m=e[_],b=!s&&this.getParsed(_),x={},E=x[f]=s?a.getPixelForDecimal(.5):a.getPixelForValue(b[f]),A=x[p]=s?l.getBasePixel():l.getPixelForValue(b[p]);x.skip=isNaN(E)||isNaN(A),h&&(x.options=c||this.resolveDataElementOptions(_,m.active?"active":r),s&&(x.options.radius=0)),this.updateElement(m,_,x,r)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=Rn(i&&i._custom,s),r}}function pJ(n,e,t){let i=1,r=1,s=0,a=0;if(e<ur){const l=n,c=l+e,h=Math.cos(l),f=Math.sin(l),p=Math.cos(c),_=Math.sin(c),m=(L,j,Q)=>Hm(L,l,c,!0)?1:Math.max(j,j*t,Q,Q*t),b=(L,j,Q)=>Hm(L,l,c,!0)?-1:Math.min(j,j*t,Q,Q*t),x=m(0,h,p),E=m(ns,f,_),A=b(yi,h,p),P=b(yi+ns,f,_);i=(x-A)/2,r=(E-P)/2,s=-(x+A)/2,a=-(E+P)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class US extends Mf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((c,h)=>{const p=e.getDatasetMeta(0).controller.getStyle(h);return{text:c,fillStyle:p.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(h),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:r,pointStyle:i,borderRadius:a&&(l||p.borderRadius),index:h}}):[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=c=>+i[c];if(Qn(i[e])){const{key:c="value"}=this._parsing;s=h=>+Sf(i[h],c)}let a,l;for(a=e,l=e+t;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return rc(this.options.rotation-90)}_getCircumference(){return rc(this.options.circumference)}_getRotationExtents(){let e=ur,t=-ur;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(SX(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:_,ratioY:m,offsetX:b,offsetY:x}=pJ(p,f,c),E=(i.width-a)/_,A=(i.height-a)/m,P=Math.max(Math.min(E,A)/2,0),L=nO(this.options.radius,P),j=Math.max(L*c,0),Q=(L-j)/this._getVisibleDatasetWeightTotal();this.offsetX=b*L,this.offsetY=x*L,r.total=this.calculateTotal(),this.outerRadius=L-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/ur)}updateElements(e,t,i,r){const s=r==="reset",a=this.chart,l=a.chartArea,h=a.options.animation,f=(l.left+l.right)/2,p=(l.top+l.bottom)/2,_=s&&h.animateScale,m=_?0:this.innerRadius,b=_?0:this.outerRadius,{sharedOptions:x,includeOptions:E}=this._getSharedOptions(t,r);let A=this._getRotation(),P;for(P=0;P<t;++P)A+=this._circumference(P,s);for(P=t;P<t+i;++P){const L=this._circumference(P,s),j=e[P],Q={x:f+this.offsetX,y:p+this.offsetY,startAngle:A,endAngle:A+L,circumference:L,outerRadius:b,innerRadius:m};E&&(Q.options=x||this.resolveDataElementOptions(P,j.active?"active":r)),A+=L,this.updateElement(j,P,Q,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ur*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=S1(t._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,a,l,c;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Rn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class gJ extends Mf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:l,count:c}=uO(t,r,a);this._drawStart=l,this._drawCount=c,hO(t)&&(l=0,c=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:h},e),this.updateElements(r,l,c,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r),_=a.axis,m=l.axis,{spanGaps:b,segment:x}=this.options,E=bp(b)?b:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||s||r==="none",P=t+i,L=e.length;let j=t>0&&this.getParsed(t-1);for(let Q=0;Q<L;++Q){const ae=e[Q],F=A?ae:{};if(Q<t||Q>=P){F.skip=!0;continue}const R=this.getParsed(Q),N=qn(R[m]),U=F[_]=a.getPixelForValue(R[_],Q),I=F[m]=s||N?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,R,c):R[m],Q);F.skip=isNaN(U)||isNaN(I)||N,F.stop=Q>0&&Math.abs(R[_]-j[_])>E,x&&(F.parsed=R,F.raw=h.data[Q]),p&&(F.options=f||this.resolveDataElementOptions(Q,ae.active?"active":r)),A||this.updateElement(ae,Q,F,r),j=R}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class IO extends Mf{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=S1(t._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,i,r){return yO.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,i,r){const s=r==="reset",a=this.chart,c=a.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,p=h.yCenter,_=h.getIndexAngle(0)-.5*yi;let m=_,b;const x=360/this.countVisibleElements();for(b=0;b<t;++b)m+=this._computeAngle(b,r,x);for(b=t;b<t+i;b++){const E=e[b];let A=m,P=m+this._computeAngle(b,r,x),L=a.getDataVisibility(b)?h.getDistanceFromCenterForValue(this.getParsed(b).r):0;m=P,s&&(c.animateScale&&(L=0),c.animateRotate&&(A=P=_));const j={x:f,y:p,innerRadius:0,outerRadius:L,startAngle:A,endAngle:P,options:this.resolveDataElementOptions(b,E.active?"active":r)};this.updateElement(E,b,j,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?rc(this.resolveDataElementOptions(e,t).angle||i):0}}class mJ extends US{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class _J extends Mf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,r){return yO.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta,i=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(i.points=r,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(i,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,i,r){const s=this._cachedMeta.rScale,a=r==="reset";for(let l=t;l<t+i;l++){const c=e[l],h=this.resolveDataElementOptions(l,c.active?"active":r),f=s.getPointPositionForValue(l,this.getParsed(l).r),p=a?s.xCenter:f.x,_=a?s.yCenter:f.y,m={x:p,y:_,angle:f.angle,skip:isNaN(p)||isNaN(_),options:h};this.updateElement(c,l,m,r)}}}class vJ extends Mf{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:i[e]||"",value:"("+l+", "+c+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:a}=uO(t,i,r);if(this._drawStart=s,this._drawCount=a,hO(t)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:h},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,r){const s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(t,r),p=this.getSharedOptions(f),_=this.includeOptions(r,p),m=a.axis,b=l.axis,{spanGaps:x,segment:E}=this.options,A=bp(x)?x:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||r==="none";let L=t>0&&this.getParsed(t-1);for(let j=t;j<t+i;++j){const Q=e[j],ae=this.getParsed(j),F=P?Q:{},R=qn(ae[b]),N=F[m]=a.getPixelForValue(ae[m],j),U=F[b]=s||R?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,ae,c):ae[b],j);F.skip=isNaN(N)||isNaN(U)||R,F.stop=j>0&&Math.abs(ae[m]-L[m])>A,E&&(F.parsed=ae,F.raw=h.data[j]),_&&(F.options=p||this.resolveDataElementOptions(j,Q.active?"active":r)),P||this.updateElement(Q,j,F,r),L=ae}this.updateSharedOptions(p,r,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let c=t.length-1;c>=0;--c)l=Math.max(l,t[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,a)/2}}var yJ=Object.freeze({__proto__:null,BarController:fJ,BubbleController:dJ,DoughnutController:US,LineController:gJ,PieController:mJ,PolarAreaController:IO,RadarController:_J,ScatterController:vJ});function id(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class VS{static override(e){Object.assign(VS.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return id()}parse(){return id()}format(){return id()}add(){return id()}diff(){return id()}startOf(){return id()}endOf(){return id()}}var xJ={_date:VS};function wJ(n,e,t,i){const{controller:r,data:s,_sorted:a}=n,l=r._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const h=l._reversePixels?FX:zu;if(i){if(r._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const _=h(s,e,t-p),m=h(s,e,t+p);return{lo:_.lo,hi:m.hi}}}}else{const f=h(s,e,t);if(c){const{vScale:p}=r._cachedMeta,{_parsed:_}=n,m=_.slice(0,f.lo+1).reverse().findIndex(x=>!qn(x[p.axis]));f.lo-=Math.max(0,m);const b=_.slice(f.hi).findIndex(x=>!qn(x[p.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:s.length-1}}function ky(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,c=s.length;l<c;++l){const{index:h,data:f}=s[l],{lo:p,hi:_}=wJ(s[l],e,a,r);for(let m=p;m<=_;++m){const b=f[m];b.skip||i(b,h,m)}}}function bJ(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function B5(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||ky(n,t,e,function(l,c,h){!r&&!Hu(l,n.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:c,index:h})},!0),s}function EJ(n,e,t,i){let r=[];function s(a,l,c){const{startAngle:h,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:p}=sO(a,{x:e.x,y:e.y});Hm(p,h,f)&&r.push({element:a,datasetIndex:l,index:c})}return ky(n,t,e,s),r}function SJ(n,e,t,i,r,s){let a=[];const l=bJ(t);let c=Number.POSITIVE_INFINITY;function h(f,p,_){const m=f.inRange(e.x,e.y,r);if(i&&!m)return;const b=f.getCenterPoint(r);if(!(!!s||n.isPointInArea(b))&&!m)return;const E=l(e,b);E<c?(a=[{element:f,datasetIndex:p,index:_}],c=E):E===c&&a.push({element:f,datasetIndex:p,index:_})}return ky(n,t,e,h),a}function j5(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?EJ(n,e,t,r):SJ(n,e,t,i,r,s)}function UN(n,e,t,i,r){const s=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return ky(n,t,e,(c,h,f)=>{c[a]&&c[a](e[t],r)&&(s.push({element:c,datasetIndex:h,index:f}),l=l||c.inRange(e.x,e.y,r))}),i&&!l?[]:s}var TJ={modes:{index(n,e,t,i){const r=od(e,n),s=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?B5(n,r,s,i,a):j5(n,r,s,!1,i,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const f=l[0].index,p=h.data[f];p&&!p.skip&&c.push({element:p,datasetIndex:h.index,index:f})}),c):[]},dataset(n,e,t,i){const r=od(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?B5(n,r,s,i,a):j5(n,r,s,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,h=n.getDatasetMeta(c).data;l=[];for(let f=0;f<h.length;++f)l.push({element:h[f],datasetIndex:c,index:f})}return l},point(n,e,t,i){const r=od(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return B5(n,r,s,i,a)},nearest(n,e,t,i){const r=od(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return j5(n,r,s,t.intersect,i,a)},x(n,e,t,i){const r=od(e,n);return UN(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=od(e,n);return UN(n,r,"y",t.intersect,i)}}};const kO=["left","top","right","bottom"];function Mg(n,e){return n.filter(t=>t.pos===e)}function VN(n,e){return n.filter(t=>kO.indexOf(t.pos)===-1&&t.box.axis===e)}function Fg(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function AJ(n){const e=[];let t,i,r,s,a,l;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:a,stackWeight:l=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return e}function CJ(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!kO.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function NJ(n,e){const t=CJ(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:c}=l.box,h=t[l.stack],f=h&&l.stackWeight/h.weight;l.horizontal?(l.width=f?f*i:c&&e.availableWidth,l.height=r):(l.width=i,l.height=f?f*r:c&&e.availableHeight)}return t}function RJ(n){const e=AJ(n),t=Fg(e.filter(h=>h.box.fullSize),!0),i=Fg(Mg(e,"left"),!0),r=Fg(Mg(e,"right")),s=Fg(Mg(e,"top"),!0),a=Fg(Mg(e,"bottom")),l=VN(e,"x"),c=VN(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(a).concat(l),chartArea:Mg(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(a).concat(l)}}function zN(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function DO(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function IJ(n,e,t,i){const{pos:r,box:s}=t,a=n.maxPadding;if(!Qn(r)){t.size&&(n[r]-=t.size);const p=i[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?s.height:s.width),t.size=p.size/p.count,n[r]+=t.size}s.getPadding&&DO(a,s.getPadding());const l=Math.max(0,e.outerWidth-zN(a,n,"left","right")),c=Math.max(0,e.outerHeight-zN(a,n,"top","bottom")),h=l!==n.w,f=c!==n.h;return n.w=l,n.h=c,t.horizontal?{same:h,other:f}:{same:f,other:h}}function kJ(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function DJ(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return i(n?["left","right"]:["top","bottom"])}function Qg(n,e,t,i){const r=[];let s,a,l,c,h,f;for(s=0,a=n.length,h=0;s<a;++s){l=n[s],c=l.box,c.update(l.width||e.w,l.height||e.h,DJ(l.horizontal,e));const{same:p,other:_}=IJ(e,t,l,i);h|=p&&r.length,f=f||_,c.fullSize||r.push(l)}return h&&Qg(r,e,t,i)||f}function U2(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function HN(n,e,t,i){const r=t.padding;let{x:s,y:a}=e;for(const l of n){const c=l.box,h=i[l.stack]||{placed:0,weight:1},f=l.stackWeight/h.weight||1;if(l.horizontal){const p=e.w*f,_=h.size||c.height;zm(h.start)&&(a=h.start),c.fullSize?U2(c,r.left,a,t.outerWidth-r.right-r.left,_):U2(c,e.left+h.placed,a,p,_),h.start=a,h.placed+=p,a=c.bottom}else{const p=e.h*f,_=h.size||c.width;zm(h.start)&&(s=h.start),c.fullSize?U2(c,s,r.top,_,t.outerHeight-r.bottom-r.top):U2(c,s,e.top+h.placed,_,p),h.start=s,h.placed+=p,s=c.right}}e.x=s,e.y=a}var Pa={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=ja(n.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(t-r.height,0),l=RJ(n.boxes),c=l.vertical,h=l.horizontal;Oi(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const f=c.reduce((x,E)=>E.box.options&&E.box.options.display===!1?x:x+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),_=Object.assign({},r);DO(_,ja(i));const m=Object.assign({maxPadding:_,w:s,h:a,x:r.left,y:r.top},r),b=NJ(c.concat(h),p);Qg(l.fullSize,m,p,b),Qg(c,m,p,b),Qg(h,m,p,b)&&Qg(c,m,p,b),kJ(m),HN(l.leftAndTop,m,p,b),m.x+=m.w,m.y+=m.h,HN(l.rightAndBottom,m,p,b),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Oi(l.chartArea,x=>{const E=x.box;Object.assign(E,n.chartArea),E.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class LO{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class LJ extends LO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const S_="$chartjs",OJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qN=n=>n===null||n==="";function PJ(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[S_]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",qN(r)){const s=CN(n,"width");s!==void 0&&(n.width=s)}if(qN(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=CN(n,"height");s!==void 0&&(n.height=s)}return n}const OO=IQ?{passive:!0}:!1;function MJ(n,e,t){n&&n.addEventListener(e,t,OO)}function FJ(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,OO)}function BJ(n,e){const t=OJ[n.type]||n.type,{x:i,y:r}=od(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function yv(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function jJ(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||yv(l.addedNodes,i),a=a&&!yv(l.removedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function UJ(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||yv(l.removedNodes,i),a=a&&!yv(l.addedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Wm=new Map;let WN=0;function PO(){const n=window.devicePixelRatio;n!==WN&&(WN=n,Wm.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function VJ(n,e){Wm.size||window.addEventListener("resize",PO),Wm.set(n,e)}function zJ(n){Wm.delete(n),Wm.size||window.removeEventListener("resize",PO)}function HJ(n,e,t){const i=n.canvas,r=i&&jS(i);if(!r)return;const s=cO((l,c)=>{const h=r.clientWidth;t(l,c),h<r.clientWidth&&t()},window),a=new ResizeObserver(l=>{const c=l[0],h=c.contentRect.width,f=c.contentRect.height;h===0&&f===0||s(h,f)});return a.observe(r),VJ(n,s),a}function U5(n,e,t){t&&t.disconnect(),e==="resize"&&zJ(n)}function qJ(n,e,t){const i=n.canvas,r=cO(s=>{n.ctx!==null&&t(BJ(s,n))},n);return MJ(i,e,r),r}class WJ extends LO{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(PJ(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[S_])return!1;const i=t[S_].initial;["height","width"].forEach(s=>{const a=i[s];qn(a)?t.removeAttribute(s):t.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[S_],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),a={attach:jJ,detach:UJ,resize:HJ}[t]||qJ;r[t]=a(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:U5,detach:U5,resize:U5}[t]||FJ)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return RQ(e,t,i,r)}isAttached(e){const t=e&&jS(e);return!!(t&&t.isConnected)}}function GJ(n){return!BS()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?LJ:WJ}class dh{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return bp(this.x)&&bp(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function $J(n,e){const t=n.options.ticks,i=YJ(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?XJ(e):[],a=s.length,l=s[0],c=s[a-1],h=[];if(a>r)return QJ(e,h,s,a/r),h;const f=KJ(s,e,r);if(a>0){let p,_;const m=a>1?Math.round((c-l)/(a-1)):null;for(V2(e,h,f,qn(m)?0:l-m,l),p=0,_=a-1;p<_;p++)V2(e,h,f,s[p],s[p+1]);return V2(e,h,f,c,qn(m)?e.length:c+m),h}return V2(e,h,f),h}function YJ(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function KJ(n,e,t){const i=JJ(n),r=e.length/t;if(!i)return Math.max(r,1);const s=DX(i);for(let a=0,l=s.length-1;a<l;a++){const c=s[a];if(c>r)return c}return Math.max(r,1)}function XJ(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function QJ(n,e,t,i){let r=0,s=t[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(e.push(n[a]),r++,s=t[r*i])}function V2(n,e,t,i,r){const s=Rn(i,0),a=Math.min(Rn(r,n.length),n.length);let l=0,c,h,f;for(t=Math.ceil(t),r&&(c=r-i,t=c/Math.floor(c/t)),f=s;f<0;)l++,f=Math.round(s+l*t);for(h=Math.max(s,0);h<a;h++)h===f&&(e.push(n[h]),l++,f=Math.round(s+l*t))}function JJ(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const ZJ=n=>n==="left"?"right":n==="right"?"left":n,GN=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,$N=(n,e)=>Math.min(e||n,n);function YN(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function eZ(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,a=n._endPixel,l=1e-6;let c=n.getPixelForTick(r),h;if(!(t&&(i===1?h=Math.max(c-s,a-c):e===0?h=(n.getPixelForTick(1)-c)/2:h=(c-n.getPixelForTick(r-1))/2,c+=r<e?h:-h,c<s-l||c>a+l)))return c}function tZ(n,e){Oi(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function Bg(n){return n.drawTicks?n.tickLength:0}function KN(n,e){if(!n.display)return 0;const t=Rs(n.font,e),i=ja(n.padding);return(wr(n.text)?n.text.length:1)*t.lineHeight+i.height}function nZ(n,e){return Pf(n,{scale:e,type:"scale"})}function iZ(n,e,t){return Pf(n,{tick:t,index:e,type:"tick"})}function rZ(n,e,t){let i=DS(n);return(t&&e!=="right"||!t&&e==="right")&&(i=ZJ(i)),i}function sZ(n,e,t,i){const{top:r,left:s,bottom:a,right:l,chart:c}=n,{chartArea:h,scales:f}=c;let p=0,_,m,b;const x=a-r,E=l-s;if(n.isHorizontal()){if(m=Na(i,s,l),Qn(t)){const A=Object.keys(t)[0],P=t[A];b=f[A].getPixelForValue(P)+x-e}else t==="center"?b=(h.bottom+h.top)/2+x-e:b=GN(n,t,e);_=l-s}else{if(Qn(t)){const A=Object.keys(t)[0],P=t[A];m=f[A].getPixelForValue(P)-E+e}else t==="center"?m=(h.left+h.right)/2-E+e:m=GN(n,t,e);b=Na(i,a,r),p=t==="left"?-ns:ns}return{titleX:m,titleY:b,maxWidth:_,rotation:p}}class Bd extends dh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=qo(e,Number.POSITIVE_INFINITY),t=qo(t,Number.NEGATIVE_INFINITY),i=qo(i,Number.POSITIVE_INFINITY),r=qo(r,Number.NEGATIVE_INFINITY),{min:qo(e,i),max:qo(t,r),minDefined:Hr(e),maxDefined:Hr(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:t,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,h=l.length;c<h;++c)a=l[c].controller.getMinMax(this,e),r||(t=Math.min(t,a.min)),s||(i=Math.max(i,a.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:qo(t,qo(i,t)),max:qo(i,qo(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tr(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=oQ(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?YN(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=$J(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tr(this.options.afterUpdate,[this])}beforeSetDimensions(){tr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=tr(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){tr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=$N(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let a=r,l,c,h;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),p=f.widest.width,_=f.highest.height,m=$s(this.chart.width-p,0,this.maxWidth);l=e.offset?this.maxWidth/i:m/(i-1),p+6>l&&(l=m/(i-(e.offset?.5:1)),c=this.maxHeight-Bg(e.grid)-t.padding-KN(e.title,this.chart.options.font),h=Math.sqrt(p*p+_*_),a=IS(Math.min(Math.asin($s((f.highest.height+6)/l,-1,1)),Math.asin($s(c/h,-1,1))-Math.asin($s(_/h,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){tr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=KN(r,t.options.font);if(l?(e.width=this.maxWidth,e.height=Bg(s)+c):(e.height=this.maxHeight,e.width=Bg(s)+c),i.display&&this.ticks.length){const{first:h,last:f,widest:p,highest:_}=this._getLabelSizes(),m=i.padding*2,b=rc(this.labelRotation),x=Math.cos(b),E=Math.sin(b);if(l){const A=i.mirror?0:E*p.width+x*_.height;e.height=Math.min(this.maxHeight,e.height+A+m)}else{const A=i.mirror?0:x*p.width+E*_.height;e.width=Math.min(this.maxWidth,e.width+A+m)}this._calculatePadding(h,f,E,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,c=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,m=0;c?h?(_=r*e.width,m=i*t.height):(_=i*e.height,m=r*t.width):s==="start"?m=t.width:s==="end"?_=e.width:s!=="inner"&&(_=e.width/2,m=t.width/2),this.paddingLeft=Math.max((_-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((m-p+a)*this.width/(this.width-p),0)}else{let f=t.height/2,p=e.height/2;s==="start"?(f=0,p=e.height):s==="end"&&(f=t.height,p=0),this.paddingTop=f+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)qn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=YN(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,a=[],l=[],c=Math.floor(t/$N(t,i));let h=0,f=0,p,_,m,b,x,E,A,P,L,j,Q;for(p=0;p<t;p+=c){if(b=e[p].label,x=this._resolveTickFontOptions(p),r.font=E=x.string,A=s[E]=s[E]||{data:{},gc:[]},P=x.lineHeight,L=j=0,!qn(b)&&!wr(b))L=_v(r,A.data,A.gc,L,b),j=P;else if(wr(b))for(_=0,m=b.length;_<m;++_)Q=b[_],!qn(Q)&&!wr(Q)&&(L=_v(r,A.data,A.gc,L,Q),j+=P);a.push(L),l.push(j),h=Math.max(L,h),f=Math.max(j,f)}tZ(s,t);const ae=a.indexOf(h),F=l.indexOf(f),R=N=>({width:a[N]||0,height:l[N]||0});return{first:R(0),last:R(t-1),widest:R(ae),highest:R(F),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return MX(this._alignToPixels?nd(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=iZ(this.getContext(),e,i))}return this.$context||(this.$context=nZ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=rc(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,c=s?s.highest.height+a:0;return this.isHorizontal()?c*i>l*r?l/i:c/r:c*r<l*i?c/i:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,c=s.offset,h=this.isHorizontal(),p=this.ticks.length+(c?1:0),_=Bg(s),m=[],b=l.setContext(this.getContext()),x=b.display?b.width:0,E=x/2,A=function(ce){return nd(i,ce,x)};let P,L,j,Q,ae,F,R,N,U,I,M,z;if(a==="top")P=A(this.bottom),F=this.bottom-_,N=P-E,I=A(e.top)+E,z=e.bottom;else if(a==="bottom")P=A(this.top),I=e.top,z=A(e.bottom)-E,F=P+E,N=this.top+_;else if(a==="left")P=A(this.right),ae=this.right-_,R=P-E,U=A(e.left)+E,M=e.right;else if(a==="right")P=A(this.left),U=e.left,M=A(e.right)-E,ae=P+E,R=this.left+_;else if(t==="x"){if(a==="center")P=A((e.top+e.bottom)/2+.5);else if(Qn(a)){const ce=Object.keys(a)[0],ye=a[ce];P=A(this.chart.scales[ce].getPixelForValue(ye))}I=e.top,z=e.bottom,F=P+E,N=F+_}else if(t==="y"){if(a==="center")P=A((e.left+e.right)/2);else if(Qn(a)){const ce=Object.keys(a)[0],ye=a[ce];P=A(this.chart.scales[ce].getPixelForValue(ye))}ae=P-E,R=ae-_,U=e.left,M=e.right}const de=Rn(r.ticks.maxTicksLimit,p),we=Math.max(1,Math.ceil(p/de));for(L=0;L<p;L+=we){const ce=this.getContext(L),ye=s.setContext(ce),be=l.setContext(ce),Ne=ye.lineWidth,$e=ye.color,se=be.dash||[],k=be.dashOffset,G=ye.tickWidth,W=ye.tickColor,Y=ye.tickBorderDash||[],ne=ye.tickBorderDashOffset;j=eZ(this,L,c),j!==void 0&&(Q=nd(i,j,Ne),h?ae=R=U=M=Q:F=N=I=z=Q,m.push({tx1:ae,ty1:F,tx2:R,ty2:N,x1:U,y1:I,x2:M,y2:z,width:Ne,color:$e,borderDash:se,borderDashOffset:k,tickWidth:G,tickColor:W,tickBorderDash:Y,tickBorderDashOffset:ne}))}return this._ticksLength=p,this._borderValue=P,m}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:h,padding:f,mirror:p}=s,_=Bg(i.grid),m=_+f,b=p?-f:m,x=-rc(this.labelRotation),E=[];let A,P,L,j,Q,ae,F,R,N,U,I,M,z="middle";if(r==="top")ae=this.bottom-b,F=this._getXAxisLabelAlignment();else if(r==="bottom")ae=this.top+b,F=this._getXAxisLabelAlignment();else if(r==="left"){const we=this._getYAxisLabelAlignment(_);F=we.textAlign,Q=we.x}else if(r==="right"){const we=this._getYAxisLabelAlignment(_);F=we.textAlign,Q=we.x}else if(t==="x"){if(r==="center")ae=(e.top+e.bottom)/2+m;else if(Qn(r)){const we=Object.keys(r)[0],ce=r[we];ae=this.chart.scales[we].getPixelForValue(ce)+m}F=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")Q=(e.left+e.right)/2-m;else if(Qn(r)){const we=Object.keys(r)[0],ce=r[we];Q=this.chart.scales[we].getPixelForValue(ce)}F=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(c==="start"?z="top":c==="end"&&(z="bottom"));const de=this._getLabelSizes();for(A=0,P=l.length;A<P;++A){L=l[A],j=L.label;const we=s.setContext(this.getContext(A));R=this.getPixelForTick(A)+s.labelOffset,N=this._resolveTickFontOptions(A),U=N.lineHeight,I=wr(j)?j.length:1;const ce=I/2,ye=we.color,be=we.textStrokeColor,Ne=we.textStrokeWidth;let $e=F;a?(Q=R,F==="inner"&&(A===P-1?$e=this.options.reverse?"left":"right":A===0?$e=this.options.reverse?"right":"left":$e="center"),r==="top"?h==="near"||x!==0?M=-I*U+U/2:h==="center"?M=-de.highest.height/2-ce*U+U:M=-de.highest.height+U/2:h==="near"||x!==0?M=U/2:h==="center"?M=de.highest.height/2-ce*U:M=de.highest.height-I*U,p&&(M*=-1),x!==0&&!we.showLabelBackdrop&&(Q+=U/2*Math.sin(x))):(ae=R,M=(1-I)*U/2);let se;if(we.showLabelBackdrop){const k=ja(we.backdropPadding),G=de.heights[A],W=de.widths[A];let Y=M-k.top,ne=0-k.left;switch(z){case"middle":Y-=G/2;break;case"bottom":Y-=G;break}switch(F){case"center":ne-=W/2;break;case"right":ne-=W;break;case"inner":A===P-1?ne-=W:A>0&&(ne-=W/2);break}se={left:ne,top:Y,width:W+k.width,height:G+k.height,color:we.backdropColor}}E.push({label:j,font:N,textOffset:M,options:{rotation:x,color:ye,strokeColor:be,strokeWidth:Ne,textAlign:$e,textBaseline:z,translation:[Q,ae],backdrop:se}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-rc(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,c=a.widest.width;let h,f;return t==="left"?r?(f=this.right+s,i==="near"?h="left":i==="center"?(h="center",f+=c/2):(h="right",f+=c)):(f=this.right-l,i==="near"?h="right":i==="center"?(h="center",f-=c/2):(h="left",f=this.left)):t==="right"?r?(f=this.left+s,i==="near"?h="right":i==="center"?(h="center",f-=c/2):(h="left",f-=c)):(f=this.left+l,i==="near"?h="left":i==="center"?(h="center",f+=c/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(c,h,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const c=r[s];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,f,p,_;this.isHorizontal()?(h=nd(e,this.left,a)-a/2,f=nd(e,this.right,l)+l/2,p=_=c):(p=nd(e,this.top,a)-a/2,_=nd(e,this.bottom,l)+l/2,h=f=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(h,p),t.lineTo(f,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ny(i,r);const s=this.getLabelItems(e);for(const a of s){const l=a.options,c=a.font,h=a.label,f=a.textOffset;Cd(i,h,0,f,c,l)}r&&Ry(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Rs(i.font),a=ja(i.padding),l=i.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||Qn(t)?(c+=a.bottom,wr(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:h,titleY:f,maxWidth:p,rotation:_}=sZ(this,c,t,l);Cd(e,i.text,0,0,s,{color:i.color,maxWidth:p,rotation:_,textAlign:rZ(l,t,r),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Rn(e.grid&&e.grid.z,-1),r=Rn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Bd.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const l=t[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Rs(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class z2{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;lZ(t)&&(i=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,aZ(e,a,i),this.override&&br.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in br[r]&&(delete br[r][i],this.override&&delete Ad[i])}}function aZ(n,e,t){const i=Vm(Object.create(null),[t?br.get(t):{},br.get(e),n.defaults]);br.set(e,i),n.defaultRoutes&&oZ(e,n.defaultRoutes),n.descriptors&&br.describe(e,n.descriptors)}function oZ(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),a=e[t].split("."),l=a.pop(),c=a.join(".");br.route(s,r,c,l)})}function lZ(n){return"id"in n&&"defaults"in n}class cZ{constructor(){this.controllers=new z2(Mf,"datasets",!0),this.elements=new z2(dh,"elements"),this.plugins=new z2(Object,"plugins"),this.scales=new z2(Bd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Oi(r,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,i){const r=RS(e);tr(i["before"+r],[],i),t[e](i),tr(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Uc=new cZ;class uZ{constructor(){this._init=void 0}notify(e,t,i,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,i,r){r=r||{};for(const s of e){const a=s.plugin,l=a[i],c=[t,r,s.options];if(tr(l,c,a)===!1&&r.cancelable)return!1}return!0}invalidate(){qn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Rn(i.options&&i.options.plugins,{}),s=hZ(i);return r===!1&&!t?[]:dZ(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function hZ(n){const e={},t=[],i=Object.keys(Uc.plugins.items);for(let s=0;s<i.length;s++)t.push(Uc.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function fZ(n,e){return!e&&n===!1?null:n===!0?{}:n}function dZ(n,{plugins:e,localIds:t},i,r){const s=[],a=n.getContext();for(const l of e){const c=l.id,h=fZ(i[c],r);h!==null&&s.push({plugin:l,options:pZ(n.config,{plugin:l,local:t[c]},h,a)})}return s}function pZ(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(i,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Eb(n,e){const t=br.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function gZ(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function mZ(n,e){return n===e?"_index_":"_value_"}function XN(n){if(n==="x"||n==="y"||n==="r")return n}function _Z(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Sb(n,...e){if(XN(n))return n;for(const t of e){const i=t.axis||_Z(t.position)||n.length>1&&XN(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function QN(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function vZ(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return QN(n,"x",t[0])||QN(n,"y",t[0])}return{}}function yZ(n,e){const t=Ad[n.type]||{scales:{}},i=e.scales||{},r=Eb(n.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Qn(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Sb(a,l,vZ(a,n),br.scales[l.type]),h=mZ(c,r),f=t.scales||{};s[a]=fm(Object.create(null),[{axis:c},l,f[c],f[h]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||Eb(l,e),f=(Ad[l]||{}).scales||{};Object.keys(f).forEach(p=>{const _=gZ(p,c),m=a[_+"AxisID"]||_;s[m]=s[m]||Object.create(null),fm(s[m],[{axis:_},i[m],f[p]])})}),Object.keys(s).forEach(a=>{const l=s[a];fm(l,[br.scales[l.type],br.scale])}),s}function MO(n){const e=n.options||(n.options={});e.plugins=Rn(e.plugins,{}),e.scales=yZ(n,e)}function FO(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function xZ(n){return n=n||{},n.data=FO(n.data),MO(n),n}const JN=new Map,BO=new Set;function H2(n,e){let t=JN.get(n);return t||(t=e(),JN.set(n,t),BO.add(t)),t}const jg=(n,e,t)=>{const i=Sf(e,t);i!==void 0&&n.add(i)};class wZ{constructor(e){this._config=xZ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=FO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),MO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return H2(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return H2(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return H2(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return H2(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),l=a.get(t);if(l)return l;const c=new Set;t.forEach(f=>{e&&(c.add(e),f.forEach(p=>jg(c,e,p))),f.forEach(p=>jg(c,r,p)),f.forEach(p=>jg(c,Ad[s]||{},p)),f.forEach(p=>jg(c,br,p)),f.forEach(p=>jg(c,wb,p))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),BO.has(t)&&a.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ad[t]||{},br.datasets[t]||{},{type:t},br,wb]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=ZN(this._resolverCache,e,r);let c=a;if(EZ(a,t)){s.$shared=!1,i=Tf(i)?i():i;const h=this.createResolver(e,i,l);c=Ep(a,i,h)}for(const h of t)s[h]=c[h];return s}createResolver(e,t,i=[""],r){const{resolver:s}=ZN(this._resolverCache,e,i);return Qn(t)?Ep(s,t,void 0,r):s}}function ZN(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:PS(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const bZ=n=>Qn(n)&&Object.getOwnPropertyNames(n).some(e=>Tf(n[e]));function EZ(n,e){const{isScriptable:t,isIndexable:i}=gO(n);for(const r of e){const s=t(r),a=i(r),l=(a||s)&&n[r];if(s&&(Tf(l)||bZ(l))||a&&wr(l))return!0}return!1}var SZ="4.5.1";const TZ=["top","bottom","left","right","chartArea"];function e6(n,e){return n==="top"||n==="bottom"||TZ.indexOf(n)===-1&&e==="x"}function t6(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function n6(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),tr(t&&t.onComplete,[n],e)}function AZ(n){const e=n.chart,t=e.options.animation;tr(t&&t.onProgress,[n],e)}function jO(n){return BS()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const T_={},i6=n=>{const e=jO(n);return Object.values(T_).filter(t=>t.canvas===e).pop()};function CZ(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const a=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=a)}}}function NZ(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class Dy{static defaults=br;static instances=T_;static overrides=Ad;static registry=Uc;static version=SZ;static getChart=i6;static register(...e){Uc.add(...e),r6()}static unregister(...e){Uc.remove(...e),r6()}constructor(e,t){const i=this.config=new wZ(t),r=jO(e),s=i6(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||GJ(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,h=c&&c.height,f=c&&c.width;if(this.id=EX(),this.ctx=l,this.canvas=c,this.width=f,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=UX(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],T_[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Lu.listen(this,"complete",n6),Lu.listen(this,"progress",AZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return qn(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Uc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():AN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return EN(this.canvas,this.ctx),this}stop(){return Lu.stop(this),this}resize(e,t){Lu.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,AN(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),tr(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Oi(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const l=t[a],c=Sb(a,l),h=c==="r",f=c==="x";return{options:l,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),Oi(s,a=>{const l=a.options,c=l.id,h=Sb(c,l),f=Rn(l.type,a.dtype);(l.position===void 0||e6(l.position,h)!==e6(a.dposition))&&(l.position=a.dposition),r[c]=!0;let p=null;if(c in i&&i[c].type===f)p=i[c];else{const _=Uc.getScale(f);p=new _({id:c,type:f,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(l,e)}),Oi(r,(a,l)=>{a||delete i[l]}),Oi(i,a=>{Pa.configure(this,a,a.options),Pa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(t6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||Eb(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=Uc.getController(l),{datasetElementType:h,dataElementType:f}=br.datasets[l];Object.assign(c,{dataElementType:Uc.getElement(f),datasetElementType:h&&Uc.getElement(h)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Oi(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:p}=this.getDatasetMeta(h),_=!r&&s.indexOf(p)===-1;p.buildOrUpdateElements(_),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Oi(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(t6("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Oi(this.scales,e=>{Pa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!pN(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const a=i==="_removeElements"?-s:s;CZ(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!pN(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pa.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Oi(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Tf(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Lu.has(this)?this.attached&&!Lu.running(this)&&Lu.start(this):(this.draw(),n6({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const a=t[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=AO(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Ny(t,r),e.controller.draw(),r&&Ry(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Hu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=TJ.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Pf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);zm(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Lu.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),EN(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete T_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Oi(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,h)=>{t.addEventListener(this,c,h),e[c]=h},r=(c,h)=>{e[c]&&(t.removeEventListener(this,c,h),delete e[c])},s=(c,h)=>{this.canvas&&this.resize(c,h)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){Oi(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Oi(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,a,l,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!pv(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(c,h)=>c.filter(f=>!h.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),a=s(t,e),l=i?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,a=t,l=this._getActiveElements(e,r,i,a),c=RX(e),h=NZ(e,this._lastEvent,i,c);i&&(this._lastEvent=null,tr(s.onHover,[e,l,this],this),c&&tr(s.onClick,[e,l,this],this));const f=!pv(l,r);return(f||t)&&(this._active=l,this._updateHoverStyles(l,r,t)),this._lastEvent=h,f}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}function r6(){return Oi(Dy.instances,n=>n._plugins.invalidate())}function RZ(n,e,t){const{startAngle:i,x:r,y:s,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:h,borderJoinStyle:f}=c,p=Math.min(h/a,Ia(i-t));if(n.beginPath(),n.arc(r,s,a-h/2,i+p/2,t-p/2),l>0){const _=Math.min(h/l,Ia(i-t));n.arc(r,s,l+h/2,t-_/2,i+_/2,!0)}else{const _=Math.min(h/2,a*Ia(i-t));if(f==="round")n.arc(r,s,_,t-yi/2,i+yi/2,!0);else if(f==="bevel"){const m=2*_*_,b=-m*Math.cos(t+yi/2)+r,x=-m*Math.sin(t+yi/2)+s,E=m*Math.cos(i+yi/2)+r,A=m*Math.sin(i+yi/2)+s;n.lineTo(b,x),n.lineTo(E,A)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function IZ(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:c}=e;let h=r/l;n.beginPath(),n.arc(s,a,l,i-h,t+h),c>r?(h=r/c,n.arc(s,a,c,t+h,i-h,!0)):n.arc(s,a,r,t+ns,i-ns),n.closePath(),n.clip()}function kZ(n){return OS(n,["outerStart","outerEnd","innerStart","innerEnd"])}function DZ(n,e,t,i){const r=kZ(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,i*e/2),l=c=>{const h=(t-Math.min(s,c))*i/2;return $s(c,0,Math.min(s,h))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:$s(r.innerStart,0,a),innerEnd:$s(r.innerEnd,0,a)}}function N0(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function xv(n,e,t,i,r,s){const{x:a,y:l,startAngle:c,pixelMargin:h,innerRadius:f}=e,p=Math.max(e.outerRadius+i+t-h,0),_=f>0?f+i+t+h:0;let m=0;const b=r-c;if(i){const we=f>0?f-i:0,ce=p>0?p-i:0,ye=(we+ce)/2,be=ye!==0?b*ye/(ye+i):b;m=(b-be)/2}const x=Math.max(.001,b*p-t/yi)/p,E=(b-x)/2,A=c+E+m,P=r-E-m,{outerStart:L,outerEnd:j,innerStart:Q,innerEnd:ae}=DZ(e,_,p,P-A),F=p-L,R=p-j,N=A+L/F,U=P-j/R,I=_+Q,M=_+ae,z=A+Q/I,de=P-ae/M;if(n.beginPath(),s){const we=(N+U)/2;if(n.arc(a,l,p,N,we),n.arc(a,l,p,we,U),j>0){const Ne=N0(R,U,a,l);n.arc(Ne.x,Ne.y,j,U,P+ns)}const ce=N0(M,P,a,l);if(n.lineTo(ce.x,ce.y),ae>0){const Ne=N0(M,de,a,l);n.arc(Ne.x,Ne.y,ae,P+ns,de+Math.PI)}const ye=(P-ae/_+(A+Q/_))/2;if(n.arc(a,l,_,P-ae/_,ye,!0),n.arc(a,l,_,ye,A+Q/_,!0),Q>0){const Ne=N0(I,z,a,l);n.arc(Ne.x,Ne.y,Q,z+Math.PI,A-ns)}const be=N0(F,A,a,l);if(n.lineTo(be.x,be.y),L>0){const Ne=N0(F,N,a,l);n.arc(Ne.x,Ne.y,L,A-ns,N)}}else{n.moveTo(a,l);const we=Math.cos(N)*p+a,ce=Math.sin(N)*p+l;n.lineTo(we,ce);const ye=Math.cos(U)*p+a,be=Math.sin(U)*p+l;n.lineTo(ye,be)}n.closePath()}function LZ(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:l}=e;let c=e.endAngle;if(s){xv(n,e,t,i,c,r);for(let h=0;h<s;++h)n.fill();isNaN(l)||(c=a+(l%ur||ur))}return xv(n,e,t,i,c,r),n.fill(),c}function OZ(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:c}=e,{borderWidth:h,borderJoinStyle:f,borderDash:p,borderDashOffset:_,borderRadius:m}=c,b=c.borderAlign==="inner";if(!h)return;n.setLineDash(p||[]),n.lineDashOffset=_,b?(n.lineWidth=h*2,n.lineJoin=f||"round"):(n.lineWidth=h,n.lineJoin=f||"bevel");let x=e.endAngle;if(s){xv(n,e,t,i,x,r);for(let E=0;E<s;++E)n.stroke();isNaN(l)||(x=a+(l%ur||ur))}b&&IZ(n,e,x),c.selfJoin&&x-a>=yi&&m===0&&f!=="miter"&&RZ(n,e,x),s||(xv(n,e,t,i,x,r),n.stroke())}class PZ extends dh{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=sO(r,{x:e,y:t}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,m=Rn(p,c-l),b=Hm(s,l,c)&&l!==c,x=m>=ur||b,E=Vu(a,h+_,f+_);return x&&E}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:h}=this.options,f=(r+s)/2,p=(a+l+h+c)/2;return{x:t+Math.cos(f)*p,y:i+Math.sin(f)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>ur?Math.floor(i/ur):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(yi,i||0)),h=r*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,LZ(e,this,h,s,a),OZ(e,this,h,s,a),e.restore()}}function UO(n,e,t=e){n.lineCap=Rn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Rn(t.borderDash,e.borderDash)),n.lineDashOffset=Rn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Rn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Rn(t.borderWidth,e.borderWidth),n.strokeStyle=Rn(t.borderColor,e.borderColor)}function MZ(n,e,t){n.lineTo(t.x,t.y)}function FZ(n){return n.stepped?JX:n.tension||n.cubicInterpolationMode==="monotone"?ZX:MZ}function VO(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:a,end:l}=e,c=Math.max(r,a),h=Math.min(s,l),f=r<a&&s<a||r>l&&s>l;return{count:i,start:c,loop:e.loop,ilen:h<c&&!f?i+h-c:h-c}}function BZ(n,e,t,i){const{points:r,options:s}=e,{count:a,start:l,loop:c,ilen:h}=VO(r,t,i),f=FZ(s);let{move:p=!0,reverse:_}=i||{},m,b,x;for(m=0;m<=h;++m)b=r[(l+(_?h-m:m))%a],!b.skip&&(p?(n.moveTo(b.x,b.y),p=!1):f(n,x,b,_,s.stepped),x=b);return c&&(b=r[(l+(_?h:0))%a],f(n,x,b,_,s.stepped)),!!c}function jZ(n,e,t,i){const r=e.points,{count:s,start:a,ilen:l}=VO(r,t,i),{move:c=!0,reverse:h}=i||{};let f=0,p=0,_,m,b,x,E,A;const P=j=>(a+(h?l-j:j))%s,L=()=>{x!==E&&(n.lineTo(f,E),n.lineTo(f,x),n.lineTo(f,A))};for(c&&(m=r[P(0)],n.moveTo(m.x,m.y)),_=0;_<=l;++_){if(m=r[P(_)],m.skip)continue;const j=m.x,Q=m.y,ae=j|0;ae===b?(Q<x?x=Q:Q>E&&(E=Q),f=(p*f+j)/++p):(L(),n.lineTo(j,Q),b=ae,p=0,x=E=Q),A=Q}L()}function Tb(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?jZ:BZ}function UZ(n){return n.stepped?kQ:n.tension||n.cubicInterpolationMode==="monotone"?DQ:ld}function VZ(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),UO(n,e.options),n.stroke(r)}function zZ(n,e,t,i){const{segments:r,options:s}=e,a=Tb(e);for(const l of r)UO(n,s,l.style),n.beginPath(),a(n,e,l,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const HZ=typeof Path2D=="function";function qZ(n,e,t,i){HZ&&!e.options.segment?VZ(n,e,t,i):zZ(n,e,t,i)}class Ly extends dh{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;EQ(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=BQ(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,a=TO(this,{property:t,start:r,end:r});if(!a.length)return;const l=[],c=UZ(i);let h,f;for(h=0,f=a.length;h<f;++h){const{start:p,end:_}=a[h],m=s[p],b=s[_];if(m===b){l.push(m);continue}const x=Math.abs((r-m[t])/(b[t]-m[t])),E=c(m,b,x,i.stepped);E[t]=e[t],l.push(E)}return l.length===1?l[0]:l}pathSegment(e,t,i){return Tb(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=Tb(this);let a=this._loop;t=t||0,i=i||this.points.length-t;for(const l of r)a&=s(e,this,l,{start:t,end:t+i-1});return!!a}draw(e,t,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),qZ(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function s6(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class WZ extends dh{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return s6(this,e,"x",t)}inYRange(e,t){return s6(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!Hu(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,bb(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function zO(n,e){const{x:t,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let l,c,h,f,p;return n.horizontal?(p=a/2,l=Math.min(t,r),c=Math.max(t,r),h=i-p,f=i+p):(p=s/2,l=t-p,c=t+p,h=Math.min(i,r),f=Math.max(i,r)),{left:l,top:h,right:c,bottom:f}}function nf(n,e,t,i){return n?0:$s(e,t,i)}function GZ(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,s=pO(i);return{t:nf(r.top,s.top,0,t),r:nf(r.right,s.right,0,e),b:nf(r.bottom,s.bottom,0,t),l:nf(r.left,s.left,0,e)}}function $Z(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=gd(r),a=Math.min(e,t),l=n.borderSkipped,c=i||Qn(r);return{topLeft:nf(!c||l.top||l.left,s.topLeft,0,a),topRight:nf(!c||l.top||l.right,s.topRight,0,a),bottomLeft:nf(!c||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:nf(!c||l.bottom||l.right,s.bottomRight,0,a)}}function YZ(n){const e=zO(n),t=e.right-e.left,i=e.bottom-e.top,r=GZ(n,t/2,i/2),s=$Z(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function V5(n,e,t,i){const r=e===null,s=t===null,l=n&&!(r&&s)&&zO(n,i);return l&&(r||Vu(e,l.left,l.right))&&(s||Vu(t,l.top,l.bottom))}function KZ(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function XZ(n,e){n.rect(e.x,e.y,e.w,e.h)}function z5(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,a=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+a,radius:n.radius}}class QZ extends dh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=YZ(this),l=KZ(a.radius)?qm:XZ;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),l(e,z5(a,t,s)),e.clip(),l(e,z5(s,-t,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,z5(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return V5(this,e,t,i)}inXRange(e,t){return V5(this,e,null,t)}inYRange(e,t){return V5(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var JZ=Object.freeze({__proto__:null,ArcElement:PZ,BarElement:QZ,LineElement:Ly,PointElement:WZ});const Ab=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],a6=Ab.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function HO(n){return Ab[n%Ab.length]}function qO(n){return a6[n%a6.length]}function ZZ(n,e){return n.borderColor=HO(e),n.backgroundColor=qO(e),++e}function eee(n,e){return n.backgroundColor=n.data.map(()=>HO(e++)),e}function tee(n,e){return n.backgroundColor=n.data.map(()=>qO(e++)),e}function nee(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof US?e=eee(t,e):r instanceof IO?e=tee(t,e):r&&(e=ZZ(t,e))}}function o6(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function iee(n){return n&&(n.borderColor||n.backgroundColor)}function ree(){return br.borderColor!=="rgba(0,0,0,0.1)"||br.backgroundColor!=="rgba(0,0,0,0.1)"}var see={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r,a=o6(i)||iee(r)||s&&o6(s)||ree();if(!t.forceOverride&&a)return;const l=nee(n);i.forEach(l)}};function aee(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const a=[],l=(t-2)/(s-2);let c=0;const h=e+t-1;let f=e,p,_,m,b,x;for(a[c++]=n[f],p=0;p<s-2;p++){let E=0,A=0,P;const L=Math.floor((p+1)*l)+1+e,j=Math.min(Math.floor((p+2)*l)+1,t)+e,Q=j-L;for(P=L;P<j;P++)E+=n[P].x,A+=n[P].y;E/=Q,A/=Q;const ae=Math.floor(p*l)+1+e,F=Math.min(Math.floor((p+1)*l)+1,t)+e,{x:R,y:N}=n[f];for(m=b=-1,P=ae;P<F;P++)b=.5*Math.abs((R-E)*(n[P].y-N)-(R-n[P].x)*(A-N)),b>m&&(m=b,_=n[P],x=P);a[c++]=_,f=x}return a[c++]=n[h],a}function oee(n,e,t,i){let r=0,s=0,a,l,c,h,f,p,_,m,b,x;const E=[],A=e+t-1,P=n[e].x,j=n[A].x-P;for(a=e;a<e+t;++a){l=n[a],c=(l.x-P)/j*i,h=l.y;const Q=c|0;if(Q===f)h<b?(b=h,p=a):h>x&&(x=h,_=a),r=(s*r+l.x)/++s;else{const ae=a-1;if(!qn(p)&&!qn(_)){const F=Math.min(p,_),R=Math.max(p,_);F!==m&&F!==ae&&E.push({...n[F],x:r}),R!==m&&R!==ae&&E.push({...n[R],x:r})}a>0&&ae!==m&&E.push(n[ae]),E.push(l),f=Q,s=0,b=x=h,p=_=m=a}}return E}function WO(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function l6(n){n.data.datasets.forEach(e=>{WO(e)})}function lee(n,e){const t=e.length;let i=0,r;const{iScale:s}=n,{min:a,max:l,minDefined:c,maxDefined:h}=s.getUserBounds();return c&&(i=$s(zu(e,s.axis,a).lo,0,t-1)),h?r=$s(zu(e,s.axis,l).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var cee={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){l6(n);return}const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:l}=r,c=n.getDatasetMeta(s),h=a||r.data;if(Xg([l,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const f=n.scales[c.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:p,count:_}=lee(c,h);const m=t.threshold||4*i;if(_<=m){WO(r);return}qn(a)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let b;switch(t.algorithm){case"lttb":b=aee(h,p,_,i,t);break;case"min-max":b=oee(h,p,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=b})},destroy(n){l6(n)}};function uee(n,e,t){const i=n.segments,r=n.points,s=e.points,a=[];for(const l of i){let{start:c,end:h}=l;h=Oy(c,h,r);const f=Cb(t,r[c],r[h],l.loop);if(!e.segments){a.push({source:l,target:f,start:r[c],end:r[h]});continue}const p=TO(e,f);for(const _ of p){const m=Cb(t,s[_.start],s[_.end],_.loop),b=SO(l,r,m);for(const x of b)a.push({source:x,target:_,start:{[t]:c6(f,m,"start",Math.max)},end:{[t]:c6(f,m,"end",Math.min)}})}}return a}function Cb(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=Ia(r),s=Ia(s)),{property:n,start:r,end:s}}function hee(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:l})=>{l=Oy(a,l,r);const c=r[a],h=r[l];i!==null?(s.push({x:c.x,y:i}),s.push({x:h.x,y:i})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:h.y}))}),s}function Oy(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function c6(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function GO(n,e){let t=[],i=!1;return wr(n)?(i=!0,t=n):t=hee(n,e),t.length?new Ly({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function u6(n){return n&&n.fill!==!1}function fee(n,e,t){let r=n[e].fill;const s=[e];let a;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Hr(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function dee(n,e,t){const i=_ee(n);if(Qn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Hr(r)&&Math.floor(r)===r?pee(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function pee(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function gee(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Qn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function mee(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Qn(n)?i=n.value:i=e.getBaseValue(),i}function _ee(n){const e=n.options,t=e.fill;let i=Rn(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function vee(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,a=i.points,l=yee(e,t);l.push(GO({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){const h=s[c];for(let f=h.start;f<=h.end;f++)xee(r,a[f],l)}return new Ly({points:r,options:{}})}function yee(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function xee(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:a,last:l,point:c}=wee(s,e,"x");if(!(!c||a&&l)){if(a)i.unshift(c);else if(n.push(c),!l)break}}n.push(...i)}function wee(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,a=n.points;let l=!1,c=!1;for(let h=0;h<s.length;h++){const f=s[h],p=a[f.start][t],_=a[f.end][t];if(Vu(r,p,_)){l=r===p,c=r===_;break}}return{first:l,last:c,point:i}}class $O{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:a}=this;return t=t||{start:0,end:ur},e.arc(r,s,a,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function bee(n){const{chart:e,fill:t,line:i}=n;if(Hr(t))return Eee(e,t);if(t==="stack")return vee(n);if(t==="shape")return!0;const r=See(n);return r instanceof $O?r:GO(r,i)}function Eee(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function See(n){return(n.scale||{}).getPointPositionForValue?Aee(n):Tee(n)}function Tee(n){const{scale:e={},fill:t}=n,i=gee(t,e);if(Hr(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function Aee(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=mee(t,e,s),l=[];if(i.grid.circular){const c=e.getPointPositionForValue(0,s);return new $O({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<r;++c)l.push(e.getPointPositionForValue(c,a));return l}function H5(n,e,t){const i=bee(e),{chart:r,index:s,line:a,scale:l,axis:c}=e,h=a.options,f=h.fill,p=h.backgroundColor,{above:_=p,below:m=p}=f||{},b=r.getDatasetMeta(s),x=AO(r,b);i&&a.points.length&&(Ny(n,t),Cee(n,{line:a,target:i,above:_,below:m,area:t,scale:l,axis:c,clip:x}),Ry(n))}function Cee(n,e){const{line:t,target:i,above:r,below:s,area:a,scale:l,clip:c}=e,h=t._loop?"angle":e.axis;n.save();let f=s;s!==r&&(h==="x"?(h6(n,i,a.top),q5(n,{line:t,target:i,color:r,scale:l,property:h,clip:c}),n.restore(),n.save(),h6(n,i,a.bottom)):h==="y"&&(f6(n,i,a.left),q5(n,{line:t,target:i,color:s,scale:l,property:h,clip:c}),n.restore(),n.save(),f6(n,i,a.right),f=r)),q5(n,{line:t,target:i,color:f,scale:l,property:h,clip:c}),n.restore()}function h6(n,e,t){const{segments:i,points:r}=e;let s=!0,a=!1;n.beginPath();for(const l of i){const{start:c,end:h}=l,f=r[c],p=r[Oy(c,h,r)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),a=!!e.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(p.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function f6(n,e,t){const{segments:i,points:r}=e;let s=!0,a=!1;n.beginPath();for(const l of i){const{start:c,end:h}=l,f=r[c],p=r[Oy(c,h,r)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(t,f.y),n.lineTo(f.x,f.y)),a=!!e.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(t,p.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function q5(n,e){const{line:t,target:i,property:r,color:s,scale:a,clip:l}=e,c=uee(t,i,r);for(const{source:h,target:f,start:p,end:_}of c){const{style:{backgroundColor:m=s}={}}=h,b=i!==!0;n.save(),n.fillStyle=m,Nee(n,a,l,b&&Cb(r,p,_)),n.beginPath();const x=!!t.pathSegment(n,h);let E;if(b){x?n.closePath():d6(n,i,_,r);const A=!!i.pathSegment(n,f,{move:x,reverse:!0});E=x&&A,E||d6(n,i,p,r)}n.closePath(),n.fill(E?"evenodd":"nonzero"),n.restore()}}function Nee(n,e,t,i){const r=e.chart.chartArea,{property:s,start:a,end:l}=i||{};if(s==="x"||s==="y"){let c,h,f,p;s==="x"?(c=a,h=r.top,f=l,p=r.bottom):(c=r.left,h=a,f=r.right,p=l),n.beginPath(),t&&(c=Math.max(c,t.left),f=Math.min(f,t.right),h=Math.max(h,t.top),p=Math.min(p,t.bottom)),n.rect(c,h,f-c,p-h),n.clip()}}function d6(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var Ree={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,a,l,c;for(a=0;a<i;++a)s=n.getDatasetMeta(a),l=s.dataset,c=null,l&&l.options&&l instanceof Ly&&(c={visible:n.isDatasetVisible(a),index:a,fill:dee(l,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,r.push(c);for(a=0;a<i;++a)c=r[a],!(!c||c.fill===!1)&&(c.fill=fee(r,a,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const l=r[a].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&H5(n.ctx,l,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;u6(s)&&H5(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!u6(i)||t.drawTime!=="beforeDatasetDraw"||H5(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const p6=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},Iee=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class g6 extends dh{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=tr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Rs(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=p6(i,s);let h,f;t.font=r.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(a,s,l,c)+10):(f=this.maxHeight,h=this._fitCols(a,r,l,c)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],f=r+l;let p=e;s.textAlign="left",s.textBaseline="middle";let _=-1,m=-f;return this.legendItems.forEach((b,x)=>{const E=i+t/2+s.measureText(b.text).width;(x===0||h[h.length-1]+E+2*l>a)&&(p+=f,h[h.length-(x>0?0:1)]=0,m+=f,_++),c[x]={left:0,top:m,row:_,width:E,height:r},h[h.length-1]+=E+l}),p}_fitCols(e,t,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],f=a-e;let p=l,_=0,m=0,b=0,x=0;return this.legendItems.forEach((E,A)=>{const{itemWidth:P,itemHeight:L}=kee(i,t,s,E,r);A>0&&m+L+2*l>f&&(p+=_+l,h.push({width:_,height:m}),b+=_+l,x++,_=m=0),c[A]={left:b,top:m,col:x,width:P,height:L},_=Math.max(_,P),m+=L+l}),p+=_,h.push({width:_,height:m}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,a=tp(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=Na(i,this.left+r,this.right-this.lineWidths[l]);for(const h of t)l!==h.row&&(l=h.row,c=Na(i,this.left+r,this.right-this.lineWidths[l])),h.top+=this.top+e+r,h.left=a.leftForLtr(a.x(c),h.width),c+=h.width+r}else{let l=0,c=Na(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const h of t)h.col!==l&&(l=h.col,c=Na(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),h.top=c,h.left+=this.left+r,h.left=a.leftForLtr(a.x(h.left),h.width),c+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ny(e,this),this._draw(),Ry(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,l=br.color,c=tp(e.rtl,this.left,this.width),h=Rs(a.font),{padding:f}=a,p=h.size,_=p/2;let m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:b,boxHeight:x,itemHeight:E}=p6(a,p),A=function(ae,F,R){if(isNaN(b)||b<=0||isNaN(x)||x<0)return;r.save();const N=Rn(R.lineWidth,1);if(r.fillStyle=Rn(R.fillStyle,l),r.lineCap=Rn(R.lineCap,"butt"),r.lineDashOffset=Rn(R.lineDashOffset,0),r.lineJoin=Rn(R.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=Rn(R.strokeStyle,l),r.setLineDash(Rn(R.lineDash,[])),a.usePointStyle){const U={radius:x*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:N},I=c.xPlus(ae,b/2),M=F+_;dO(r,U,I,M,a.pointStyleWidth&&b)}else{const U=F+Math.max((p-x)/2,0),I=c.leftForLtr(ae,b),M=gd(R.borderRadius);r.beginPath(),Object.values(M).some(z=>z!==0)?qm(r,{x:I,y:U,w:b,h:x,radius:M}):r.rect(I,U,b,x),r.fill(),N!==0&&r.stroke()}r.restore()},P=function(ae,F,R){Cd(r,R.text,ae,F+E/2,h,{strikethrough:R.hidden,textAlign:c.textAlign(R.textAlign)})},L=this.isHorizontal(),j=this._computeTitleHeight();L?m={x:Na(s,this.left+f,this.right-i[0]),y:this.top+f+j,line:0}:m={x:this.left+f,y:Na(s,this.top+j+f,this.bottom-t[0].height),line:0},wO(this.ctx,e.textDirection);const Q=E+f;this.legendItems.forEach((ae,F)=>{r.strokeStyle=ae.fontColor,r.fillStyle=ae.fontColor;const R=r.measureText(ae.text).width,N=c.textAlign(ae.textAlign||(ae.textAlign=a.textAlign)),U=b+_+R;let I=m.x,M=m.y;c.setWidth(this.width),L?F>0&&I+U+f>this.right&&(M=m.y+=Q,m.line++,I=m.x=Na(s,this.left+f,this.right-i[m.line])):F>0&&M+Q>this.bottom&&(I=m.x=I+t[m.line].width+f,m.line++,M=m.y=Na(s,this.top+j+f,this.bottom-t[m.line].height));const z=c.x(I);if(A(z,M,ae),I=VX(N,I+b+_,L?I+U:this.right,e.rtl),P(c.x(I),M,ae),L)m.x+=U+f;else if(typeof ae.text!="string"){const de=h.lineHeight;m.y+=YO(ae,de)+f}else m.y+=Q}),bO(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Rs(t.font),r=ja(t.padding);if(!t.display)return;const s=tp(e.rtl,this.left,this.width),a=this.ctx,l=t.position,c=i.size/2,h=r.top+c;let f,p=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),f=this.top+h,p=Na(e.align,p,this.right-_);else{const b=this.columnSizes.reduce((x,E)=>Math.max(x,E.height),0);f=h+Na(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const m=Na(l,p,p+_);a.textAlign=s.textAlign(DS(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,Cd(a,t.text,m,f,i)}_computeTitleHeight(){const e=this.options.title,t=Rs(e.font),i=ja(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Vu(e,this.left,this.right)&&Vu(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Vu(e,r.left,r.left+r.width)&&Vu(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!Oee(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=Iee(r,i);r&&!s&&tr(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&tr(t.onHover,[e,i,this],this)}else i&&tr(t.onClick,[e,i,this],this)}}function kee(n,e,t,i,r){const s=Dee(i,n,e,t),a=Lee(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function Dee(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+i.measureText(r).width}function Lee(n,e,t){let i=n;return typeof e.text!="string"&&(i=YO(e,t)),i}function YO(n,e){const t=n.text?n.text.length:0;return e*t}function Oee(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Pee={id:"legend",_element:g6,start(n,e,t){const i=n.legend=new g6({ctx:n.ctx,options:t,chart:n});Pa.configure(n,i,t),Pa.addBox(n,i)},stop(n){Pa.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Pa.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(t?0:void 0),f=ja(h.borderWidth);return{text:e[c.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:a&&(l||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class zS extends dh{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=wr(i.text)?i.text.length:1;this._padding=ja(i.padding);const s=r*Rs(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:a}=this,l=a.align;let c=0,h,f,p;return this.isHorizontal()?(f=Na(l,i,s),p=t+e,h=s-i):(a.position==="left"?(f=i+e,p=Na(l,r,t),c=yi*-.5):(f=s-e,p=Na(l,t,r),c=yi*.5),h=r-t),{titleX:f,titleY:p,maxWidth:h,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Rs(t.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:h}=this._drawArgs(s);Cd(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:h,textAlign:DS(t.align),textBaseline:"middle",translation:[a,l]})}}function Mee(n,e){const t=new zS({ctx:n.ctx,options:e,chart:n});Pa.configure(n,t,e),Pa.addBox(n,t),n.titleBlock=t}var Fee={id:"title",_element:zS,start(n,e,t){Mee(n,t)},stop(n){const e=n.titleBlock;Pa.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Pa.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const q2=new WeakMap;var Bee={id:"subtitle",start(n,e,t){const i=new zS({ctx:n.ctx,options:t,chart:n});Pa.configure(n,i,t),Pa.addBox(n,i),q2.set(n,i)},stop(n){Pa.removeBox(n,q2.get(n)),q2.delete(n)},beforeUpdate(n,e,t){const i=q2.get(n);Pa.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jg={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),r+=c.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=n.length;s<a;++s){const c=n[s].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),f=xb(e,h);f<r&&(r=f,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Mc(n,e){return e&&(wr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ou(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function jee(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function m6(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:l}=e,c=Rs(e.bodyFont),h=Rs(e.titleFont),f=Rs(e.footerFont),p=s.length,_=r.length,m=i.length,b=ja(e.padding);let x=b.height,E=0,A=i.reduce((j,Q)=>j+Q.before.length+Q.lines.length+Q.after.length,0);if(A+=n.beforeBody.length+n.afterBody.length,p&&(x+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),A){const j=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=m*j+(A-m)*c.lineHeight+(A-1)*e.bodySpacing}_&&(x+=e.footerMarginTop+_*f.lineHeight+(_-1)*e.footerSpacing);let P=0;const L=function(j){E=Math.max(E,t.measureText(j).width+P)};return t.save(),t.font=h.string,Oi(n.title,L),t.font=c.string,Oi(n.beforeBody.concat(n.afterBody),L),P=e.displayColors?a+2+e.boxPadding:0,Oi(i,j=>{Oi(j.before,L),Oi(j.lines,L),Oi(j.after,L)}),P=0,t.font=f.string,Oi(n.footer,L),t.restore(),E+=b.width,{width:E,height:x}}function Uee(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function Vee(n,e,t,i){const{x:r,width:s}=i,a=t.caretSize+t.caretPadding;if(n==="left"&&r+s+a>e.width||n==="right"&&r-s-a<0)return!0}function zee(n,e,t,i){const{x:r,width:s}=t,{width:a,chartArea:{left:l,right:c}}=n;let h="center";return i==="center"?h=r<=(l+c)/2?"left":"right":r<=s/2?h="left":r>=a-s/2&&(h="right"),Vee(h,n,e,t)&&(h="center"),h}function _6(n,e,t){const i=t.yAlign||e.yAlign||Uee(n,t);return{xAlign:t.xAlign||e.xAlign||zee(n,e,t,i),yAlign:i}}function Hee(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function qee(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function v6(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:c}=t,h=r+s,{topLeft:f,topRight:p,bottomLeft:_,bottomRight:m}=gd(a);let b=Hee(e,l);const x=qee(e,c,h);return c==="center"?l==="left"?b+=h:l==="right"&&(b-=h):l==="left"?b-=Math.max(f,_)+r:l==="right"&&(b+=Math.max(p,m)+r),{x:$s(b,0,i.width-e.width),y:$s(x,0,i.height-e.height)}}function W2(n,e,t){const i=ja(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function y6(n){return Mc([],Ou(n))}function Wee(n,e,t){return Pf(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function x6(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const KO={beforeTitle:Ru,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ru,beforeBody:Ru,beforeLabel:Ru,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return qn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ru,afterBody:Ru,beforeFooter:Ru,footer:Ru,afterFooter:Ru};function bo(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?KO[e].call(t,i):r}class w6 extends dh{static positioners=Jg;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new CO(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Wee(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=bo(i,"beforeTitle",this,e),s=bo(i,"title",this,e),a=bo(i,"afterTitle",this,e);let l=[];return l=Mc(l,Ou(r)),l=Mc(l,Ou(s)),l=Mc(l,Ou(a)),l}getBeforeBody(e,t){return y6(bo(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Oi(e,s=>{const a={before:[],lines:[],after:[]},l=x6(i,s);Mc(a.before,Ou(bo(l,"beforeLabel",this,s))),Mc(a.lines,bo(l,"label",this,s)),Mc(a.after,Ou(bo(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,t){return y6(bo(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=bo(i,"beforeFooter",this,e),s=bo(i,"footer",this,e),a=bo(i,"afterFooter",this,e);let l=[];return l=Mc(l,Ou(r)),l=Mc(l,Ou(s)),l=Mc(l,Ou(a)),l}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],a=[];let l=[],c,h;for(c=0,h=t.length;c<h;++c)l.push(jee(this.chart,t[c]));return e.filter&&(l=l.filter((f,p,_)=>e.filter(f,p,_,i))),e.itemSort&&(l=l.sort((f,p)=>e.itemSort(f,p,i))),Oi(l,f=>{const p=x6(e.callbacks,f);r.push(bo(p,"labelColor",this,f)),s.push(bo(p,"labelPointStyle",this,f)),a.push(bo(p,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=Jg[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=m6(this,i),h=Object.assign({},l,c),f=_6(this.chart,i,h),p=v6(i,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:h,bottomLeft:f,bottomRight:p}=gd(l),{x:_,y:m}=e,{width:b,height:x}=t;let E,A,P,L,j,Q;return s==="center"?(j=m+x/2,r==="left"?(E=_,A=E-a,L=j+a,Q=j-a):(E=_+b,A=E+a,L=j-a,Q=j+a),P=E):(r==="left"?A=_+Math.max(c,f)+a:r==="right"?A=_+b-Math.max(h,p)-a:A=this.caretX,s==="top"?(L=m,j=L-a,E=A-a,P=A+a):(L=m+x,j=L+a,E=A+a,P=A-a),Q=L),{x1:E,x2:A,x3:P,y1:L,y2:j,y3:Q}}drawTitle(e,t,i){const r=this.title,s=r.length;let a,l,c;if(s){const h=tp(i.rtl,this.x,this.width);for(e.x=W2(this,i.titleAlign,i),t.textAlign=h.textAlign(i.titleAlign),t.textBaseline="middle",a=Rs(i.titleFont),l=i.titleSpacing,t.fillStyle=i.titleColor,t.font=a.string,c=0;c<s;++c)t.fillText(r[c],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,t,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:h}=s,f=Rs(s.bodyFont),p=W2(this,"left",s),_=r.x(p),m=c<f.lineHeight?(f.lineHeight-c)/2:0,b=t.y+m;if(s.usePointStyle){const x={radius:Math.min(h,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},E=r.leftForLtr(_,h)+h/2,A=b+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,bb(e,x,E,A),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,bb(e,x,E,A)}else{e.lineWidth=Qn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=r.leftForLtr(_,h),E=r.leftForLtr(r.xPlus(_,1),h-2),A=gd(a.borderRadius);Object.values(A).some(P=>P!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,qm(e,{x,y:b,w:h,h:c,radius:A}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),qm(e,{x:E,y:b+1,w:h-2,h:c-2,radius:A}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,b,h,c),e.strokeRect(x,b,h,c),e.fillStyle=a.backgroundColor,e.fillRect(E,b+1,h-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:h,boxPadding:f}=i,p=Rs(i.bodyFont);let _=p.lineHeight,m=0;const b=tp(i.rtl,this.x,this.width),x=function(R){t.fillText(R,b.x(e.x+m),e.y+_/2),e.y+=_+s},E=b.textAlign(a);let A,P,L,j,Q,ae,F;for(t.textAlign=a,t.textBaseline="middle",t.font=p.string,e.x=W2(this,E,i),t.fillStyle=i.bodyColor,Oi(this.beforeBody,x),m=l&&E!=="right"?a==="center"?h/2+f:h+2+f:0,j=0,ae=r.length;j<ae;++j){for(A=r[j],P=this.labelTextColors[j],t.fillStyle=P,Oi(A.before,x),L=A.lines,l&&L.length&&(this._drawColorBox(t,e,j,b,i),_=Math.max(p.lineHeight,c)),Q=0,F=L.length;Q<F;++Q)x(L[Q]),_=p.lineHeight;Oi(A.after,x)}m=0,_=p.lineHeight,Oi(this.afterBody,x),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let a,l;if(s){const c=tp(i.rtl,this.x,this.width);for(e.x=W2(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",a=Rs(i.footerFont),t.fillStyle=i.footerColor,t.font=a.string,l=0;l<s;++l)t.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:h,height:f}=i,{topLeft:p,topRight:_,bottomLeft:m,bottomRight:b}=gd(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(l+p,c),a==="top"&&this.drawCaret(e,t,i,r),t.lineTo(l+h-_,c),t.quadraticCurveTo(l+h,c,l+h,c+_),a==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(l+h,c+f-b),t.quadraticCurveTo(l+h,c+f,l+h-b,c+f),a==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(l+m,c+f),t.quadraticCurveTo(l,c+f,l,c+f-m),a==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(l,c+p),t.quadraticCurveTo(l,c,l+p,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=Jg[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=m6(this,e),c=Object.assign({},a,this._size),h=_6(t,e,c),f=v6(e,c,h,t);(r._to!==f.x||s._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=ja(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),wO(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),bO(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:l,index:c})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[c],index:c}}),s=!pv(i,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,i),l=this._positionChanged(a,e),c=t||!pv(a,s)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,a=Jg[s.position].call(this,e,t);return a!==!1&&(i!==a.x||r!==a.y)}}var Gee={id:"tooltip",_element:w6,positioners:Jg,afterInit(n,e,t){t&&(n.tooltip=new w6({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},$ee=Object.freeze({__proto__:null,Colors:see,Decimation:cee,Filler:Ree,Legend:Pee,SubTitle:Bee,Title:Fee,Tooltip:Gee});const Yee=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Kee(n,e,t,i){const r=n.indexOf(e);if(r===-1)return Yee(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const Xee=(n,e)=>n===null?null:$s(Math.round(n),0,e);function b6(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Qee extends Bd{static id="category";static defaults={ticks:{callback:b6}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qn(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Kee(i,e,Rn(t,e),this._addedLabels),Xee(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return b6.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Jee(n,e){const t=[],{bounds:r,step:s,min:a,max:l,precision:c,count:h,maxTicks:f,maxDigits:p,includeBounds:_}=n,m=s||1,b=f-1,{min:x,max:E}=e,A=!qn(a),P=!qn(l),L=!qn(h),j=(E-x)/(p+1);let Q=mN((E-x)/b/m)*m,ae,F,R,N;if(Q<1e-14&&!A&&!P)return[{value:x},{value:E}];N=Math.ceil(E/Q)-Math.floor(x/Q),N>b&&(Q=mN(N*Q/b/m)*m),qn(c)||(ae=Math.pow(10,c),Q=Math.ceil(Q*ae)/ae),r==="ticks"?(F=Math.floor(x/Q)*Q,R=Math.ceil(E/Q)*Q):(F=x,R=E),A&&P&&s&&OX((l-a)/s,Q/1e3)?(N=Math.round(Math.min((l-a)/Q,f)),Q=(l-a)/N,F=a,R=l):L?(F=A?a:F,R=P?l:R,N=h-1,Q=(R-F)/N):(N=(R-F)/Q,dm(N,Math.round(N),Q/1e3)?N=Math.round(N):N=Math.ceil(N));const U=Math.max(_N(Q),_N(F));ae=Math.pow(10,qn(c)?U:c),F=Math.round(F*ae)/ae,R=Math.round(R*ae)/ae;let I=0;for(A&&(_&&F!==a?(t.push({value:a}),F<a&&I++,dm(Math.round((F+I*Q)*ae)/ae,a,E6(a,j,n))&&I++):F<a&&I++);I<N;++I){const M=Math.round((F+I*Q)*ae)/ae;if(P&&M>l)break;t.push({value:M})}return P&&_&&R!==l?t.length&&dm(t[t.length-1].value,l,E6(l,j,n))?t[t.length-1].value=l:t.push({value:l}):(!P||R===l)&&t.push({value:R}),t}function E6(n,e,{horizontal:t,minRotation:i}){const r=rc(i),s=(t?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class wv extends Bd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=c=>r=t?r:c,l=c=>s=i?s:c;if(e){const c=Xc(r),h=Xc(s);c<0&&h<0?l(0):c>0&&h>0&&a(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||a(r-c)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=Jee(r,s);return e.bounds==="ticks"&&rO(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return S1(e,this.chart.options.locale,this.options.ticks.format)}}class Zee extends wv{static id="linear";static defaults={ticks:{callback:Cy.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Hr(e)?e:0,this.max=Hr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=rc(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Gm=n=>Math.floor(ef(n)),rd=(n,e)=>Math.pow(10,Gm(n)+e);function S6(n){return n/Math.pow(10,Gm(n))===1}function T6(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function ete(n,e){const t=e-n;let i=Gm(t);for(;T6(n,e,i)>10;)i++;for(;T6(n,e,i)<10;)i--;return Math.min(i,Gm(n))}function tte(n,{min:e,max:t}){e=qo(n.min,e);const i=[],r=Gm(e);let s=ete(e,t),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=r>s?Math.pow(10,r):0,h=Math.round((e-c)*a)/a,f=Math.floor((e-c)/l/10)*l*10;let p=Math.floor((h-f)/Math.pow(10,s)),_=qo(n.min,Math.round((c+f+p*Math.pow(10,s))*a)/a);for(;_<t;)i.push({value:_,major:S6(_),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,a=s>=0?1:a),_=Math.round((c+f+p*Math.pow(10,s))*a)/a;const m=qo(n.max,_);return i.push({value:m,major:S6(m),significand:p}),i}class nte extends Bd{static id="logarithmic";static defaults={ticks:{callback:Cy.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=wv.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Hr(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Hr(e)?Math.max(0,e):null,this.max=Hr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Hr(this._userMin)&&(this.min=e===rd(this.min,0)?rd(this.min,-1):rd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=e?i:l,a=l=>r=t?r:l;i===r&&(i<=0?(s(1),a(10)):(s(rd(i,-1)),a(rd(r,1)))),i<=0&&s(rd(r,-1)),r<=0&&a(rd(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=tte(t,this);return e.bounds==="ticks"&&rO(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":S1(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ef(e),this._valueRange=ef(this.max)-ef(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ef(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Nb(n){const e=n.ticks;if(e.display&&n.display){const t=ja(e.backdropPadding);return Rn(e.font&&e.font.size,br.font.size)+t.height}return 0}function ite(n,e,t){return t=wr(t)?t:[t],{w:QX(n,e.string,t),h:t.length*e.lineHeight}}function A6(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function rte(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?yi/s:0;for(let c=0;c<s;c++){const h=a.setContext(n.getPointLabelContext(c));r[c]=h.padding;const f=n.getPointPosition(c,n.drawingArea+r[c],l),p=Rs(h.font),_=ite(n.ctx,p,n._pointLabels[c]);i[c]=_;const m=Ia(n.getIndexAngle(c)+l),b=Math.round(IS(m)),x=A6(b,f.x,_.w,0,180),E=A6(b,f.y,_.h,90,270);ste(t,e,m,x,E)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=lte(n,i,r)}function ste(n,e,t,i,r){const s=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,c=0;i.start<e.l?(l=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+l)),r.start<e.t?(c=(e.t-r.start)/a,n.t=Math.min(n.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/a,n.b=Math.max(n.b,e.b+c))}function ate(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:a,size:l}=t,c=n.getPointPosition(e,i+r+a,s),h=Math.round(IS(Ia(c.angle+ns))),f=hte(c.y,l.h,h),p=cte(h),_=ute(c.x,l.w,p);return{visible:!0,x:c.x,y:f,textAlign:p,left:_,top:f,right:_+l.w,bottom:f+l.h}}function ote(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:s}=n;return!(Hu({x:t,y:i},e)||Hu({x:t,y:s},e)||Hu({x:r,y:i},e)||Hu({x:r,y:s},e))}function lte(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:l}=s.pointLabels,c={extra:Nb(s)/2,additionalAngle:a?yi/r:0};let h;for(let f=0;f<r;f++){c.padding=t[f],c.size=e[f];const p=ate(n,f,c);i.push(p),l==="auto"&&(p.visible=ote(p,h),p.visible&&(h=p))}return i}function cte(n){return n===0||n===180?"center":n<180?"left":"right"}function ute(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function hte(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function fte(n,e,t){const{left:i,top:r,right:s,bottom:a}=t,{backdropColor:l}=e;if(!qn(l)){const c=gd(e.borderRadius),h=ja(e.backdropPadding);n.fillStyle=l;const f=i-h.left,p=r-h.top,_=s-i+h.width,m=a-r+h.height;Object.values(c).some(b=>b!==0)?(n.beginPath(),qm(n,{x:f,y:p,w:_,h:m,radius:c}),n.fill()):n.fillRect(f,p,_,m)}}function dte(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(n.getPointLabelContext(r));fte(t,a,s);const l=Rs(a.font),{x:c,y:h,textAlign:f}=s;Cd(t,n._pointLabels[r],c,h+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}function XO(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,ur);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,e),r.lineTo(s.x,s.y)}}function pte(n,e,t,i,r){const s=n.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!i||!l||!c||t<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),XO(n,t,a,i),s.closePath(),s.stroke(),s.restore())}function gte(n,e,t){return Pf(n,{label:t,index:e,type:"pointLabel"})}class mte extends wv{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cy.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ja(Nb(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Hr(e)&&!isNaN(e)?e:0,this.max=Hr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Nb(this.options))}generateTickLabels(e){wv.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=tr(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?rte(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){const t=ur/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ia(e*t+rc(i))}getDistanceFromCenterForValue(e){if(qn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(qn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return gte(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-ns+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),XO(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,a=this._pointLabels.length;let l,c,h;if(t.pointLabels.display&&dte(this,a),r.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){c=this.getDistanceFromCenterForValue(f.value);const _=this.getContext(p),m=r.setContext(_),b=s.setContext(_);pte(this,m,c,a,b)}}),i.display){for(e.save(),l=a-1;l>=0;l--){const f=i.setContext(this.getPointLabelContext(l)),{color:p,lineWidth:_}=f;!_||!p||(e.lineWidth=_,e.strokeStyle=p,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),h=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const h=i.setContext(this.getContext(c)),f=Rs(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),h.showLabelBackdrop){e.font=f.string,a=e.measureText(l.label).width,e.fillStyle=h.backdropColor;const p=ja(h.backdropPadding);e.fillRect(-a/2-p.left,-s-f.size/2-p.top,a+p.width,f.size+p.height)}Cd(e,l.label,0,-s,f,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}const Py={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},So=Object.keys(Py);function C6(n,e){return n-e}function N6(n,e){if(qn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Hr(a)||(a=typeof i=="string"?t.parse(a,i):t.parse(a)),a===null?null:(r&&(a=r==="week"&&(bp(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,r)),+a)}function R6(n,e,t,i){const r=So.length;for(let s=So.indexOf(n);s<r-1;++s){const a=Py[So[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=i)return So[s]}return So[r-1]}function _te(n,e,t,i,r){for(let s=So.length-1;s>=So.indexOf(t);s--){const a=So[s];if(Py[a].common&&n._adapter.diff(r,i,a)>=e-1)return a}return So[t?So.indexOf(t):0]}function vte(n){for(let e=So.indexOf(n)+1,t=So.length;e<t;++e)if(Py[So[e]].common)return So[e]}function I6(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=kS(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function yte(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let l,c;for(l=s;l<=a;l=+r.add(l,1,i))c=t[l],c>=0&&(e[c].major=!0);return e}function k6(n,e,t){const i=[],r={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],r[l]=a,i.push({value:l,major:!1});return s===0||!t?i:yte(n,i,r,t)}class Rb extends Bd{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new xJ._date(e.adapters.date);r.init(t),fm(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:N6(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(h){!a&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!l&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Hr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=Hr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,l=BX(r,s,a);return this._unit=t.unit||(i.autoSkip?R6(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):_te(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:vte(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),k6(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=$s(t,0,a),i=$s(i,0,a),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||R6(s.minUnit,t,i,this._getLabelCapacity(t)),l=Rn(r.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,h=bp(c)||c===!0,f={};let p=t,_,m;if(h&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,h?"day":a),e.diff(i,t,a)>1e5*l)throw new Error(t+" and "+i+" are too far apart with stepSize of "+l+" "+a);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(_=p,m=0;_<i;_=+e.add(_,l,a),m++)I6(f,_,b);return(_===i||r.bounds==="ticks"||m===1)&&I6(f,_,b),Object.keys(f).sort(C6).map(x=>+x)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,a=t||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,i,r){const s=this.options,a=s.ticks.callback;if(a)return tr(a,[e,t,i],this);const l=s.time.displayFormats,c=this._unit,h=this._majorUnit,f=c&&l[c],p=h&&l[h],_=i[t],m=h&&p&&_&&_.major;return this._adapter.format(e,r||(m?p:f))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=rc(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,k6(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(N6(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oO(e.sort(C6))}}function G2(n,e,t){let i=0,r=n.length-1,s,a,l,c;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=zu(n,"pos",e)),{pos:s,time:l}=n[i],{pos:a,time:c}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=zu(n,"time",e)),{time:s,pos:l}=n[i],{time:a,pos:c}=n[r]);const h=a-s;return h?l+(c-l)*(e-s)/h:l}class xte extends Rb{static id="timeseries";static defaults=Rb.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=G2(t,this.min),this._tableRange=G2(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let a,l,c,h,f;for(a=0,l=e.length;a<l;++a)h=e[a],h>=t&&h<=i&&r.push(h);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)f=r[a+1],c=r[a-1],h=r[a],Math.round((f+c)/2)!==h&&s.push({time:h,pos:a/(l-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(G2(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return G2(this._table,i*this._tableRange+this._minPos,!0)}}var wte=Object.freeze({__proto__:null,CategoryScale:Qee,LinearScale:Zee,LogarithmicScale:nte,RadialLinearScale:mte,TimeScale:Rb,TimeSeriesScale:xte});const QO=[yJ,JZ,$ee,wte];Dy.register(...QO);const bte="modulepreload",Ete=function(n){return"/"+n},D6={},W5=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=c(t.map(h=>{if(h=Ete(h),h in D6)return;D6[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const _=document.createElement("link");if(_.rel=f?"stylesheet":bte,f||(_.as="script"),_.crossOrigin="",_.href=h,l&&_.setAttribute("nonce",l),document.head.appendChild(_),f)return new Promise((m,b)=>{_.addEventListener("load",m),_.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function Pi(n){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(n)}var hc=Uint8Array,Jo=Uint16Array,HS=Int32Array,qS=new hc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),WS=new hc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L6=new hc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JO=function(n,e){for(var t=new Jo(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new HS(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return{b:t,r}},ZO=JO(qS,2),Ste=ZO.b,Ib=ZO.r;Ste[28]=258,Ib[258]=28;var Tte=JO(WS,0),O6=Tte.r,kb=new Jo(32768);for(var cr=0;cr<32768;++cr){var Wh=(cr&43690)>>1|(cr&21845)<<1;Wh=(Wh&52428)>>2|(Wh&13107)<<2,Wh=(Wh&61680)>>4|(Wh&3855)<<4,kb[cr]=((Wh&65280)>>8|(Wh&255)<<8)>>1}var mm=(function(n,e,t){for(var i=n.length,r=0,s=new Jo(e);r<i;++r)n[r]&&++s[n[r]-1];var a=new Jo(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var l;if(t){l=new Jo(1<<e);var c=15-e;for(r=0;r<i;++r)if(n[r])for(var h=r<<4|n[r],f=e-n[r],p=a[n[r]-1]++<<f,_=p|(1<<f)-1;p<=_;++p)l[kb[p]>>c]=h}else for(l=new Jo(i),r=0;r<i;++r)n[r]&&(l[r]=kb[a[n[r]-1]++]>>15-n[r]);return l}),Nd=new hc(288);for(var cr=0;cr<144;++cr)Nd[cr]=8;for(var cr=144;cr<256;++cr)Nd[cr]=9;for(var cr=256;cr<280;++cr)Nd[cr]=7;for(var cr=280;cr<288;++cr)Nd[cr]=8;var bv=new hc(32);for(var cr=0;cr<32;++cr)bv[cr]=5;var Ate=mm(Nd,9,0),Cte=mm(bv,5,0),eP=function(n){return(n+7)/8|0},Nte=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new hc(n.subarray(e,t))},Iu=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},Ug=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},G5=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return{t:nP,l:0};if(r==1){var a=new hc(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(Q,ae){return Q.f-ae.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],h=0,f=1,p=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};f!=r-1;)l=t[t[h].f<t[p].f?h++:p++],c=t[h!=f&&t[h].f<t[p].f?h++:p++],t[f++]={s:-1,f:l.f+c.f,l,r:c};for(var _=s[0].s,i=1;i<r;++i)s[i].s>_&&(_=s[i].s);var m=new Jo(_+1),b=Db(t[f-1],m,0);if(b>e){var i=0,x=0,E=b-e,A=1<<E;for(s.sort(function(ae,F){return m[F.s]-m[ae.s]||ae.f-F.f});i<r;++i){var P=s[i].s;if(m[P]>e)x+=A-(1<<b-m[P]),m[P]=e;else break}for(x>>=E;x>0;){var L=s[i].s;m[L]<e?x-=1<<e-m[L]++-1:++i}for(;i>=0&&x;--i){var j=s[i].s;m[j]==e&&(--m[j],++x)}b=e}return{t:new hc(m),l:b}},Db=function(n,e,t){return n.s==-1?Math.max(Db(n.l,e,t+1),Db(n.r,e,t+1)):e[n.s]=t},P6=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Jo(++e),i=0,r=n[0],s=1,a=function(c){t[i++]=c},l=1;l<=e;++l)if(n[l]==r&&l!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=n[l]}return{c:t.subarray(0,i),n:e}},Vg=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},tP=function(n,e,t){var i=t.length,r=eP(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=t[s];return(r+4+i)*8},M6=function(n,e,t,i,r,s,a,l,c,h,f){Iu(e,f++,t),++r[256];for(var p=G5(r,15),_=p.t,m=p.l,b=G5(s,15),x=b.t,E=b.l,A=P6(_),P=A.c,L=A.n,j=P6(x),Q=j.c,ae=j.n,F=new Jo(19),R=0;R<P.length;++R)++F[P[R]&31];for(var R=0;R<Q.length;++R)++F[Q[R]&31];for(var N=G5(F,7),U=N.t,I=N.l,M=19;M>4&&!U[L6[M-1]];--M);var z=h+5<<3,de=Vg(r,Nd)+Vg(s,bv)+a,we=Vg(r,_)+Vg(s,x)+a+14+3*M+Vg(F,U)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&z<=de&&z<=we)return tP(e,f,n.subarray(c,c+h));var ce,ye,be,Ne;if(Iu(e,f,1+(we<de)),f+=2,we<de){ce=mm(_,m,0),ye=_,be=mm(x,E,0),Ne=x;var $e=mm(U,I,0);Iu(e,f,L-257),Iu(e,f+5,ae-1),Iu(e,f+10,M-4),f+=14;for(var R=0;R<M;++R)Iu(e,f+3*R,U[L6[R]]);f+=3*M;for(var se=[P,Q],k=0;k<2;++k)for(var G=se[k],R=0;R<G.length;++R){var W=G[R]&31;Iu(e,f,$e[W]),f+=U[W],W>15&&(Iu(e,f,G[R]>>5&127),f+=G[R]>>12)}}else ce=Ate,ye=Nd,be=Cte,Ne=bv;for(var R=0;R<l;++R){var Y=i[R];if(Y>255){var W=Y>>18&31;Ug(e,f,ce[W+257]),f+=ye[W+257],W>7&&(Iu(e,f,Y>>23&31),f+=qS[W]);var ne=Y&31;Ug(e,f,be[ne]),f+=Ne[ne],ne>3&&(Ug(e,f,Y>>5&8191),f+=WS[ne])}else Ug(e,f,ce[Y]),f+=ye[Y]}return Ug(e,f,ce[256]),f+ye[256]},Rte=new HS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nP=new hc(0),Ite=function(n,e,t,i,r,s){var a=s.z||n.length,l=new hc(i+a+5*(1+Math.ceil(a/7e3))+r),c=l.subarray(i,l.length-r),h=s.l,f=(s.r||0)&7;if(e){f&&(c[0]=s.r>>3);for(var p=Rte[e-1],_=p>>13,m=p&8191,b=(1<<t)-1,x=s.p||new Jo(32768),E=s.h||new Jo(b+1),A=Math.ceil(t/3),P=2*A,L=function(_t){return(n[_t]^n[_t+1]<<A^n[_t+2]<<P)&b},j=new HS(25e3),Q=new Jo(288),ae=new Jo(32),F=0,R=0,N=s.i||0,U=0,I=s.w||0,M=0;N+2<a;++N){var z=L(N),de=N&32767,we=E[z];if(x[de]=we,E[z]=de,I<=N){var ce=a-N;if((F>7e3||U>24576)&&(ce>423||!h)){f=M6(n,c,0,j,Q,ae,R,U,M,N-M,f),U=F=R=0,M=N;for(var ye=0;ye<286;++ye)Q[ye]=0;for(var ye=0;ye<30;++ye)ae[ye]=0}var be=2,Ne=0,$e=m,se=de-we&32767;if(ce>2&&z==L(N-se))for(var k=Math.min(_,ce)-1,G=Math.min(32767,N),W=Math.min(258,ce);se<=G&&--$e&&de!=we;){if(n[N+be]==n[N+be-se]){for(var Y=0;Y<W&&n[N+Y]==n[N+Y-se];++Y);if(Y>be){if(be=Y,Ne=se,Y>k)break;for(var ne=Math.min(se,Y-2),xe=0,ye=0;ye<ne;++ye){var Ae=N-se+ye&32767,Te=x[Ae],Ie=Ae-Te&32767;Ie>xe&&(xe=Ie,we=Ae)}}}de=we,we=x[de],se+=de-we&32767}if(Ne){j[U++]=268435456|Ib[be]<<18|O6[Ne];var et=Ib[be]&31,lt=O6[Ne]&31;R+=qS[et]+WS[lt],++Q[257+et],++ae[lt],I=N+be,++F}else j[U++]=n[N],++Q[n[N]]}}for(N=Math.max(N,I);N<a;++N)j[U++]=n[N],++Q[n[N]];f=M6(n,c,h,j,Q,ae,R,U,M,N-M,f),h||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=E,s.p=x,s.i=N,s.w=I)}else{for(var N=s.w||0;N<a+h;N+=65535){var yt=N+65535;yt>=a&&(c[f/8|0]=h,yt=a),f=tP(c,f+1,n.subarray(N,yt))}s.i=a}return Nte(l,0,i+eP(f)+r)},iP=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=t.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)r+=i+=t[a];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},kte=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new hc(s.length+n.length);a.set(s),a.set(n,s.length),n=a,r.w=s.length}return Ite(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)},rP=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Dte=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=iP();r.p(e.dictionary),rP(n,2,r.d())}};function Lb(n,e){e||(e={});var t=iP();t.p(n);var i=kte(n,e,e.dictionary?6:2,4);return Dte(i,e),rP(i,i.length-4,t.d()),i}var Lte=typeof TextDecoder<"u"&&new TextDecoder,Ote=0;try{Lte.decode(nP,{stream:!0}),Ote=1}catch{}function Pte(n){if(Array.isArray(n))return n}function Mte(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,l=[],c=!0,h=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(f){h=!0,r=f}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(h)throw r}}return l}}function F6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Fte(n,e){if(n){if(typeof n=="string")return F6(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F6(n,e):void 0}}function Bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6(n,e){return Pte(n)||Mte(n,e)||Fte(n,e)||Bte()}function j6(n,e="utf8"){return new TextDecoder(e).decode(n)}const jte=new TextEncoder;function Ute(n){return jte.encode(n)}const Vte=1024*8,zte=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),$5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class GS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Vte,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,s=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof GS)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=$5[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===zte&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(r,r+i));l.reverse();const c=new $5[t](l.buffer);return this.offset+=i,c.reverse(),c}const a=new $5[t](s);return this.offset+=i,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return j6(this.readBytes(e))}decodeText(e=1,t="utf8"){return j6(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Ute(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Vp(n){let e=n.length;for(;--e>=0;)n[e]=0}const Hte=3,qte=258,sP=29,Wte=256,Gte=Wte+1+sP,aP=30,$te=512,Yte=new Array((Gte+2)*2);Vp(Yte);const Kte=new Array(aP*2);Vp(Kte);const Xte=new Array($te);Vp(Xte);const Qte=new Array(qte-Hte+1);Vp(Qte);const Jte=new Array(sP);Vp(Jte);const Zte=new Array(aP);Vp(Zte);const ene=(n,e,t,i)=>{let r=n&65535|0,s=n>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do r=r+e[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var Ob=ene;const tne=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},nne=new Uint32Array(tne()),ine=(n,e,t,i)=>{const r=nne,s=i+t;n^=-1;for(let a=i;a<s;a++)n=n>>>8^r[(n^e[a])&255];return n^-1};var Pc=ine,Pb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oP={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const rne=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var sne=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)rne(t,i)&&(n[i]=t[i])}}return n},ane=n=>{let e=0;for(let i=0,r=n.length;i<r;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,r=0,s=n.length;i<s;i++){let a=n[i];t.set(a,r),r+=a.length}return t},lP={assign:sne,flattenChunks:ane};let cP=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cP=!1}const $m=new Uint8Array(256);for(let n=0;n<256;n++)$m[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;$m[254]=$m[254]=1;var one=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,r,s,a=n.length,l=0;for(r=0;r<a;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,r=0;s<l;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const lne=(n,e)=>{if(e<65534&&n.subarray&&cP)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var cne=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,r;const s=new Array(t*2);for(r=0,i=0;i<t;){let a=n[i++];if(a<128){s[r++]=a;continue}let l=$m[a];if(l>4){s[r++]=65533,i+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&i<t;)a=a<<6|n[i++]&63,l--;if(l>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return lne(s,r)},une=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+$m[n[t]]>e?t:e},Mb={string2buf:one,buf2string:cne,utf8border:une};function hne(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fne=hne;const $2=16209,dne=16191;var pne=function(e,t){let i,r,s,a,l,c,h,f,p,_,m,b,x,E,A,P,L,j,Q,ae,F,R,N,U;const I=e.state;i=e.next_in,N=e.input,r=i+(e.avail_in-5),s=e.next_out,U=e.output,a=s-(t-e.avail_out),l=s+(e.avail_out-257),c=I.dmax,h=I.wsize,f=I.whave,p=I.wnext,_=I.window,m=I.hold,b=I.bits,x=I.lencode,E=I.distcode,A=(1<<I.lenbits)-1,P=(1<<I.distbits)-1;e:do{b<15&&(m+=N[i++]<<b,b+=8,m+=N[i++]<<b,b+=8),L=x[m&A];t:for(;;){if(j=L>>>24,m>>>=j,b-=j,j=L>>>16&255,j===0)U[s++]=L&65535;else if(j&16){Q=L&65535,j&=15,j&&(b<j&&(m+=N[i++]<<b,b+=8),Q+=m&(1<<j)-1,m>>>=j,b-=j),b<15&&(m+=N[i++]<<b,b+=8,m+=N[i++]<<b,b+=8),L=E[m&P];n:for(;;){if(j=L>>>24,m>>>=j,b-=j,j=L>>>16&255,j&16){if(ae=L&65535,j&=15,b<j&&(m+=N[i++]<<b,b+=8,b<j&&(m+=N[i++]<<b,b+=8)),ae+=m&(1<<j)-1,ae>c){e.msg="invalid distance too far back",I.mode=$2;break e}if(m>>>=j,b-=j,j=s-a,ae>j){if(j=ae-j,j>f&&I.sane){e.msg="invalid distance too far back",I.mode=$2;break e}if(F=0,R=_,p===0){if(F+=h-j,j<Q){Q-=j;do U[s++]=_[F++];while(--j);F=s-ae,R=U}}else if(p<j){if(F+=h+p-j,j-=p,j<Q){Q-=j;do U[s++]=_[F++];while(--j);if(F=0,p<Q){j=p,Q-=j;do U[s++]=_[F++];while(--j);F=s-ae,R=U}}}else if(F+=p-j,j<Q){Q-=j;do U[s++]=_[F++];while(--j);F=s-ae,R=U}for(;Q>2;)U[s++]=R[F++],U[s++]=R[F++],U[s++]=R[F++],Q-=3;Q&&(U[s++]=R[F++],Q>1&&(U[s++]=R[F++]))}else{F=s-ae;do U[s++]=U[F++],U[s++]=U[F++],U[s++]=U[F++],Q-=3;while(Q>2);Q&&(U[s++]=U[F++],Q>1&&(U[s++]=U[F++]))}}else if((j&64)===0){L=E[(L&65535)+(m&(1<<j)-1)];continue n}else{e.msg="invalid distance code",I.mode=$2;break e}break}}else if((j&64)===0){L=x[(L&65535)+(m&(1<<j)-1)];continue t}else if(j&32){I.mode=dne;break e}else{e.msg="invalid literal/length code",I.mode=$2;break e}break}}while(i<r&&s<l);Q=b>>3,i-=Q,b-=Q<<3,m&=(1<<b)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<l?257+(l-s):257-(s-l),I.hold=m,I.bits=b};const R0=15,U6=852,V6=592,z6=0,Y5=1,H6=2,gne=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mne=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_ne=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vne=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yne=(n,e,t,i,r,s,a,l)=>{const c=l.bits;let h=0,f=0,p=0,_=0,m=0,b=0,x=0,E=0,A=0,P=0,L,j,Q,ae,F,R=null,N;const U=new Uint16Array(R0+1),I=new Uint16Array(R0+1);let M=null,z,de,we;for(h=0;h<=R0;h++)U[h]=0;for(f=0;f<i;f++)U[e[t+f]]++;for(m=c,_=R0;_>=1&&U[_]===0;_--);if(m>_&&(m=_),_===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<_&&U[p]===0;p++);for(m<p&&(m=p),E=1,h=1;h<=R0;h++)if(E<<=1,E-=U[h],E<0)return-1;if(E>0&&(n===z6||_!==1))return-1;for(I[1]=0,h=1;h<R0;h++)I[h+1]=I[h]+U[h];for(f=0;f<i;f++)e[t+f]!==0&&(a[I[e[t+f]]++]=f);if(n===z6?(R=M=a,N=20):n===Y5?(R=gne,M=mne,N=257):(R=_ne,M=vne,N=0),P=0,f=0,h=p,F=s,b=m,x=0,Q=-1,A=1<<m,ae=A-1,n===Y5&&A>U6||n===H6&&A>V6)return 1;for(;;){z=h-x,a[f]+1<N?(de=0,we=a[f]):a[f]>=N?(de=M[a[f]-N],we=R[a[f]-N]):(de=96,we=0),L=1<<h-x,j=1<<b,p=j;do j-=L,r[F+(P>>x)+j]=z<<24|de<<16|we|0;while(j!==0);for(L=1<<h-1;P&L;)L>>=1;if(L!==0?(P&=L-1,P+=L):P=0,f++,--U[h]===0){if(h===_)break;h=e[t+a[f]]}if(h>m&&(P&ae)!==Q){for(x===0&&(x=m),F+=p,b=h-x,E=1<<b;b+x<_&&(E-=U[b+x],!(E<=0));)b++,E<<=1;if(A+=1<<b,n===Y5&&A>U6||n===H6&&A>V6)return 1;Q=P&ae,r[Q]=m<<24|b<<16|F-s|0}}return P!==0&&(r[F+P]=h-x<<24|64<<16|0),l.bits=m,0};var _m=yne;const xne=0,uP=1,hP=2,{Z_FINISH:q6,Z_BLOCK:wne,Z_TREES:Y2,Z_OK:Rd,Z_STREAM_END:bne,Z_NEED_DICT:Ene,Z_STREAM_ERROR:Nl,Z_DATA_ERROR:fP,Z_MEM_ERROR:dP,Z_BUF_ERROR:Sne,Z_DEFLATED:W6}=oP,My=16180,G6=16181,$6=16182,Y6=16183,K6=16184,X6=16185,Q6=16186,J6=16187,Z6=16188,eR=16189,Ev=16190,ku=16191,K5=16192,tR=16193,X5=16194,nR=16195,iR=16196,rR=16197,sR=16198,K2=16199,X2=16200,aR=16201,oR=16202,lR=16203,cR=16204,uR=16205,Q5=16206,hR=16207,fR=16208,xr=16209,pP=16210,gP=16211,Tne=852,Ane=592,Cne=15,Nne=Cne,dR=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Rne(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jd=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<My||e.mode>gP?1:0},mP=n=>{if(jd(n))return Nl;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=My,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Tne),e.distcode=e.distdyn=new Int32Array(Ane),e.sane=1,e.back=-1,Rd},_P=n=>{if(jd(n))return Nl;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,mP(n)},vP=(n,e)=>{let t;if(jd(n))return Nl;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nl:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,_P(n))},yP=(n,e)=>{if(!n)return Nl;const t=new Rne;n.state=t,t.strm=n,t.window=null,t.mode=My;const i=vP(n,e);return i!==Rd&&(n.state=null),i},Ine=n=>yP(n,Nne);let pR=!0,J5,Z5;const kne=n=>{if(pR){J5=new Int32Array(512),Z5=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(_m(uP,n.lens,0,288,J5,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;_m(hP,n.lens,0,32,Z5,0,n.work,{bits:5}),pR=!1}n.lencode=J5,n.lenbits=9,n.distcode=Z5,n.distbits=5},xP=(n,e,t,i)=>{let r;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(t-i,t-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(t-i,t),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},Dne=(n,e)=>{let t,i,r,s,a,l,c,h,f,p,_,m,b,x,E=0,A,P,L,j,Q,ae,F,R;const N=new Uint8Array(4);let U,I;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jd(n)||!n.output||!n.input&&n.avail_in!==0)return Nl;t=n.state,t.mode===ku&&(t.mode=K5),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,l=n.avail_in,h=t.hold,f=t.bits,p=l,_=c,R=Rd;e:for(;;)switch(t.mode){case My:if(t.wrap===0){t.mode=K5;break}for(;f<16;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,N[0]=h&255,N[1]=h>>>8&255,t.check=Pc(t.check,N,2,0),h=0,f=0,t.mode=G6;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",t.mode=xr;break}if((h&15)!==W6){n.msg="unknown compression method",t.mode=xr;break}if(h>>>=4,f-=4,F=(h&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){n.msg="invalid window size",t.mode=xr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=h&512?eR:ku,h=0,f=0;break;case G6:for(;f<16;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if(t.flags=h,(t.flags&255)!==W6){n.msg="unknown compression method",t.mode=xr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=xr;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(N[0]=h&255,N[1]=h>>>8&255,t.check=Pc(t.check,N,2,0)),h=0,f=0,t.mode=$6;case $6:for(;f<32;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(N[0]=h&255,N[1]=h>>>8&255,N[2]=h>>>16&255,N[3]=h>>>24&255,t.check=Pc(t.check,N,4,0)),h=0,f=0,t.mode=Y6;case Y6:for(;f<16;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(N[0]=h&255,N[1]=h>>>8&255,t.check=Pc(t.check,N,2,0)),h=0,f=0,t.mode=K6;case K6:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(N[0]=h&255,N[1]=h>>>8&255,t.check=Pc(t.check,N,2,0)),h=0,f=0}else t.head&&(t.head.extra=null);t.mode=X6;case X6:if(t.flags&1024&&(m=t.length,m>l&&(m=l),m&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(s,s+m),F)),t.flags&512&&t.wrap&4&&(t.check=Pc(t.check,i,m,s)),l-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=Q6;case Q6:if(t.flags&2048){if(l===0)break e;m=0;do F=i[s+m++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=Pc(t.check,i,m,s)),l-=m,s+=m,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=J6;case J6:if(t.flags&4096){if(l===0)break e;m=0;do F=i[s+m++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=Pc(t.check,i,m,s)),l-=m,s+=m,F)break e}else t.head&&(t.head.comment=null);t.mode=Z6;case Z6:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if(t.wrap&4&&h!==(t.check&65535)){n.msg="header crc mismatch",t.mode=xr;break}h=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=ku;break;case eR:for(;f<32;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}n.adler=t.check=dR(h),h=0,f=0,t.mode=Ev;case Ev:if(t.havedict===0)return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=f,Ene;n.adler=t.check=1,t.mode=ku;case ku:if(e===wne||e===Y2)break e;case K5:if(t.last){h>>>=f&7,f-=f&7,t.mode=Q5;break}for(;f<3;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}switch(t.last=h&1,h>>>=1,f-=1,h&3){case 0:t.mode=tR;break;case 1:if(kne(t),t.mode=K2,e===Y2){h>>>=2,f-=2;break e}break;case 2:t.mode=iR;break;case 3:n.msg="invalid block type",t.mode=xr}h>>>=2,f-=2;break;case tR:for(h>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",t.mode=xr;break}if(t.length=h&65535,h=0,f=0,t.mode=X5,e===Y2)break e;case X5:t.mode=nR;case nR:if(m=t.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;r.set(i.subarray(s,s+m),a),l-=m,s+=m,c-=m,a+=m,t.length-=m;break}t.mode=ku;break;case iR:for(;f<14;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if(t.nlen=(h&31)+257,h>>>=5,f-=5,t.ndist=(h&31)+1,h>>>=5,f-=5,t.ncode=(h&15)+4,h>>>=4,f-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=xr;break}t.have=0,t.mode=rR;case rR:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}t.lens[M[t.have++]]=h&7,h>>>=3,f-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,U={bits:t.lenbits},R=_m(xne,t.lens,0,19,t.lencode,0,t.work,U),t.lenbits=U.bits,R){n.msg="invalid code lengths set",t.mode=xr;break}t.have=0,t.mode=sR;case sR:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[h&(1<<t.lenbits)-1],A=E>>>24,P=E>>>16&255,L=E&65535,!(A<=f);){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if(L<16)h>>>=A,f-=A,t.lens[t.have++]=L;else{if(L===16){for(I=A+2;f<I;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if(h>>>=A,f-=A,t.have===0){n.msg="invalid bit length repeat",t.mode=xr;break}F=t.lens[t.have-1],m=3+(h&3),h>>>=2,f-=2}else if(L===17){for(I=A+3;f<I;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}h>>>=A,f-=A,F=0,m=3+(h&7),h>>>=3,f-=3}else{for(I=A+7;f<I;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}h>>>=A,f-=A,F=0,m=11+(h&127),h>>>=7,f-=7}if(t.have+m>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=xr;break}for(;m--;)t.lens[t.have++]=F}}if(t.mode===xr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=xr;break}if(t.lenbits=9,U={bits:t.lenbits},R=_m(uP,t.lens,0,t.nlen,t.lencode,0,t.work,U),t.lenbits=U.bits,R){n.msg="invalid literal/lengths set",t.mode=xr;break}if(t.distbits=6,t.distcode=t.distdyn,U={bits:t.distbits},R=_m(hP,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,U),t.distbits=U.bits,R){n.msg="invalid distances set",t.mode=xr;break}if(t.mode=K2,e===Y2)break e;case K2:t.mode=X2;case X2:if(l>=6&&c>=258){n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=f,pne(n,_),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,l=n.avail_in,h=t.hold,f=t.bits,t.mode===ku&&(t.back=-1);break}for(t.back=0;E=t.lencode[h&(1<<t.lenbits)-1],A=E>>>24,P=E>>>16&255,L=E&65535,!(A<=f);){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if(P&&(P&240)===0){for(j=A,Q=P,ae=L;E=t.lencode[ae+((h&(1<<j+Q)-1)>>j)],A=E>>>24,P=E>>>16&255,L=E&65535,!(j+A<=f);){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}h>>>=j,f-=j,t.back+=j}if(h>>>=A,f-=A,t.back+=A,t.length=L,P===0){t.mode=uR;break}if(P&32){t.back=-1,t.mode=ku;break}if(P&64){n.msg="invalid literal/length code",t.mode=xr;break}t.extra=P&15,t.mode=aR;case aR:if(t.extra){for(I=t.extra;f<I;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=oR;case oR:for(;E=t.distcode[h&(1<<t.distbits)-1],A=E>>>24,P=E>>>16&255,L=E&65535,!(A<=f);){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if((P&240)===0){for(j=A,Q=P,ae=L;E=t.distcode[ae+((h&(1<<j+Q)-1)>>j)],A=E>>>24,P=E>>>16&255,L=E&65535,!(j+A<=f);){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}h>>>=j,f-=j,t.back+=j}if(h>>>=A,f-=A,t.back+=A,P&64){n.msg="invalid distance code",t.mode=xr;break}t.offset=L,t.extra=P&15,t.mode=lR;case lR:if(t.extra){for(I=t.extra;f<I;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=xr;break}t.mode=cR;case cR:if(c===0)break e;if(m=_-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=xr;break}m>t.wnext?(m-=t.wnext,b=t.wsize-m):b=t.wnext-m,m>t.length&&(m=t.length),x=t.window}else x=r,b=a-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do r[a++]=x[b++];while(--m);t.length===0&&(t.mode=X2);break;case uR:if(c===0)break e;r[a++]=t.length,c--,t.mode=X2;break;case Q5:if(t.wrap){for(;f<32;){if(l===0)break e;l--,h|=i[s++]<<f,f+=8}if(_-=c,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Pc(t.check,r,_,a-_):Ob(t.check,r,_,a-_)),_=c,t.wrap&4&&(t.flags?h:dR(h))!==t.check){n.msg="incorrect data check",t.mode=xr;break}h=0,f=0}t.mode=hR;case hR:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,h+=i[s++]<<f,f+=8}if(t.wrap&4&&h!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=xr;break}h=0,f=0}t.mode=fR;case fR:R=bne;break e;case xr:R=fP;break e;case pP:return dP;case gP:default:return Nl}return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=l,t.hold=h,t.bits=f,(t.wsize||_!==n.avail_out&&t.mode<xr&&(t.mode<Q5||e!==q6))&&xP(n,n.output,n.next_out,_-n.avail_out),p-=n.avail_in,_-=n.avail_out,n.total_in+=p,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Pc(t.check,r,_,n.next_out-_):Ob(t.check,r,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===ku?128:0)+(t.mode===K2||t.mode===X5?256:0),(p===0&&_===0||e===q6)&&R===Rd&&(R=Sne),R},Lne=n=>{if(jd(n))return Nl;let e=n.state;return e.window&&(e.window=null),n.state=null,Rd},One=(n,e)=>{if(jd(n))return Nl;const t=n.state;return(t.wrap&2)===0?Nl:(t.head=e,e.done=!1,Rd)},Pne=(n,e)=>{const t=e.length;let i,r,s;return jd(n)||(i=n.state,i.wrap!==0&&i.mode!==Ev)?Nl:i.mode===Ev&&(r=1,r=Ob(r,e,t,0),r!==i.check)?fP:(s=xP(n,e,t,t),s?(i.mode=pP,dP):(i.havedict=1,Rd))};var Mne=_P,Fne=vP,Bne=mP,jne=Ine,Une=yP,Vne=Dne,zne=Lne,Hne=One,qne=Pne,Wne="pako inflate (from Nodeca project)",Mu={inflateReset:Mne,inflateReset2:Fne,inflateResetKeep:Bne,inflateInit:jne,inflateInit2:Une,inflate:Vne,inflateEnd:zne,inflateGetHeader:Hne,inflateSetDictionary:qne,inflateInfo:Wne};function Gne(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $ne=Gne;const wP=Object.prototype.toString,{Z_NO_FLUSH:Yne,Z_FINISH:Kne,Z_OK:Ym,Z_STREAM_END:ew,Z_NEED_DICT:tw,Z_STREAM_ERROR:Xne,Z_DATA_ERROR:gR,Z_MEM_ERROR:Qne}=oP;function T1(n){this.options=lP.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fne,this.strm.avail_out=0;let t=Mu.inflateInit2(this.strm,e.windowBits);if(t!==Ym)throw new Error(Pb[t]);if(this.header=new $ne,Mu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Mb.string2buf(e.dictionary):wP.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Mu.inflateSetDictionary(this.strm,e.dictionary),t!==Ym)))throw new Error(Pb[t])}T1.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,l;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Kne:Yne,wP.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),s=Mu.inflate(t,a),s===tw&&r&&(s=Mu.inflateSetDictionary(t,r),s===Ym?s=Mu.inflate(t,a):s===gR&&(s=tw));t.avail_in>0&&s===ew&&t.state.wrap>0&&n[t.next_in]!==0;)Mu.inflateReset(t),s=Mu.inflate(t,a);switch(s){case Xne:case gR:case tw:case Qne:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===ew))if(this.options.to==="string"){let c=Mb.utf8border(t.output,t.next_out),h=t.next_out-c,f=Mb.buf2string(t.output,c);t.next_out=h,t.avail_out=i-h,h&&t.output.set(t.output.subarray(c,c+h),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Ym&&l===0)){if(s===ew)return s=Mu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};T1.prototype.onData=function(n){this.chunks.push(n)};T1.prototype.onEnd=function(n){n===Ym&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=lP.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Jne(n,e){const t=new T1(e);if(t.push(n),t.err)throw t.msg||Pb[t.err];return t.result}var Zne=T1,eie=Jne,tie={Inflate:Zne,inflate:eie};const{Inflate:nie,inflate:iie}=tie;var mR=nie,rie=iie;const bP=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;bP[n]=e}const _R=4294967295;function sie(n,e,t){let i=n;for(let r=0;r<t;r++)i=bP[(i^e[r])&255]^i>>>8;return i}function aie(n,e){return(sie(_R,n,e)^_R)>>>0}function vR(n,e,t){const i=n.readUint32(),r=aie(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${r}`)}function EP(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function SP(n,e,t,i){let r=0;for(;r<i;r++)e[r]=n[r];for(;r<t;r++)e[r]=n[r]+e[r-i]&255}function TP(n,e,t,i){let r=0;if(t.length===0)for(;r<i;r++)e[r]=n[r];else for(;r<i;r++)e[r]=n[r]+t[r]&255}function AP(n,e,t,i,r){let s=0;if(t.length===0){for(;s<r;s++)e[s]=n[s];for(;s<i;s++)e[s]=n[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<i;s++)e[s]=n[s]+(e[s-r]+t[s]>>1)&255}}function CP(n,e,t,i,r){let s=0;if(t.length===0){for(;s<r;s++)e[s]=n[s];for(;s<i;s++)e[s]=n[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=n[s]+t[s]&255;for(;s<i;s++)e[s]=n[s]+oie(e[s-r],t[s],t[s-r])&255}}function oie(n,e,t){const i=n+e-t,r=Math.abs(i-n),s=Math.abs(i-e),a=Math.abs(i-t);return r<=s&&r<=a?n:s<=a?e:t}function lie(n,e,t,i,r,s){switch(n){case 0:EP(e,t,r);break;case 1:SP(e,t,r,s);break;case 2:TP(e,t,i,r);break;case 3:AP(e,t,i,r,s);break;case 4:CP(e,t,i,r,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const cie=new Uint16Array([255]),uie=new Uint8Array(cie.buffer),hie=uie[0]===255;function fie(n){const{data:e,width:t,height:i,channels:r,depth:s}=n,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*r,c=new Uint8Array(i*t*l);let h=0;for(let f=0;f<7;f++){const p=a[f],_=Math.ceil((t-p.x)/p.xStep),m=Math.ceil((i-p.y)/p.yStep);if(_<=0||m<=0)continue;const b=_*l,x=new Uint8Array(b);for(let E=0;E<m;E++){const A=e[h++],P=e.subarray(h,h+b);h+=b;const L=new Uint8Array(b);lie(A,P,L,x,b,l),x.set(L);for(let j=0;j<_;j++){const Q=p.x+j*p.xStep,ae=p.y+E*p.yStep;if(!(Q>=t||ae>=i))for(let F=0;F<l;F++)c[(ae*t+Q)*l+F]=L[j*l+F]}}}if(s===16){const f=new Uint16Array(c.buffer);if(hie)for(let p=0;p<f.length;p++)f[p]=die(f[p]);return f}else return c}function die(n){return(n&255)<<8|n>>8&255}const pie=new Uint16Array([255]),gie=new Uint8Array(pie.buffer),mie=gie[0]===255,_ie=new Uint8Array(0);function yR(n){const{data:e,width:t,height:i,channels:r,depth:s}=n,a=Math.ceil(s/8)*r,l=Math.ceil(s/8*r*t),c=new Uint8Array(i*l);let h=_ie,f=0,p,_;for(let m=0;m<i;m++){switch(p=e.subarray(f+1,f+1+l),_=c.subarray(m*l,(m+1)*l),e[f]){case 0:EP(p,_,l);break;case 1:SP(p,_,l,a);break;case 2:TP(p,_,h,l);break;case 3:AP(p,_,h,l,a);break;case 4:CP(p,_,h,l,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}h=_,f+=l+1}if(s===16){const m=new Uint16Array(c.buffer);if(mie)for(let b=0;b<m.length;b++)m[b]=vie(m[b]);return m}else return c}function vie(n){return(n&255)<<8|n>>8&255}const A_=Uint8Array.of(137,80,78,71,13,10,26,10);function xR(n){if(!yie(n.readBytes(A_.length)))throw new Error("wrong PNG signature")}function yie(n){if(n.length<A_.length)return!1;for(let e=0;e<A_.length;e++)if(n[e]!==A_[e])return!1;return!0}const xie="tEXt",wie=0,NP=new TextDecoder("latin1");function bie(n){if(Sie(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Eie=/^[\u0000-\u00FF]*$/;function Sie(n){if(!Eie.test(n))throw new Error("invalid latin1 text")}function Tie(n,e,t){const i=RP(e);n[i]=Aie(e,t-i.length-1)}function RP(n){for(n.mark();n.readByte()!==wie;);const e=n.offset;n.reset();const t=NP.decode(n.readBytes(e-n.offset-1));return n.skip(1),bie(t),t}function Aie(n,e){return NP.decode(n.readBytes(e))}const Ho={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},nw={UNKNOWN:-1,DEFLATE:0},wR={UNKNOWN:-1,ADAPTIVE:0},iw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Q2={NONE:0,BACKGROUND:1,PREVIOUS:2},rw={SOURCE:0,OVER:1};class Cie extends GS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new mR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=nw.UNKNOWN,this._filterMethod=wR.UNKNOWN,this._interlaceMethod=iw.UNKNOWN,this._colorType=Ho.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xR(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(xR(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case xie:Tie(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?vR(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?vR(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Nie(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Ho.GREYSCALE:i=1;break;case Ho.TRUECOLOUR:i=3;break;case Ho.INDEXED_COLOUR:i=1;break;case Ho.GREYSCALE_ALPHA:i=2;break;case Ho.TRUECOLOUR_ALPHA:i=4;break;case Ho.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==nw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let r=0;r<t;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ho.GREYSCALE:case Ho.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ho.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ho.UNKNOWN:case Ho.GREYSCALE_ALPHA:case Ho.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=RP(this),i=this.readUint8();if(i!==nw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:rie(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=yR({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(i,r,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case Q2.NONE:break;case Q2.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let s=0;s<this._png.width;s++){const a=(r*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Q2.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,r=(s,a)=>{const l=((s+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,c=(s*t.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(t.blendOp){case rw.SOURCE:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:l,frameIndex:c}=r(s,a);for(let h=0;h<this._png.channels;h++)e.data[l+h]=t.data[c+h]}break;case rw.OVER:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:l,frameIndex:c}=r(s,a);for(let h=0;h<this._png.channels;h++){const f=t.data[c+this._png.channels-1]/i,p=h%(this._png.channels-1)===0?1:t.data[c+h],_=Math.floor(f*p+(1-f)*e.data[l+h]);e.data[l+h]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==wR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===iw.NO_INTERLACE)this._png.data=yR({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===iw.ADAM7)this._png.data=fie({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Q2.NONE,blendOp:rw.SOURCE,data:e}),this._inflator=new mR,this._writingDataChunks=!1}}function Nie(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var bR;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(bR||(bR={}));function Rie(n,e){return new Cie(n,e).decode()}var En=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function sw(){En.console&&typeof En.console.log=="function"&&En.console.log.apply(En.console,arguments)}var Zi={log:sw,warn:function(n){En.console&&(typeof En.console.warn=="function"?En.console.warn.apply(En.console,arguments):sw.call(null,arguments))},error:function(n){En.console&&(typeof En.console.error=="function"?En.console.error.apply(En.console,arguments):sw(n))}};function aw(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){cd(i.response,e,t)},i.onerror=function(){Zi.error("could not download file")},i.send()}function ER(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function J2(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var cd=En.saveAs||((typeof window>"u"?"undefined":Pi(window))!=="object"||window!==En?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=En.URL||En.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?ER(r.href)?aw(n,e,t):J2(r,r.target="_blank"):J2(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){J2(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(ER(n))aw(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){J2(i)})}else navigator.msSaveOrOpenBlob((function(r,s){return s===void 0?s={autoBom:!1}:Pi(s)!=="object"&&(Zi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return aw(n,e,t);var r=n.type==="application/octet-stream",s=/constructor/i.test(En.HTMLElement)||En.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":Pi(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=f:location=f,i=null},l.readAsDataURL(n)}else{var c=En.URL||En.webkitURL,h=c.createObjectURL(n);i?i.location=h:location.href=h,i=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IP(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,s=t[i].process,a=r.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}var C_=En.atob.bind(En),SR=En.btoa.bind(En);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ow(n,e){var t=n[0],i=n[1],r=n[2],s=n[3];t=Sa(t,i,r,s,e[0],7,-680876936),s=Sa(s,t,i,r,e[1],12,-389564586),r=Sa(r,s,t,i,e[2],17,606105819),i=Sa(i,r,s,t,e[3],22,-1044525330),t=Sa(t,i,r,s,e[4],7,-176418897),s=Sa(s,t,i,r,e[5],12,1200080426),r=Sa(r,s,t,i,e[6],17,-1473231341),i=Sa(i,r,s,t,e[7],22,-45705983),t=Sa(t,i,r,s,e[8],7,1770035416),s=Sa(s,t,i,r,e[9],12,-1958414417),r=Sa(r,s,t,i,e[10],17,-42063),i=Sa(i,r,s,t,e[11],22,-1990404162),t=Sa(t,i,r,s,e[12],7,1804603682),s=Sa(s,t,i,r,e[13],12,-40341101),r=Sa(r,s,t,i,e[14],17,-1502002290),t=Ta(t,i=Sa(i,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=Ta(s,t,i,r,e[6],9,-1069501632),r=Ta(r,s,t,i,e[11],14,643717713),i=Ta(i,r,s,t,e[0],20,-373897302),t=Ta(t,i,r,s,e[5],5,-701558691),s=Ta(s,t,i,r,e[10],9,38016083),r=Ta(r,s,t,i,e[15],14,-660478335),i=Ta(i,r,s,t,e[4],20,-405537848),t=Ta(t,i,r,s,e[9],5,568446438),s=Ta(s,t,i,r,e[14],9,-1019803690),r=Ta(r,s,t,i,e[3],14,-187363961),i=Ta(i,r,s,t,e[8],20,1163531501),t=Ta(t,i,r,s,e[13],5,-1444681467),s=Ta(s,t,i,r,e[2],9,-51403784),r=Ta(r,s,t,i,e[7],14,1735328473),t=Aa(t,i=Ta(i,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=Aa(s,t,i,r,e[8],11,-2022574463),r=Aa(r,s,t,i,e[11],16,1839030562),i=Aa(i,r,s,t,e[14],23,-35309556),t=Aa(t,i,r,s,e[1],4,-1530992060),s=Aa(s,t,i,r,e[4],11,1272893353),r=Aa(r,s,t,i,e[7],16,-155497632),i=Aa(i,r,s,t,e[10],23,-1094730640),t=Aa(t,i,r,s,e[13],4,681279174),s=Aa(s,t,i,r,e[0],11,-358537222),r=Aa(r,s,t,i,e[3],16,-722521979),i=Aa(i,r,s,t,e[6],23,76029189),t=Aa(t,i,r,s,e[9],4,-640364487),s=Aa(s,t,i,r,e[12],11,-421815835),r=Aa(r,s,t,i,e[15],16,530742520),t=Ca(t,i=Aa(i,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=Ca(s,t,i,r,e[7],10,1126891415),r=Ca(r,s,t,i,e[14],15,-1416354905),i=Ca(i,r,s,t,e[5],21,-57434055),t=Ca(t,i,r,s,e[12],6,1700485571),s=Ca(s,t,i,r,e[3],10,-1894986606),r=Ca(r,s,t,i,e[10],15,-1051523),i=Ca(i,r,s,t,e[1],21,-2054922799),t=Ca(t,i,r,s,e[8],6,1873313359),s=Ca(s,t,i,r,e[15],10,-30611744),r=Ca(r,s,t,i,e[6],15,-1560198380),i=Ca(i,r,s,t,e[13],21,1309151649),t=Ca(t,i,r,s,e[4],6,-145523070),s=Ca(s,t,i,r,e[11],10,-1120210379),r=Ca(r,s,t,i,e[2],15,718787259),i=Ca(i,r,s,t,e[9],21,-343485551),n[0]=rf(t,n[0]),n[1]=rf(i,n[1]),n[2]=rf(r,n[2]),n[3]=rf(s,n[3])}function Fy(n,e,t,i,r,s){return e=rf(rf(e,n),rf(i,s)),rf(e<<r|e>>>32-r,t)}function Sa(n,e,t,i,r,s,a){return Fy(e&t|~e&i,n,e,r,s,a)}function Ta(n,e,t,i,r,s,a){return Fy(e&i|t&~i,n,e,r,s,a)}function Aa(n,e,t,i,r,s,a){return Fy(e^t^i,n,e,r,s,a)}function Ca(n,e,t,i,r,s,a){return Fy(t^(e|~i),n,e,r,s,a)}function kP(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)ow(i,Iie(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(ow(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,ow(i,r),i}function Iie(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var TR="0123456789abcdef".split("");function kie(n){for(var e="",t=0;t<4;t++)e+=TR[n>>8*t+4&15]+TR[n>>8*t&15];return e}function Die(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Fb(n){return kP(n).map(Die).join("")}var Lie=(function(n){for(var e=0;e<n.length;e++)n[e]=kie(n[e]);return n.join("")})(kP("hello"))!="5d41402abc4b2a76b9719d911017c592";function rf(n,e){if(Lie){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bb(n,e){var t,i,r,s;if(n!==t){for(var a=(r=n,s=1+(256/n.length|0),new Array(s+1).join(r)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var f=l[c];h=(h+f+a.charCodeAt(c))%256,l[c]=l[h],l[h]=f}t=n,i=l}else l=i;var p=e.length,_=0,m=0,b="";for(c=0;c<p;c++)m=(m+(f=l[_=(_+1)%256]))%256,l[_]=l[m],l[m]=f,a=l[(l[_]+l[m])%256],b+=String.fromCharCode(e.charCodeAt(c)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var AR={print:4,modify:8,copy:16,"annot-forms":32};function j0(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(l){if(AR.perm!==void 0)throw new Error("Invalid permission: "+l);r+=AR[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=Fb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Bb(this.encryptionKey,this.padding)}function U0(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return e}function CR(n){if(Pi(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!r],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,i)}catch(l){En.console&&Zi.error("jsPDF PubSub Error",l.message,l)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Sv(n){if(!(this instanceof Sv))return new Sv(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function DP(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function ud(n,e,t,i,r){if(!(this instanceof ud))return new ud(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,DP.call(this,i,r)}function G0(n,e,t,i,r){if(!(this instanceof G0))return new G0(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,DP.call(this,i,r)}function Jt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],l=1,c=16,h="S",f=null;Pi(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),i=i||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,_={},m={internal:{},__private__:{}};m.__private__.PubSub=CR;var b="1.3",x=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(C){b=C};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return E};var A=m.__private__.getPageFormat=function(C){return E[C]};r=r||"a4";var P="compat",L="advanced",j=P;function Q(){this.saveGraphicsState(),he(new Kt(gn,0,0,-gn,0,Ha()*gn).toString()+" cm"),this.setFontSize(this.getFontSize()/gn),h="n",j=L}function ae(){this.restoreGraphicsState(),h="S",j=P}var F=m.__private__.combineFontStyleAndFontWeight=function(C,K){if(C=="bold"&&K=="normal"||C=="bold"&&K==400||C=="normal"&&K=="italic"||C=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(C=K==400||K==="normal"?C==="italic"?"italic":"normal":K!=700&&K!=="bold"||C!=="normal"?(K==700?"bold":K)+""+C:"bold"),C};m.advancedAPI=function(C){var K=j===P;return K&&Q.call(this),typeof C!="function"||(C(this),K&&ae.call(this)),this},m.compatAPI=function(C){var K=j===L;return K&&ae.call(this),typeof C!="function"||(C(this),K&&Q.call(this)),this},m.isAdvancedAPI=function(){return j===L};var R,N=function(C){if(j!==L)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=m.roundToPrecision=m.__private__.roundToPrecision=function(C,K){var me=e||K;if(isNaN(C)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(me).replace(/0+$/,"")};R=m.hpf=m.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return U(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return U(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return U(C,16)};var I=m.f2=m.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return U(C,2)},M=m.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return U(C,3)},z=m.scale=m.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return j===P?C*gn:j===L?C:void 0},de=function(C){return z((function(K){return j===P?Ha()-K:j===L?K:void 0})(C))};m.__private__.setPrecision=m.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var we,ce="00000000000000000000000000000000",ye=m.__private__.getFileId=function(){return ce},be=m.__private__.setFileId=function(C){return ce=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ki=new j0(f.userPermissions,f.userPassword,f.ownerPassword,ce)),ce};m.setFileId=function(C){return be(C),this},m.getFileId=function(){return ye()};var Ne=m.__private__.convertDateToPDFDate=function(C){var K=C.getTimezoneOffset(),me=K<0?"+":"-",Se=Math.floor(Math.abs(K/60)),De=Math.abs(K%60),tt=[me,W(Se),"'",W(De),"'"].join("");return["D:",C.getFullYear(),W(C.getMonth()+1),W(C.getDate()),W(C.getHours()),W(C.getMinutes()),W(C.getSeconds()),tt].join("")},$e=m.__private__.convertPDFDateToDate=function(C){var K=parseInt(C.substr(2,4),10),me=parseInt(C.substr(6,2),10)-1,Se=parseInt(C.substr(8,2),10),De=parseInt(C.substr(10,2),10),tt=parseInt(C.substr(12,2),10),ct=parseInt(C.substr(14,2),10);return new Date(K,me,Se,De,tt,ct,0)},se=m.__private__.setCreationDate=function(C){var K;if(C===void 0&&(C=new Date),C instanceof Date)K=Ne(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=C}return we=K},k=m.__private__.getCreationDate=function(C){var K=we;return C==="jsDate"&&(K=$e(we)),K};m.setCreationDate=function(C){return se(C),this},m.getCreationDate=function(C){return k(C)};var G,W=m.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},Y=m.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},ne=0,xe=[],Ae=[],Te=0,Ie=[],et=[],lt=!1,yt=Ae;m.__private__.setCustomOutputDestination=function(C){lt=!0,yt=C};var _t=function(C){lt||(yt=C)};m.__private__.resetCustomOutputDestination=function(){lt=!1,yt=Ae};var he=m.__private__.out=function(C){return C=C.toString(),Te+=C.length+1,yt.push(C),yt},pt=m.__private__.write=function(C){return he(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},ht=m.__private__.getArrayBuffer=function(C){for(var K=C.length,me=new ArrayBuffer(K),Se=new Uint8Array(me);K--;)Se[K]=C.charCodeAt(K);return me},It=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return It};var Qe=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(C){return Qe=j===L?C/gn:C,this};var Ct,At=m.__private__.getFontSize=m.getFontSize=function(){return j===P?Qe:Qe*gn},Xt=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(C){return Xt=C,this},m.__private__.getR2L=m.getR2L=function(){return Xt};var qt,Zt=m.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Ct=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Ct=C}else Ct=parseInt(C,10)};m.__private__.getZoomMode=function(){return Ct};var mn,un=m.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');qt=C};m.__private__.getPageMode=function(){return qt};var Tn=m.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');mn=C};m.__private__.getLayoutMode=function(){return mn},m.__private__.setDisplayMode=m.setDisplayMode=function(C,K,me){return Zt(C),Tn(K),un(me),this};var hn={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(C){if(Object.keys(hn).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return hn[C]},m.__private__.getDocumentProperties=function(){return hn},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(C){for(var K in hn)hn.hasOwnProperty(K)&&C[K]&&(hn[K]=C[K]);return this},m.__private__.setDocumentProperty=function(C,K){if(Object.keys(hn).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return hn[C]=K};var Bt,gn,jt,Ci,yn,$t={},an={},xn=[],Yt={},Wn={},en={},tn={},ti=null,Wt=0,Mt=[],In=new CR(m),Wr=n.hotfixes||[],Dr={},ma={},Sr=[],Kt=function C(K,me,Se,De,tt,ct){if(!(this instanceof C))return new C(K,me,Se,De,tt,ct);isNaN(K)&&(K=1),isNaN(me)&&(me=0),isNaN(Se)&&(Se=0),isNaN(De)&&(De=1),isNaN(tt)&&(tt=0),isNaN(ct)&&(ct=0),this._matrix=[K,me,Se,De,tt,ct]};Object.defineProperty(Kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(C)},Kt.prototype.multiply=function(C){var K=C.sx*this.sx+C.shy*this.shx,me=C.sx*this.shy+C.shy*this.sy,Se=C.shx*this.sx+C.sy*this.shx,De=C.shx*this.shy+C.sy*this.sy,tt=C.tx*this.sx+C.ty*this.shx+this.tx,ct=C.tx*this.shy+C.ty*this.sy+this.ty;return new Kt(K,me,Se,De,tt,ct)},Kt.prototype.decompose=function(){var C=this.sx,K=this.shy,me=this.shx,Se=this.sy,De=this.tx,tt=this.ty,ct=Math.sqrt(C*C+K*K),Ot=(C/=ct)*me+(K/=ct)*Se;me-=C*Ot,Se-=K*Ot;var Vt=Math.sqrt(me*me+Se*Se);return Ot/=Vt,C*(Se/=Vt)<K*(me/=Vt)&&(C=-C,K=-K,Ot=-Ot,ct=-ct),{scale:new Kt(ct,0,0,Vt,0,0),translate:new Kt(1,0,0,1,De,tt),rotate:new Kt(C,K,-K,C,0,0),skew:new Kt(1,0,Ot,1,0,0)}},Kt.prototype.toString=function(C){return this.join(" ")},Kt.prototype.inversed=function(){var C=this.sx,K=this.shy,me=this.shx,Se=this.sy,De=this.tx,tt=this.ty,ct=1/(C*Se-K*me),Ot=Se*ct,Vt=-K*ct,on=-me*ct,Qt=C*ct;return new Kt(Ot,Vt,on,Qt,-Ot*De-on*tt,-Vt*De-Qt*tt)},Kt.prototype.applyToPoint=function(C){var K=C.x*this.sx+C.y*this.shx+this.tx,me=C.x*this.shy+C.y*this.sy+this.ty;return new ss(K,me)},Kt.prototype.applyToRectangle=function(C){var K=this.applyToPoint(C),me=this.applyToPoint(new ss(C.x+C.w,C.y+C.h));return new no(K.x,K.y,me.x-K.x,me.y-K.y)},Kt.prototype.clone=function(){var C=this.sx,K=this.shy,me=this.shx,Se=this.sy,De=this.tx,tt=this.ty;return new Kt(C,K,me,Se,De,tt)},m.Matrix=Kt;var Ua=m.matrixMult=function(C,K){return K.multiply(C)},_s=new Kt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=_s;var Lr=function(C,K){if(!Wn[C]){var me=(K instanceof ud?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);K.id=me,Wn[C]=me,Yt[me]=K,In.publish("addPattern",K)}};m.ShadingPattern=ud,m.TilingPattern=G0,m.addShadingPattern=function(C,K){return N("addShadingPattern()"),Lr(C,K),this},m.beginTilingPattern=function(C){N("beginTilingPattern()"),io(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},m.endTilingPattern=function(C,K){N("endTilingPattern()"),K.stream=et[G].join(`
`),Lr(C,K),In.publish("endTilingPattern",K),Sr.pop().restore()};var is,di=m.__private__.newObject=function(){var C=Si();return J(C,!0),C},Si=m.__private__.newObjectDeferred=function(){return ne++,xe[ne]=function(){return Te},ne},J=function(C,K){return K=typeof K=="boolean"&&K,xe[C]=Te,K&&he(C+" 0 obj"),C},pe=m.__private__.newAdditionalObject=function(){var C={objId:Si(),content:""};return Ie.push(C),C},oe=Si(),le=Si(),fe=m.__private__.decodeColorString=function(C){var K=C.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var me=parseFloat(K[0]);K=[me,me,me,"r"]}for(var Se="#",De=0;De<3;De++)Se+=("0"+Math.floor(255*parseFloat(K[De])).toString(16)).slice(-2);return Se},ve=m.__private__.encodeColorString=function(C){var K;typeof C=="string"&&(C={ch1:C});var me=C.ch1,Se=C.ch2,De=C.ch3,tt=C.ch4,ct=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Ot=new IP(me);if(Ot.ok)me=Ot.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Vt=parseInt(me.substr(1),16);me=Vt>>16&255,Se=Vt>>8&255,De=255&Vt}if(Se===void 0||tt===void 0&&me===Se&&Se===De)K=typeof me=="string"?me+" "+ct[0]:C.precision===2?I(me/255)+" "+ct[0]:M(me/255)+" "+ct[0];else if(tt===void 0||Pi(tt)==="object"){if(tt&&!isNaN(tt.a)&&tt.a===0)return["1.","1.","1.",ct[1]].join(" ");K=typeof me=="string"?[me,Se,De,ct[1]].join(" "):C.precision===2?[I(me/255),I(Se/255),I(De/255),ct[1]].join(" "):[M(me/255),M(Se/255),M(De/255),ct[1]].join(" ")}else K=typeof me=="string"?[me,Se,De,tt,ct[2]].join(" "):C.precision===2?[I(me),I(Se),I(De),I(tt),ct[2]].join(" "):[M(me),M(Se),M(De),M(tt),ct[2]].join(" ");return K},Fe=m.__private__.getFilters=function(){return a},Ke=m.__private__.putStream=function(C){var K=(C=C||{}).data||"",me=C.filters||Fe(),Se=C.alreadyAppliedFilters||[],De=C.addLength1||!1,tt=K.length,ct=C.objectId,Ot=function(O){return O};if(f!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ot=Ki.encryptor(ct,0));var Vt={};me===!0&&(me=["FlateEncode"]);var on=C.additionalKeyValues||[],Qt=(Vt=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(K,me):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(Vt.data.length!==0&&(on.push({key:"Length",value:Vt.data.length}),De===!0&&on.push({key:"Length1",value:tt})),Qt.length!=0)if(Qt.split("/").length-1==1)on.push({key:"Filter",value:Qt});else{on.push({key:"Filter",value:"["+Qt+"]"});for(var Bn=0;Bn<on.length;Bn+=1)if(on[Bn].key==="DecodeParms"){for(var Bi=[],Ti=0;Ti<Vt.reverseChain.split("/").length-1;Ti+=1)Bi.push("null");Bi.push(on[Bn].value),on[Bn].value="["+Bi.join(" ")+"]"}}he("<<");for(var y=0;y<on.length;y++)he("/"+on[y].key+" "+on[y].value);he(">>"),Vt.data.length!==0&&(he("stream"),he(Ot(Vt.data)),he("endstream"))},je=m.__private__.putPage=function(C){var K=C.number,me=C.data,Se=C.objId,De=C.contentsObjId;J(Se,!0),he("<</Type /Page"),he("/Parent "+C.rootDictionaryObjId+" 0 R"),he("/Resources "+C.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(R(C.mediaBox.bottomLeftX))+" "+parseFloat(R(C.mediaBox.bottomLeftY))+" "+R(C.mediaBox.topRightX)+" "+R(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&he("/CropBox ["+R(C.cropBox.bottomLeftX)+" "+R(C.cropBox.bottomLeftY)+" "+R(C.cropBox.topRightX)+" "+R(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&he("/BleedBox ["+R(C.bleedBox.bottomLeftX)+" "+R(C.bleedBox.bottomLeftY)+" "+R(C.bleedBox.topRightX)+" "+R(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&he("/TrimBox ["+R(C.trimBox.bottomLeftX)+" "+R(C.trimBox.bottomLeftY)+" "+R(C.trimBox.topRightX)+" "+R(C.trimBox.topRightY)+"]"),C.artBox!==null&&he("/ArtBox ["+R(C.artBox.bottomLeftX)+" "+R(C.artBox.bottomLeftY)+" "+R(C.artBox.topRightX)+" "+R(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&he("/UserUnit "+C.userUnit),In.publish("putPage",{objId:Se,pageContext:Mt[K],pageNumber:K,page:me}),he("/Contents "+De+" 0 R"),he(">>"),he("endobj");var tt=me.join(`
`);return j===L&&(tt+=`
Q`),J(De,!0),Ke({data:tt,filters:Fe(),objectId:De}),he("endobj"),Se},Ue=m.__private__.putPages=function(){var C,K,me=[];for(C=1;C<=Wt;C++)Mt[C].objId=Si(),Mt[C].contentsObjId=Si();for(C=1;C<=Wt;C++)me.push(je({number:C,data:et[C],objId:Mt[C].objId,contentsObjId:Mt[C].contentsObjId,mediaBox:Mt[C].mediaBox,cropBox:Mt[C].cropBox,bleedBox:Mt[C].bleedBox,trimBox:Mt[C].trimBox,artBox:Mt[C].artBox,userUnit:Mt[C].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:le}));J(oe,!0),he("<</Type /Pages");var Se="/Kids [";for(K=0;K<Wt;K++)Se+=me[K]+" 0 R ";he(Se+"]"),he("/Count "+Wt),he(">>"),he("endobj"),In.publish("postPutPages")},Ve=function(C){In.publish("putFont",{font:C,out:he,newObject:di,putStream:Ke}),C.isAlreadyPutted!==!0&&(C.objectNumber=di(),he("<<"),he("/Type /Font"),he("/BaseFont /"+U0(C.postScriptName)),he("/Subtype /Type1"),typeof C.encoding=="string"&&he("/Encoding /"+C.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},ft=function(C){C.objectNumber=di();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[R(C.x),R(C.y),R(C.x+C.width),R(C.y+C.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var me=C.pages[1].join(`
`);Ke({data:me,additionalKeyValues:K,objectId:C.objectNumber}),he("endobj")},vt=function(C,K){K||(K=21);var me=di(),Se=(function(ct,Ot){var Vt,on=[],Qt=1/(Ot-1);for(Vt=0;Vt<1;Vt+=Qt)on.push(Vt);if(on.push(1),ct[0].offset!=0){var Bn={offset:0,color:ct[0].color};ct.unshift(Bn)}if(ct[ct.length-1].offset!=1){var Bi={offset:1,color:ct[ct.length-1].color};ct.push(Bi)}for(var Ti="",y=0,O=0;O<on.length;O++){for(Vt=on[O];Vt>ct[y+1].offset;)y++;var q=ct[y].offset,re=(Vt-q)/(ct[y+1].offset-q),Pe=ct[y].color,We=ct[y+1].color;Ti+=Y(Math.round((1-re)*Pe[0]+re*We[0]).toString(16))+Y(Math.round((1-re)*Pe[1]+re*We[1]).toString(16))+Y(Math.round((1-re)*Pe[2]+re*We[2]).toString(16))}return Ti.trim()})(C.colors,K),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+K+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke({data:Se,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),he("endobj"),C.objectNumber=di(),he("<< /ShadingType "+C.type),he("/ColorSpace /DeviceRGB");var tt="/Coords ["+R(parseFloat(C.coords[0]))+" "+R(parseFloat(C.coords[1]))+" ";C.type===2?tt+=R(parseFloat(C.coords[2]))+" "+R(parseFloat(C.coords[3])):tt+=R(parseFloat(C.coords[2]))+" "+R(parseFloat(C.coords[3]))+" "+R(parseFloat(C.coords[4]))+" "+R(parseFloat(C.coords[5])),he(tt+="]"),C.matrix&&he("/Matrix ["+C.matrix.toString()+"]"),he("/Function "+me+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},bt=function(C,K){var me=Si(),Se=di();K.push({resourcesOid:me,objectOid:Se}),C.objectNumber=Se;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+C.boundingBox.map(R).join(" ")+"]"}),De.push({key:"XStep",value:R(C.xStep)}),De.push({key:"YStep",value:R(C.yStep)}),De.push({key:"Resources",value:me+" 0 R"}),C.matrix&&De.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Ke({data:C.stream,additionalKeyValues:De,objectId:C.objectNumber}),he("endobj")},gt=function(C){for(var K in C.objectNumber=di(),he("<<"),C)switch(K){case"opacity":he("/ca "+I(C[K]));break;case"stroke-opacity":he("/CA "+I(C[K]))}he(">>"),he("endobj")},wt=function(C){J(C.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var K in he("/Font <<"),$t)$t.hasOwnProperty(K)&&(p===!1||p===!0&&_.hasOwnProperty(K))&&he("/"+K+" "+$t[K].objectNumber+" 0 R");he(">>")})(),(function(){if(Object.keys(Yt).length>0){for(var K in he("/Shading <<"),Yt)Yt.hasOwnProperty(K)&&Yt[K]instanceof ud&&Yt[K].objectNumber>=0&&he("/"+K+" "+Yt[K].objectNumber+" 0 R");In.publish("putShadingPatternDict"),he(">>")}})(),(function(K){if(Object.keys(Yt).length>0){for(var me in he("/Pattern <<"),Yt)Yt.hasOwnProperty(me)&&Yt[me]instanceof m.TilingPattern&&Yt[me].objectNumber>=0&&Yt[me].objectNumber<K&&he("/"+me+" "+Yt[me].objectNumber+" 0 R");In.publish("putTilingPatternDict"),he(">>")}})(C.objectOid),(function(){if(Object.keys(en).length>0){var K;for(K in he("/ExtGState <<"),en)en.hasOwnProperty(K)&&en[K].objectNumber>=0&&he("/"+K+" "+en[K].objectNumber+" 0 R");In.publish("putGStateDict"),he(">>")}})(),(function(){for(var K in he("/XObject <<"),Dr)Dr.hasOwnProperty(K)&&Dr[K].objectNumber>=0&&he("/"+K+" "+Dr[K].objectNumber+" 0 R");In.publish("putXobjectDict"),he(">>")})(),he(">>"),he("endobj")},Lt=function(C){an[C.fontName]=an[C.fontName]||{},an[C.fontName][C.fontStyle]=C.id},ni=function(C,K,me,Se,De){var tt={id:"F"+(Object.keys($t).length+1).toString(10),postScriptName:C,fontName:K,fontStyle:me,encoding:Se,isStandardFont:De||!1,metadata:{}};return In.publish("addFont",{font:tt,instance:this}),$t[tt.id]=tt,Lt(tt),tt.id},Dn=m.__private__.pdfEscape=m.pdfEscape=function(C,K){return(function(me,Se){var De,tt,ct,Ot,Vt,on,Qt,Bn,Bi;if(ct=(Se=Se||{}).sourceEncoding||"Unicode",Vt=Se.outputEncoding,(Se.autoencode||Vt)&&$t[Bt].metadata&&$t[Bt].metadata[ct]&&$t[Bt].metadata[ct].encoding&&(Ot=$t[Bt].metadata[ct].encoding,!Vt&&$t[Bt].encoding&&(Vt=$t[Bt].encoding),!Vt&&Ot.codePages&&(Vt=Ot.codePages[0]),typeof Vt=="string"&&(Vt=Ot[Vt]),Vt)){for(Qt=!1,on=[],De=0,tt=me.length;De<tt;De++)(Bn=Vt[me.charCodeAt(De)])?on.push(String.fromCharCode(Bn)):on.push(me[De]),on[De].charCodeAt(0)>>8&&(Qt=!0);me=on.join("")}for(De=me.length;Qt===void 0&&De!==0;)me.charCodeAt(De-1)>>8&&(Qt=!0),De--;if(!Qt)return me;for(on=Se.noBOM?[]:[254,255],De=0,tt=me.length;De<tt;De++){if((Bi=(Bn=me.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");on.push(Bi),on.push(Bn-(Bi<<8))}return String.fromCharCode.apply(void 0,on)})(C,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ui=m.__private__.beginPage=function(C){et[++Wt]=[],Mt[Wt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},_a(Wt),_t(et[G])},Gr=function(C,K){var me,Se,De;switch(t=K||t,typeof C=="string"&&(me=A(C.toLowerCase()),Array.isArray(me)&&(Se=me[0],De=me[1])),Array.isArray(C)&&(Se=C[0]*gn,De=C[1]*gn),isNaN(Se)&&(Se=r[0],De=r[1]),(Se>14400||De>14400)&&(Zi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),De=Math.min(14400,De)),r=[Se,De],t.substr(0,1)){case"l":De>Se&&(r=[De,Se]);break;case"p":Se>De&&(r=[De,Se])}ui(r),nn(Ls),he(Qs),Zs!==0&&he(Zs+" J"),Ar!==0&&he(Ar+" j"),In.publish("addPage",{pageNumber:Wt})},Xs=function(C){C>0&&C<=Wt&&(et.splice(C,1),Mt.splice(C,1),Wt--,G>Wt&&(G=Wt),this.setPage(G))},_a=function(C){C>0&&C<=Wt&&(G=C)},ks=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return et.length-1},Io=function(C,K,me){var Se,De=void 0;return me=me||{},C=C!==void 0?C:$t[Bt].fontName,K=K!==void 0?K:$t[Bt].fontStyle,Se=C.toLowerCase(),an[Se]!==void 0&&an[Se][K]!==void 0?De=an[Se][K]:an[C]!==void 0&&an[C][K]!==void 0?De=an[C][K]:me.disableWarning===!1&&Zi.warn("Unable to look up font label for font '"+C+"', '"+K+"'. Refer to getFontList() for available fonts."),De||me.noFallback||(De=an.times[K])==null&&(De=an.times.normal),De},Yi=m.__private__.putInfo=function(){var C=di(),K=function(Se){return Se};for(var me in f!==null&&(K=Ki.encryptor(C,0)),he("<<"),he("/Producer ("+Dn(K("jsPDF "+Jt.version))+")"),hn)hn.hasOwnProperty(me)&&hn[me]&&he("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Dn(K(hn[me]))+")");he("/CreationDate ("+Dn(K(we))+")"),he(">>"),he("endobj")},rs=m.__private__.putCatalog=function(C){var K=(C=C||{}).rootDictionaryObjId||oe;switch(di(),he("<<"),he("/Type /Catalog"),he("/Pages "+K+" 0 R"),Ct||(Ct="fullwidth"),Ct){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+Ct;me.substr(me.length-1)==="%"&&(Ct=parseInt(Ct)/100),typeof Ct=="number"&&he("/OpenAction [3 0 R /XYZ null null "+I(Ct)+"]")}switch(mn||(mn="continuous"),mn){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}qt&&he("/PageMode /"+qt),In.publish("putCatalog"),he(">>"),he("endobj")},pr=m.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(ne+1)),he("/Root "+ne+" 0 R"),he("/Info "+(ne-1)+" 0 R"),f!==null&&he("/Encrypt "+Ki.oid+" 0 R"),he("/ID [ <"+ce+"> <"+ce+"> ]"),he(">>")},Fn=m.__private__.putHeader=function(){he("%PDF-"+b),he("%")},ko=m.__private__.putXRef=function(){var C="0000000000";he("xref"),he("0 "+(ne+1)),he("0000000000 65535 f ");for(var K=1;K<=ne;K++)typeof xe[K]=="function"?he((C+xe[K]()).slice(-10)+" 00000 n "):xe[K]!==void 0?he((C+xe[K]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},va=m.__private__.buildDocument=function(){var C;ne=0,Te=0,Ae=[],xe=[],Ie=[],oe=Si(),le=Si(),_t(Ae),In.publish("buildDocument"),Fn(),Ue(),(function(){In.publish("putAdditionalObjects");for(var me=0;me<Ie.length;me++){var Se=Ie[me];J(Se.objId,!0),he(Se.content),he("endobj")}In.publish("postPutAdditionalObjects")})(),C=[],(function(){for(var me in $t)$t.hasOwnProperty(me)&&(p===!1||p===!0&&_.hasOwnProperty(me))&&Ve($t[me])})(),(function(){var me;for(me in en)en.hasOwnProperty(me)&&gt(en[me])})(),(function(){for(var me in Dr)Dr.hasOwnProperty(me)&&ft(Dr[me])})(),(function(me){var Se;for(Se in Yt)Yt.hasOwnProperty(Se)&&(Yt[Se]instanceof ud?vt(Yt[Se]):Yt[Se]instanceof G0&&bt(Yt[Se],me))})(C),In.publish("putResources"),C.forEach(wt),wt({resourcesOid:le,objectOid:Number.MAX_SAFE_INTEGER}),In.publish("postPutResources"),f!==null&&(Ki.oid=di(),he("<<"),he("/Filter /Standard"),he("/V "+Ki.v),he("/R "+Ki.r),he("/U <"+Ki.toHexString(Ki.U)+">"),he("/O <"+Ki.toHexString(Ki.O)+">"),he("/P "+Ki.P),he(">>"),he("endobj")),Yi(),rs();var K=Te;return ko(),pr(),he("startxref"),he(""+K),he("%%EOF"),_t(et[G]),Ae.join(`
`)},Gn=m.__private__.getBlob=function(C){return new Blob([ht(C)],{type:"application/pdf"})},nl=m.output=m.__private__.output=(is=function(C,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",C){case void 0:return va();case"save":m.save(K.filename);break;case"arraybuffer":return ht(va());case"blob":return Gn(va());case"bloburi":case"bloburl":if(En.URL!==void 0&&typeof En.URL.createObjectURL=="function")return En.URL&&En.URL.createObjectURL(Gn(va()))||void 0;Zi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",Se=va();try{me=SR(Se)}catch{me=SR(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+K.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(En)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(De=K.pdfObjectUrl,tt="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Ot=En.open();return Ot!==null&&Ot.document.write(ct),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(En)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',on=En.open();if(on!==null){on.document.write(Vt);var Qt=this;on.document.documentElement.querySelector("#pdfViewer").onload=function(){on.document.title=K.filename,on.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Qt.output("bloburl"))}}return on}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(En)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Bi=En.open();if(Bi!==null&&(Bi.document.write(Bn),Bi.document.title=K.filename),Bi||typeof safari>"u")return Bi;break;case"datauri":case"dataurl":return En.document.location.href=this.output("datauristring",K);default:return null}},is.foo=function(){try{return is.apply(this,arguments)}catch(me){var C=me.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var K="Error in function "+C.split(`
`)[0].split("<")[0]+": "+me.message;if(!En.console)throw new Error(K);En.console.error(K,me),En.alert&&alert(K)}},is.foo.bar=is,is.foo),Tr=function(C){return Array.isArray(Wr)===!0&&Wr.indexOf(C)>-1};switch(i){case"pt":gn=1;break;case"mm":gn=72/25.4;break;case"cm":gn=72/2.54;break;case"in":gn=72;break;case"px":gn=Tr("px_scaling")==1?.75:96/72;break;case"pc":case"em":gn=12;break;case"ex":gn=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);gn=i}var Ki=null;se(),be();var gr=m.__private__.getPageInfo=m.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[C].objId,pageNumber:C,pageContext:Mt[C]}},Il=m.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Mt)if(Mt[K].objId===C)break;return gr(K)},gh=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Mt[G].objId,pageNumber:G,pageContext:Mt[G]}};m.addPage=function(){return Gr.apply(this,arguments),this},m.setPage=function(){return _a.apply(this,arguments),_t.call(this,et[G]),this},m.insertPage=function(C){return this.addPage(),this.movePage(G,C),this},m.movePage=function(C,K){var me,Se;if(C>K){me=et[C],Se=Mt[C];for(var De=C;De>K;De--)et[De]=et[De-1],Mt[De]=Mt[De-1];et[K]=me,Mt[K]=Se,this.setPage(K)}else if(C<K){me=et[C],Se=Mt[C];for(var tt=C;tt<K;tt++)et[tt]=et[tt+1],Mt[tt]=Mt[tt+1];et[K]=me,Mt[K]=Se,this.setPage(K)}return this},m.deletePage=function(){return Xs.apply(this,arguments),this},m.__private__.text=m.text=function(C,K,me,Se,De){var tt,ct,Ot,Vt,on,Qt,Bn,Bi,Ti,y=(Se=Se||{}).scope||this;if(typeof C=="number"&&typeof K=="number"&&(typeof me=="string"||Array.isArray(me))){var O=me;me=K,K=C,C=O}if(arguments[3]instanceof Kt==0?(Ot=arguments[4],Vt=arguments[5],Pi(Bn=arguments[3])==="object"&&Bn!==null||(typeof Ot=="string"&&(Vt=Ot,Ot=null),typeof Bn=="string"&&(Vt=Bn,Bn=null),typeof Bn=="number"&&(Ot=Bn,Bn=null),Se={flags:Bn,angle:Ot,align:Vt})):(N("The transform parameter of text() with a Matrix value"),Ti=De),isNaN(K)||isNaN(me)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return y;var q,re="",Pe=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Oo,We=y.internal.scaleFactor;function xt(hi){return hi=hi.split("	").join(Array(Se.TabLen||9).join(" ")),Dn(hi,Bn)}function wn(hi){for(var Jn,Ui=hi.concat(),Nr=[],pl=Ui.length;pl--;)typeof(Jn=Ui.shift())=="string"?Nr.push(Jn):Array.isArray(hi)&&(Jn.length===1||Jn[1]===void 0&&Jn[2]===void 0)?Nr.push(Jn[0]):Nr.push([Jn[0],Jn[1],Jn[2]]);return Nr}function ji(hi,Jn){var Ui;if(typeof hi=="string")Ui=Jn(hi)[0];else if(Array.isArray(hi)){for(var Nr,pl,Bo=hi.concat(),hu=[],Uf=Bo.length;Uf--;)typeof(Nr=Bo.shift())=="string"?hu.push(Jn(Nr)[0]):Array.isArray(Nr)&&typeof Nr[0]=="string"&&(pl=Jn(Nr[0],Nr[1],Nr[2]),hu.push([pl[0],pl[1],pl[2]]));Ui=hu}return Ui}var On=!1,gi=!0;if(typeof C=="string")On=!0;else if(Array.isArray(C)){var as=C.concat();ct=[];for(var ys,Ni=as.length;Ni--;)(typeof(ys=as.shift())!="string"||Array.isArray(ys)&&typeof ys[0]!="string")&&(gi=!1);On=gi}if(On===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var xs=Qe/y.internal.scaleFactor,qa=xs*(Pe-1);switch(Se.baseline){case"bottom":me-=qa;break;case"top":me+=xs-qa;break;case"hanging":me+=xs-2*qa;break;case"middle":me+=xs/2-qa}if((Qt=Se.maxWidth||0)>0&&(typeof C=="string"?C=y.splitTextToSize(C,Qt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(hi,Jn){return hi.concat(y.splitTextToSize(Jn,Qt))},[]))),tt={text:C,x:K,y:me,options:Se,mutex:{pdfEscape:Dn,activeFontKey:Bt,fonts:$t,activeFontSize:Qe}},In.publish("preProcessText",tt),C=tt.text,Ot=(Se=tt.options).angle,Ti instanceof Kt==0&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,Se.rotationDirection===0&&(Ot=-Ot),j===L&&(Ot=-Ot);var ol=Math.cos(Ot),ll=Math.sin(Ot);Ti=new Kt(ol,ll,-ll,ol,0,0)}else Ot&&Ot instanceof Kt&&(Ti=Ot);j!==L||Ti||(Ti=_s),(on=Se.charSpace||Js)!==void 0&&(re+=R(z(on))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Bi=Se.horizontalScale)!==void 0&&(re+=R(100*Bi)+` Tz
`),Se.lang;var ta=-1,Pl=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,mh=y.internal.getCurrentPageInfo().pageContext;switch(Pl){case 0:case!1:case"fill":ta=0;break;case 1:case!0:case"stroke":ta=1;break;case 2:case"fillThenStroke":ta=2;break;case 3:case"invisible":ta=3;break;case 4:case"fillAndAddForClipping":ta=4;break;case 5:case"strokeAndAddPathForClipping":ta=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ta=6;break;case 7:case"addToPathForClipping":ta=7}var Bf=mh.usedRenderingMode!==void 0?mh.usedRenderingMode:-1;ta!==-1?re+=ta+` Tr
`:Bf!==-1&&(re+=`0 Tr
`),ta!==-1&&(mh.usedRenderingMode=ta),Vt=Se.align||"left";var Wa,Mo=Qe*Pe,Ml=y.internal.pageSize.getWidth(),jf=$t[Bt];on=Se.charSpace||Js,Qt=Se.maxWidth||0,Bn=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var Fo=[],wc=function(hi){return y.getStringUnitWidth(hi,{font:jf,charSpace:on,fontSize:Qe,doKerning:!1})*Qe/We};if(Object.prototype.toString.call(C)==="[object Array]"){var xa;ct=wn(C),Vt!=="left"&&(Wa=ct.map(wc));var na,cl=0;if(Vt==="right"){K-=Wa[0],C=[],Ni=ct.length;for(var ul=0;ul<Ni;ul++)ul===0?(na=Yr(K),xa=Or(me)):(na=z(cl-Wa[ul]),xa=-Mo),C.push([ct[ul],na,xa]),cl=Wa[ul]}else if(Vt==="center"){K-=Wa[0]/2,C=[],Ni=ct.length;for(var Fl=0;Fl<Ni;Fl++)Fl===0?(na=Yr(K),xa=Or(me)):(na=z((cl-Wa[Fl])/2),xa=-Mo),C.push([ct[Fl],na,xa]),cl=Wa[Fl]}else if(Vt==="left"){C=[],Ni=ct.length;for(var _h=0;_h<Ni;_h++)C.push(ct[_h])}else if(Vt==="justify"&&jf.encoding==="Identity-H"){C=[],Ni=ct.length,Qt=Qt!==0?Qt:Ml;for(var vh=0,Cr=0;Cr<Ni;Cr++)if(xa=Cr===0?Or(me):-Mo,na=Cr===0?Yr(K):vh,Cr<Ni-1){var Gd=z((Qt-Wa[Cr])/(ct[Cr].split(" ").length-1)),hl=ct[Cr].split(" ");C.push([hl[0]+" ",na,xa]),vh=0;for(var fl=1;fl<hl.length;fl++){var ws=(wc(hl[fl-1]+" "+hl[fl])-wc(hl[fl]))*We+Gd;fl==hl.length-1?C.push([hl[fl],ws,0]):C.push([hl[fl]+" ",ws,0]),vh-=ws}}else C.push([ct[Cr],na,xa]);C.push(["",vh,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Ni=ct.length,Qt=Qt!==0?Qt:Ml,Cr=0;Cr<Ni;Cr++){xa=Cr===0?Or(me):-Mo,na=Cr===0?Yr(K):0;var Bl=ct[Cr].split(" ").length-1,yh=Bl>0?(Qt-Wa[Cr])/Bl:0;Cr<Ni-1?Fo.push(R(z(yh))):Fo.push(0),C.push([ct[Cr],na,xa])}}}(typeof Se.R2L=="boolean"?Se.R2L:Xt)===!0&&(C=ji(C,function(hi,Jn,Ui){return[hi.split("").reverse().join(""),Jn,Ui]})),tt={text:C,x:K,y:me,options:Se,mutex:{pdfEscape:Dn,activeFontKey:Bt,fonts:$t,activeFontSize:Qe}},In.publish("postProcessText",tt),C=tt.text,q=tt.mutex.isHex||!1;var xh=$t[Bt].encoding;xh!=="WinAnsiEncoding"&&xh!=="StandardEncoding"||(C=ji(C,function(hi,Jn,Ui){return[xt(hi),Jn,Ui]})),ct=wn(C),C=[];for(var jl,Ul,dl,uu=Array.isArray(ct[0])?1:0,Ga="",Vl=function(hi,Jn,Ui){var Nr="";return Ui instanceof Kt?(Ui=typeof Se.angle=="number"?Ua(Ui,new Kt(1,0,0,1,hi,Jn)):Ua(new Kt(1,0,0,1,hi,Jn),Ui),j===L&&(Ui=Ua(new Kt(1,0,0,-1,0,0),Ui)),Nr=Ui.join(" ")+` Tm
`):Nr=R(hi)+" "+R(Jn)+` Td
`,Nr},Os=0;Os<ct.length;Os++){switch(Ga="",uu){case 1:dl=(q?"<":"(")+ct[Os][0]+(q?">":")"),jl=parseFloat(ct[Os][1]),Ul=parseFloat(ct[Os][2]);break;case 0:dl=(q?"<":"(")+ct[Os]+(q?">":")"),jl=Yr(K),Ul=Or(me)}Fo!==void 0&&Fo[Os]!==void 0&&(Ga=Fo[Os]+` Tw
`),Os===0?C.push(Ga+Vl(jl,Ul,Ti)+dl):uu===0?C.push(Ga+dl):uu===1&&C.push(Ga+Vl(jl,Ul,Ti)+dl)}C=uu===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var ao=`BT
/`;return ao+=Bt+" "+Qe+` Tf
`,ao+=R(Qe*Pe)+` TL
`,ao+=za+`
`,ao+=re,ao+=C,he(ao+="ET"),_[Bt]=!0,y};var ru=m.__private__.clip=m.clip=function(C){return he(C==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ru("evenodd")},m.__private__.discardPath=m.discardPath=function(){return he("n"),this};var vs=m.__private__.isValidStyle=function(C){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(K=!0),K};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(C){return vs(C)&&(h=C),this};var su=m.__private__.getStyle=m.getStyle=function(C){var K=h;switch(C){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=C}return K},Do=m.close=function(){return he("h"),this};m.stroke=function(){return he("S"),this},m.fill=function(C){return $r("f",C),this},m.fillEvenOdd=function(C){return $r("f*",C),this},m.fillStroke=function(C){return $r("B",C),this},m.fillStrokeEvenOdd=function(C){return $r("B*",C),this};var $r=function(C,K){Pi(K)==="object"?ou(K,C):he(C)},il=function(C){C===null||j===L&&C===void 0||(C=su(C),he(C))};function au(C,K,me,Se,De){var tt=new G0(K||this.boundingBox,me||this.xStep,Se||this.yStep,this.gState,De||this.matrix);tt.stream=this.stream;var ct=C+"$$"+this.cloneIndex+++"$$";return Lr(ct,tt),tt}var ou=function(C,K){var me=Wn[C.key],Se=Yt[me];if(Se instanceof ud)he("q"),he(mc(K)),Se.gState&&m.setGState(Se.gState),he(C.matrix.toString()+" cm"),he("/"+me+" sh"),he("Q");else if(Se instanceof G0){var De=new Kt(1,0,0,-1,0,Ha());C.matrix&&(De=De.multiply(C.matrix||_s),me=au.call(Se,C.key,C.boundingBox,C.xStep,C.yStep,De).id),he("q"),he("/Pattern cs"),he("/"+me+" scn"),Se.gState&&m.setGState(Se.gState),he(K),he("Q")}},mc=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_c=m.moveTo=function(C,K){return he(R(z(C))+" "+R(de(K))+" m"),this},Lo=m.lineTo=function(C,K){return he(R(z(C))+" "+R(de(K))+" l"),this},Ds=m.curveTo=function(C,K,me,Se,De,tt){return he([R(z(C)),R(de(K)),R(z(me)),R(de(Se)),R(z(De)),R(de(tt)),"c"].join(" ")),this};m.__private__.line=m.line=function(C,K,me,Se,De){if(isNaN(C)||isNaN(K)||isNaN(me)||isNaN(Se)||!vs(De))throw new Error("Invalid arguments passed to jsPDF.line");return j===P?this.lines([[me-C,Se-K]],C,K,[1,1],De||"S"):this.lines([[me-C,Se-K]],C,K,[1,1]).stroke()},m.__private__.lines=m.lines=function(C,K,me,Se,De,tt){var ct,Ot,Vt,on,Qt,Bn,Bi,Ti,y,O,q,re;if(typeof C=="number"&&(re=me,me=K,K=C,C=re),Se=Se||[1,1],tt=tt||!1,isNaN(K)||isNaN(me)||!Array.isArray(C)||!Array.isArray(Se)||!vs(De)||typeof tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_c(K,me),ct=Se[0],Ot=Se[1],on=C.length,O=K,q=me,Vt=0;Vt<on;Vt++)(Qt=C[Vt]).length===2?(O=Qt[0]*ct+O,q=Qt[1]*Ot+q,Lo(O,q)):(Bn=Qt[0]*ct+O,Bi=Qt[1]*Ot+q,Ti=Qt[2]*ct+O,y=Qt[3]*Ot+q,O=Qt[4]*ct+O,q=Qt[5]*Ot+q,Ds(Bn,Bi,Ti,y,O,q));return tt&&Do(),il(De),this},m.path=function(C){for(var K=0;K<C.length;K++){var me=C[K],Se=me.c;switch(me.op){case"m":_c(Se[0],Se[1]);break;case"l":Lo(Se[0],Se[1]);break;case"c":Ds.apply(this,Se);break;case"h":Do()}}return this},m.__private__.rect=m.rect=function(C,K,me,Se,De){if(isNaN(C)||isNaN(K)||isNaN(me)||isNaN(Se)||!vs(De))throw new Error("Invalid arguments passed to jsPDF.rect");return j===P&&(Se=-Se),he([R(z(C)),R(de(K)),R(z(me)),R(z(Se)),"re"].join(" ")),il(De),this},m.__private__.triangle=m.triangle=function(C,K,me,Se,De,tt,ct){if(isNaN(C)||isNaN(K)||isNaN(me)||isNaN(Se)||isNaN(De)||isNaN(tt)||!vs(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-C,Se-K],[De-me,tt-Se],[C-De,K-tt]],C,K,[1,1],ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(C,K,me,Se,De,tt,ct){if(isNaN(C)||isNaN(K)||isNaN(me)||isNaN(Se)||isNaN(De)||isNaN(tt)||!vs(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*me),tt=Math.min(tt,.5*Se),this.lines([[me-2*De,0],[De*Ot,0,De,tt-tt*Ot,De,tt],[0,Se-2*tt],[0,tt*Ot,-De*Ot,tt,-De,tt],[2*De-me,0],[-De*Ot,0,-De,-tt*Ot,-De,-tt],[0,2*tt-Se],[0,-tt*Ot,De*Ot,-tt,De,-tt]],C+De,K,[1,1],ct,!0),this},m.__private__.ellipse=m.ellipse=function(C,K,me,Se,De){if(isNaN(C)||isNaN(K)||isNaN(me)||isNaN(Se)||!vs(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tt=4/3*(Math.SQRT2-1)*me,ct=4/3*(Math.SQRT2-1)*Se;return _c(C+me,K),Ds(C+me,K-ct,C+tt,K-Se,C,K-Se),Ds(C-tt,K-Se,C-me,K-ct,C-me,K),Ds(C-me,K+ct,C-tt,K+Se,C,K+Se),Ds(C+tt,K+Se,C+me,K+ct,C+me,K),il(De),this},m.__private__.circle=m.circle=function(C,K,me,Se){if(isNaN(C)||isNaN(K)||isNaN(me)||!vs(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,K,me,me,Se)},m.setFont=function(C,K,me){return me&&(K=F(K,me)),Bt=Io(C,K,{disableWarning:!1}),this};var Va=m.__private__.getFont=m.getFont=function(){return $t[Io.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var C,K,me={};for(C in an)if(an.hasOwnProperty(C))for(K in me[C]=[],an[C])an[C].hasOwnProperty(K)&&me[C].push(K);return me},m.addFont=function(C,K,me,Se,De){var tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tt.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&tt.indexOf(arguments[3])==-1&&(me=F(me,Se)),ni.call(this,C,K,me,De=De||"Identity-H")};var Oo,Ls=n.lineWidth||.200025,rl=m.__private__.getLineWidth=m.getLineWidth=function(){return Ls},nn=m.__private__.setLineWidth=m.setLineWidth=function(C){return Ls=C,he(R(z(C))+" w"),this};m.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(C,K){if(C=C||[],K=K||0,isNaN(K)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(me){return R(z(me))}).join(" "),K=R(z(K)),he("["+C+"] "+K+" d"),this};var kl=m.__private__.getLineHeight=m.getLineHeight=function(){return Qe*Oo};m.__private__.getLineHeight=m.getLineHeight=function(){return Qe*Oo};var vc=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Oo=C),this},sl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Oo};vc(n.lineHeight);var Yr=m.__private__.getHorizontalCoordinate=function(C){return z(C)},Or=m.__private__.getVerticalCoordinate=function(C){return j===L?C:Mt[G].mediaBox.topRightY-Mt[G].mediaBox.bottomLeftY-z(C)},Dl=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(C){return R(Yr(C))},pi=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(C){return R(Or(C))},Qs=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return fe(Qs)},m.__private__.setStrokeColor=m.setDrawColor=function(C,K,me,Se){return Qs=ve({ch1:C,ch2:K,ch3:me,ch4:Se,pdfColorType:"draw",precision:2}),he(Qs),this};var Ll=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return fe(Ll)},m.__private__.setFillColor=m.setFillColor=function(C,K,me,Se){return Ll=ve({ch1:C,ch2:K,ch3:me,ch4:Se,pdfColorType:"fill",precision:2}),he(Ll),this};var za=n.textColor||"0 g",lu=m.__private__.getTextColor=m.getTextColor=function(){return fe(za)};m.__private__.setTextColor=m.setTextColor=function(C,K,me,Se){return za=ve({ch1:C,ch2:K,ch3:me,ch4:Se,pdfColorType:"text",precision:3}),this};var Js=n.charSpace,Po=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Js||0)};m.__private__.setCharSpace=m.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Js=C,this};var Zs=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(C){var K=m.CapJoinStyles[C];if(K===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zs=K,he(K+" J"),this};var Ar=0;m.__private__.setLineJoin=m.setLineJoin=function(C){var K=m.CapJoinStyles[C];if(K===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ar=K,he(K+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(R(z(C))+" M"),this},m.GState=Sv,m.setGState=function(C){(C=typeof C=="string"?en[tn[C]]:to(null,C)).equals(ti)||(he("/"+C.id+" gs"),ti=C)};var to=function(C,K){if(!C||!tn[C]){var me=!1;for(var Se in en)if(en.hasOwnProperty(Se)&&en[Se].equals(K)){me=!0;break}if(me)K=en[Se];else{var De="GS"+(Object.keys(en).length+1).toString(10);en[De]=K,K.id=De}return C&&(tn[C]=K.id),In.publish("addGState",K),K}};m.addGState=function(C,K){return to(C,K),this},m.saveGraphicsState=function(){return he("q"),xn.push({key:Bt,size:Qe,color:za}),this},m.restoreGraphicsState=function(){he("Q");var C=xn.pop();return Bt=C.key,Qe=C.size,za=C.color,ti=null,this},m.setCurrentTransformationMatrix=function(C){return he(C.toString()+" cm"),this},m.comment=function(C){return he("#"+C),this};var ss=function(C,K){var me=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(tt){isNaN(tt)||(me=parseFloat(tt))}});var Se=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(tt){isNaN(tt)||(Se=parseFloat(tt))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(tt){De=tt.toString()}}),this},no=function(C,K,me,Se){ss.call(this,C,K),this.type="rect";var De=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(ct){isNaN(ct)||(De=parseFloat(ct))}});var tt=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(ct){isNaN(ct)||(tt=parseFloat(ct))}}),this},al=function(){this.page=Wt,this.currentPage=G,this.pages=et.slice(0),this.pagesContext=Mt.slice(0),this.x=jt,this.y=Ci,this.matrix=yn,this.width=ya(G),this.height=yc(G),this.outputDestination=yt,this.id="",this.objectNumber=-1};al.prototype.restore=function(){Wt=this.page,G=this.currentPage,Mt=this.pagesContext,et=this.pages,jt=this.x,Ci=this.y,yn=this.matrix,Ol(G,this.width),ea(G,this.height),yt=this.outputDestination};var io=function(C,K,me,Se,De){Sr.push(new al),Wt=G=0,et=[],jt=C,Ci=K,yn=De,ui([me,Se])};for(var ro in m.beginFormObject=function(C,K,me,Se,De){return io(C,K,me,Se,De),this},m.endFormObject=function(C){return(function(K){if(ma[K])Sr.pop().restore();else{var me=new al,Se="Xo"+(Object.keys(Dr).length+1).toString(10);me.id=Se,ma[K]=Se,Dr[Se]=me,In.publish("addFormObject",me),Sr.pop().restore()}})(C),this},m.doFormObject=function(C,K){var me=Dr[ma[C]];return he("q"),he(K.toString()+" cm"),he("/"+me.id+" Do"),he("Q"),this},m.getFormObject=function(C){var K=Dr[ma[C]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},m.save=function(C,K){return C=C||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(cd(Gn(va()),C),typeof cd.unload=="function"&&En.setTimeout&&setTimeout(cd.unload,911),this):new Promise(function(me,Se){try{var De=cd(Gn(va()),C);typeof cd.unload=="function"&&En.setTimeout&&setTimeout(cd.unload,911),me(De)}catch(tt){Se(tt.message)}})},Jt.API)Jt.API.hasOwnProperty(ro)&&(ro==="events"&&Jt.API.events.length?(function(C,K){var me,Se,De;for(De=K.length-1;De!==-1;De--)me=K[De][0],Se=K[De][1],C.subscribe.apply(C,[me].concat(typeof Se=="function"?[Se]:Se))})(In,Jt.API.events):m[ro]=Jt.API[ro]);function ya(C){return Mt[C].mediaBox.topRightX-Mt[C].mediaBox.bottomLeftX}function Ol(C,K){Mt[C].mediaBox.topRightX=K+Mt[C].mediaBox.bottomLeftX}function yc(C){return Mt[C].mediaBox.topRightY-Mt[C].mediaBox.bottomLeftY}function ea(C,K){Mt[C].mediaBox.topRightY=K+Mt[C].mediaBox.bottomLeftY}var so=m.getPageWidth=function(C){return ya(C=C||G)/gn},cu=m.setPageWidth=function(C,K){Ol(C,K*gn)},Ha=m.getPageHeight=function(C){return yc(C=C||G)/gn},xc=m.setPageHeight=function(C,K){ea(C,K*gn)};return m.internal={pdfEscape:Dn,getStyle:su,getFont:Va,getFontSize:At,getCharSpace:Po,getTextColor:lu,getLineHeight:kl,getLineHeightFactor:sl,getLineWidth:rl,write:pt,getHorizontalCoordinate:Yr,getVerticalCoordinate:Or,getCoordinateString:Dl,getVerticalCoordinateString:pi,collections:{},newObject:di,newAdditionalObject:pe,newObjectDeferred:Si,newObjectDeferredBegin:J,getFilters:Fe,putStream:Ke,events:In,scaleFactor:gn,pageSize:{getWidth:function(){return so(G)},setWidth:function(C){cu(G,C)},getHeight:function(){return Ha(G)},setHeight:function(C){xc(G,C)}},encryptionOptions:f,encryption:Ki,getEncryptor:function(C){return f!==null?Ki.encryptor(C,0):function(K){return K}},output:nl,getNumberOfPages:ks,get pages(){return et},out:he,f2:I,f3:M,getPageInfo:gr,getPageInfoByObjId:Il,getCurrentPageInfo:gh,getPDFVersion:x,Point:ss,Rectangle:no,Matrix:Kt,hasHotfix:Tr},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return so(G)},set:function(C){cu(G,C)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ha(G)},set:function(C){xc(G,C)},enumerable:!0,configurable:!0}),(function(C){for(var K=0,me=It.length;K<me;K++){var Se=ni.call(this,C[K][0],C[K][1],C[K][2],It[K][3],!0);p===!1&&(_[Se]=!0);var De=C[K][0].split("-");Lt({id:Se,fontName:De[0],fontStyle:De[1]||""})}In.publish("addFonts",{fonts:$t,dictionary:an})}).call(m,It),Bt="F1",Gr(r,t),In.publish("initialized"),m}j0.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},j0.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},j0.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},j0.prototype.processOwnerPassword=function(n,e){return Bb(Fb(e).substr(0,5),n)},j0.prototype.encryptor=function(n,e){var t=Fb(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Bb(t,i)}},Sv.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Pi(n)!==Pi(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Jt.API={events:[]},Jt.version="3.0.4";var Vr=Jt.API,$S=1,Ud=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},I0=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nn=function(n){return n.toFixed(2)},Gh=function(n){return n.toFixed(5)};Vr.__acroform__={};var Ro=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},NR=function(n){return n*$S},Fc=function(n){var e=new OP,t=Ht.internal.getHeight(n)||0,i=Ht.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Nn(i)),Number(Nn(t))],e},Oie=Vr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Pie=Vr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Mie=Vr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Jr=Vr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mie(n,e-1)},Zr=Vr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Oie(n,e-1)},es=Vr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pie(n,e-1)},Fie=Vr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],s=n[1],a=n[2],l=n[3],c={};return c.lowerLeft_X=t(r)||0,c.lowerLeft_Y=i(s+l)||0,c.upperRight_X=t(r+a)||0,c.upperRight_Y=i(s)||0,[Number(Nn(c.lowerLeft_X)),Number(Nn(c.lowerLeft_Y)),Number(Nn(c.upperRight_X)),Number(Nn(c.upperRight_Y))]},Bie=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=jb(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+Nn(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Fc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},jb=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(I){return I.split(`
`)}):r.map(function(I){return[I]});var s=t,a=Ht.internal.getHeight(n)||0;a=a<0?-a:a;var l=Ht.internal.getWidth(n)||0;l=l<0?-l:l;var c=function(I,M,z){if(I+1<r.length){var de=M+" "+r[I+1][0];return Z2(de,n,z).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var h,f,p=Z2("3",n,s).height,_=n.multiline?a-s:(a-p)/2,m=_+=2,b=0,x=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Z2(e,n,s=12).width+", FieldWidth:"+l+`
`;break}for(var A="",P=0,L=0;L<r.length;L++)if(r.hasOwnProperty(L)){var j=!1;if(r[L].length!==1&&E!==r[L].length-1){if((p+2)*(P+2)+2>a)continue e;A+=r[L][E],j=!0,x=L,L--}else{A=(A+=r[L][E]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var Q=parseInt(L),ae=c(Q,A,s),F=L>=r.length-1;if(ae&&!F){A+=" ",E=0;continue}if(ae||F){if(F)x=Q;else if(n.multiline&&(p+2)*(P+2)+2>a)continue e}else{if(!n.multiline||(p+2)*(P+2)+2>a)continue e;x=Q}}for(var R="",N=b;N<=x;N++){var U=r[N];if(n.multiline){if(N===x){R+=U[E]+" ",E=(E+1)%U.length;continue}if(N===b){R+=U[U.length-1]+" ";continue}}R+=U[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,f=Z2(R,n,s).width,n.textAlign){case"right":h=l-f-2;break;case"center":h=(l-f)/2;break;default:h=2}e+=Nn(h)+" "+Nn(m)+` Td
`,e+="("+Ud(R)+`) Tj
`,e+=-Nn(h)+` 0 Td
`,m=-(s+2),f=0,b=j?x:x+1,P++,A=""}break}return i.text=e,i.fontSize=s,i},Z2=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},jie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uie=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Vie=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(pc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(jie)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$S=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new PP,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Uie(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var l=i[a],c=[],h=l.Rect;if(l.Rect&&(l.Rect=Fie(l.Rect,r)),r.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ht.createDefaultAppearanceStream(l),Pi(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Bie(l);c.push({key:"AP",value:"<</N "+f+">>"}),r.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var _ in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(_)){var m=l.appearanceStreamContent[_];if(p+="/"+_+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var b=m[a];typeof b=="function"&&(b=b.call(r,l)),p+="/"+a+" "+b+" ",r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(r,l)),p+="/"+a+" "+b,r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:l.objId}),r.internal.out("endobj")}s&&(function(x,E){for(var A in x)if(x.hasOwnProperty(A)){var P=A,L=x[A];E.internal.newObjectDeferredBegin(L.objId,!0),Pi(L)==="object"&&typeof L.putStream=="function"&&L.putStream(),delete x[P]}})(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},LP=Vr.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(a){return a};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),Pi(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+Ud(i(n[s].toString()))+")"):r+=n[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lw=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Ud(i(n))+")"},qc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qc.prototype.toString=function(){return this.objId+" 0 R"},qc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:LP(r,this.objId,this.scope)}):r instanceof qc?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var OP=function(){qc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ro(OP,qc);var PP=function(){qc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Ud(t(n))+")"}},set:function(t){n=t}})};Ro(PP,qc);var pc=function n(){qc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jr(e,3)},set:function(A){A?this.F=Zr(e,3):this.F=es(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');t=A}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(A){i=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(A){i[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(A){i[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(A){i[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(A){i[3]=A}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Tv)return;s="FieldObject"+n.FieldNum++}var A=function(P){return P};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Ud(A(s))+")"},set:function(A){s=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(A){s=A}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/$S:h},set:function(A){h=A}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(A){f=A}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Tv||this instanceof _d))return lw(p,this.objId,this.scope)},set:function(A){A=A.toString(),p=A}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Hs==0?lw(_,this.objId,this.scope):_},set:function(A){A=A.toString(),_=this instanceof Hs==0?A.substr(0,1)==="("?I0(A.substr(1,A.length-2)):I0(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hs==1?I0(_.substr(1,_.length-1)):_},set:function(A){A=A.toString(),_=this instanceof Hs==1?"/"+A:A}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Hs==0?lw(m,this.objId,this.scope):m},set:function(A){A=A.toString(),m=this instanceof Hs==0?A.substr(0,1)==="("?I0(A.substr(1,A.length-2)):I0(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hs==1?I0(m.substr(1,m.length-1)):m},set:function(A){A=A.toString(),m=this instanceof Hs==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(A){A=!!A,x=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(A){b=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,1)},set:function(A){A?this.Ff=Zr(this.Ff,1):this.Ff=es(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,2)},set:function(A){A?this.Ff=Zr(this.Ff,2):this.Ff=es(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,3)},set:function(A){A?this.Ff=Zr(this.Ff,3):this.Ff=es(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');E=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(E){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};Ro(pc,qc);var np=function(){pc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LP(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=(function(s,a,l){l||(l=1);for(var c,h=[];c=a.exec(s);)h.push(c[l]);return h})(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,18)},set:function(t){t?this.Ff=Zr(this.Ff,18):this.Ff=es(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Zr(this.Ff,19):this.Ff=es(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,20)},set:function(t){t?(this.Ff=Zr(this.Ff,20),e.sort()):this.Ff=es(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,22)},set:function(t){t?this.Ff=Zr(this.Ff,22):this.Ff=es(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(t){t?this.Ff=Zr(this.Ff,23):this.Ff=es(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,27)},set:function(t){t?this.Ff=Zr(this.Ff,27):this.Ff=es(this.Ff,27)}}),this.hasAppearanceStream=!1};Ro(np,pc);var ip=function(){np.call(this),this.fontName="helvetica",this.combo=!1};Ro(ip,np);var rp=function(){ip.call(this),this.combo=!0};Ro(rp,ip);var N_=function(){rp.call(this),this.edit=!0};Ro(N_,rp);var Hs=function(){pc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,15)},set:function(t){t?this.Ff=Zr(this.Ff,15):this.Ff=es(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,16)},set:function(t){t?this.Ff=Zr(this.Ff,16):this.Ff=es(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,17)},set:function(t){t?this.Ff=Zr(this.Ff,17):this.Ff=es(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(t){t?this.Ff=Zr(this.Ff,26):this.Ff=es(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Ud(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){Pi(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ro(Hs,pc);var R_=function(){Hs.call(this),this.pushButton=!0};Ro(R_,Hs);var sp=function(){Hs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ro(sp,Hs);var Tv=function(){var n,e;pc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+Ud(r(i[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){Pi(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ro(Tv,pc),sp.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},sp.prototype.createOption=function(n){var e=new Tv;return e.Parent=this,e.optionName=n,this.Kids.push(e),zie.call(this.scope,e),e};var I_=function(){Hs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ht.CheckBox.createAppearanceStream()};Ro(I_,Hs);var _d=function(){pc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,13)},set:function(e){e?this.Ff=Zr(this.Ff,13):this.Ff=es(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,21)},set:function(e){e?this.Ff=Zr(this.Ff,21):this.Ff=es(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(e){e?this.Ff=Zr(this.Ff,23):this.Ff=es(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,24)},set:function(e){e?this.Ff=Zr(this.Ff,24):this.Ff=es(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,25)},set:function(e){e?this.Ff=Zr(this.Ff,25):this.Ff=es(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(e){e?this.Ff=Zr(this.Ff,26):this.Ff=es(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ro(_d,pc);var k_=function(){_d.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,14)},set:function(n){n?this.Ff=Zr(this.Ff,14):this.Ff=es(this.Ff,14)}}),this.password=!0};Ro(k_,_d);var Ht={CheckBox:{createAppearanceStream:function(){return{N:{On:Ht.CheckBox.YesNormal},D:{On:Ht.CheckBox.YesPushDown,Off:Ht.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Fc(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=jb(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Nn(Ht.internal.getWidth(n))+" "+Nn(Ht.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Nn(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Fc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=Ht.internal.getHeight(n),a=Ht.internal.getWidth(n),l=jb(n,n.caption);return r.push("1 g"),r.push("0 0 "+Nn(a)+" "+Nn(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Nn(a-1)+" "+Nn(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+Nn(l.fontSize)+" Tf "+i),r.push(l.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Fc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Nn(Ht.internal.getWidth(n))+" "+Nn(Ht.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ht.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ht.RadioButton.Circle.YesNormal,e.D[n]=Ht.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Fc(n);e.scope=n.scope;var t=[],i=Ht.internal.getWidth(n)<=Ht.internal.getHeight(n)?Ht.internal.getWidth(n)/4:Ht.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Ht.internal.Bezier_C,s=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Gh(Ht.internal.getWidth(n)/2)+" "+Gh(Ht.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Fc(n);e.scope=n.scope;var t=[],i=Ht.internal.getWidth(n)<=Ht.internal.getHeight(n)?Ht.internal.getWidth(n)/4:Ht.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Ht.internal.Bezier_C).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Gh(Ht.internal.getWidth(n)/2)+" "+Gh(Ht.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Gh(Ht.internal.getWidth(n)/2)+" "+Gh(Ht.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Fc(n);e.scope=n.scope;var t=[],i=Ht.internal.getWidth(n)<=Ht.internal.getHeight(n)?Ht.internal.getWidth(n)/4:Ht.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Ht.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Gh(Ht.internal.getWidth(n)/2)+" "+Gh(Ht.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ht.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ht.RadioButton.Cross.YesNormal,e.D[n]=Ht.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Fc(n);e.scope=n.scope;var t=[],i=Ht.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Nn(Ht.internal.getWidth(n)-2)+" "+Nn(Ht.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Nn(i.x1.x)+" "+Nn(i.x1.y)+" m"),t.push(Nn(i.x2.x)+" "+Nn(i.x2.y)+" l"),t.push(Nn(i.x4.x)+" "+Nn(i.x4.y)+" m"),t.push(Nn(i.x3.x)+" "+Nn(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Fc(n);e.scope=n.scope;var t=Ht.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Nn(Ht.internal.getWidth(n))+" "+Nn(Ht.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Nn(Ht.internal.getWidth(n)-2)+" "+Nn(Ht.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Nn(t.x1.x)+" "+Nn(t.x1.y)+" m"),i.push(Nn(t.x2.x)+" "+Nn(t.x2.y)+" l"),i.push(Nn(t.x4.x)+" "+Nn(t.x4.y)+" m"),i.push(Nn(t.x3.x)+" "+Nn(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Fc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Nn(Ht.internal.getWidth(n))+" "+Nn(Ht.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ht.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ht.internal.getWidth(n),t=Ht.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},Ht.internal.getWidth=function(n){var e=0;return Pi(n)==="object"&&(e=NR(n.Rect[2])),e},Ht.internal.getHeight=function(n){var e=0;return Pi(n)==="object"&&(e=NR(n.Rect[3])),e};var zie=Vr.addField=function(n){if(Vie(this,n),!(n instanceof pc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Vr.AcroFormChoiceField=np,Vr.AcroFormListBox=ip,Vr.AcroFormComboBox=rp,Vr.AcroFormEditBox=N_,Vr.AcroFormButton=Hs,Vr.AcroFormPushButton=R_,Vr.AcroFormRadioButton=sp,Vr.AcroFormCheckBox=I_,Vr.AcroFormTextField=_d,Vr.AcroFormPasswordField=k_,Vr.AcroFormAppearance=Ht,Vr.AcroForm={ChoiceField:np,ListBox:ip,ComboBox:rp,EditBox:N_,Button:Hs,PushButton:R_,RadioButton:sp,CheckBox:I_,TextField:_d,PasswordField:k_,Appearance:Ht},Jt.AcroForm={ChoiceField:np,ListBox:ip,ComboBox:rp,EditBox:N_,Button:Hs,PushButton:R_,RadioButton:sp,CheckBox:I_,TextField:_d,PasswordField:k_,Appearance:Ht};Jt.AcroForm;function MP(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(I,M){var z,de,we,ce,ye,be=t;if((M=M||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ae(I))for(ye in i)for(we=i[ye],z=0;z<we.length;z+=1){for(ce=!0,de=0;de<we[z].length;de+=1)if(we[z][de]!==void 0&&we[z][de]!==I[de]){ce=!1;break}if(ce===!0){be=ye;break}}else for(ye in i)for(we=i[ye],z=0;z<we.length;z+=1){for(ce=!0,de=0;de<we[z].length;de+=1)if(we[z][de]!==void 0&&we[z][de]!==I.charCodeAt(de)){ce=!1;break}if(ce===!0){be=ye;break}}return be===t&&M!==t&&(be=M),be},s=function I(M){for(var z=this.internal.write,de=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:M.width}),ce.push({key:"Height",value:M.height}),M.colorSpace===A.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===A.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var ye="",be=0,Ne=M.transparency.length;be<Ne;be++)ye+=M.transparency[be]+" "+M.transparency[be]+" ";ce.push({key:"Mask",value:"["+ye+"]"})}M.sMask!==void 0&&ce.push({key:"SMask",value:M.objectId+1+" 0 R"});var $e=M.filter!==void 0?["/"+M.filter]:void 0;if(de({data:M.data,additionalKeyValues:ce,alreadyAppliedFilters:$e,objectId:M.objectId}),z("endobj"),"sMask"in M&&M.sMask!==void 0){var se,k=(se=M.sMaskBitsPerComponent)!==null&&se!==void 0?se:M.bitsPerComponent,G={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:M.sMask};"filter"in M&&(G.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(M.width),G.filter=M.filter),I.call(this,G)}if(M.colorSpace===A.INDEXED){var W=this.internal.newObject();de({data:R(new Uint8Array(M.palette)),objectId:W}),z("endobj")}},a=function(){var I=this.internal.collections[e+"images"];for(var M in I)s.call(this,I[M])},l=function(){var I,M=this.internal.collections[e+"images"],z=this.internal.write;for(var de in M)z("/I"+(I=M[de]).index,I.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var I=this.internal.collections[e+"images"];return c.call(this),I},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(I){return typeof n["process"+I.toUpperCase()]=="function"},_=function(I){return Pi(I)==="object"&&I.nodeType===1},m=function(I,M){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var z=""+I.getAttribute("src");if(z.indexOf("data:image/")===0)return C_(unescape(z).split("base64,").pop());var de=n.loadFile(z,!0);if(de!==void 0)return de}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var we;switch(M){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return C_(I.toDataURL(we,1).split("base64,").pop())}},b=function(I){var M=this.internal.collections[e+"images"];if(M){for(var z in M)if(I===M[z].alias)return M[z]}},x=function(I,M,z){return I||M||(I=-96,M=-96),I<0&&(I=-1*z.width*72/I/this.internal.scaleFactor),M<0&&(M=-1*z.height*72/M/this.internal.scaleFactor),I===0&&(I=M*z.width/z.height),M===0&&(M=I*z.height/z.width),[I,M]},E=function(I,M,z,de,we,ce){var ye=x.call(this,z,de,we),be=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,$e=h.call(this);if(z=ye[0],de=ye[1],$e[we.index]=we,ce){ce*=Math.PI/180;var se=Math.cos(ce),k=Math.sin(ce),G=function(Y){return Y.toFixed(4)},W=[G(se),G(k),G(-1*k),G(se),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,be(I),Ne(M+de),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([be(z),"0","0",be(de),"0","0","cm"].join(" "))):this.internal.write([be(z),"0","0",be(de),be(I),Ne(M+de),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},A=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=n.__addimage__.sHashCode=function(I){var M,z,de=0;if(typeof I=="string")for(z=I.length,M=0;M<z;M++)de=(de<<5)-de+I.charCodeAt(M),de|=0;else if(ae(I))for(z=I.byteLength/2,M=0;M<z;M++)de=(de<<5)-de+I[M],de|=0;return de},j=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var M=!0;return I.length===0&&(M=!1),I.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(M=!1),M},Q=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var M=I.indexOf(",");return M<0?null:I.substring(0,M).trim().endsWith("base64")?I.substring(M+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var ae=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},F=n.__addimage__.binaryStringToUint8Array=function(I){for(var M=I.length,z=new Uint8Array(M),de=0;de<M;de++)z[de]=I.charCodeAt(de);return z},R=n.__addimage__.arrayBufferToBinaryString=function(I){for(var M="",z=ae(I)?I:new Uint8Array(I),de=0;de<z.length;de+=8192)M+=String.fromCharCode.apply(null,z.subarray(de,de+8192));return M};n.addImage=function(){var I,M,z,de,we,ce,ye,be,Ne;if(typeof arguments[1]=="number"?(M=t,z=arguments[1],de=arguments[2],we=arguments[3],ce=arguments[4],ye=arguments[5],be=arguments[6],Ne=arguments[7]):(M=arguments[1],z=arguments[2],de=arguments[3],we=arguments[4],ce=arguments[5],ye=arguments[6],be=arguments[7],Ne=arguments[8]),Pi(I=arguments[0])==="object"&&!_(I)&&"imageData"in I){var $e=I;I=$e.imageData,M=$e.format||M||t,z=$e.x||z||0,de=$e.y||de||0,we=$e.w||$e.width||we,ce=$e.h||$e.height||ce,ye=$e.alias||ye,be=$e.compression||be,Ne=$e.rotation||$e.angle||Ne}var se=this.internal.getFilters();if(be===void 0&&se.indexOf("FlateEncode")!==-1&&(be="SLOW"),isNaN(z)||isNaN(de))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var k=N.call(this,I,M,ye,be);return E.call(this,z,de,we,ce,k,Ne),this};var N=function(I,M,z,de){var we,ce,ye;if(typeof I=="string"&&r(I)===t){I=unescape(I);var be=U(I,!1);(be!==""||(be=n.loadFile(I,!0))!==void 0)&&(I=be)}if(_(I)&&(I=m(I,M)),M=r(I,M),!p(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ye=z)==null||ye.length===0)&&(z=(function(Ne){return typeof Ne=="string"||ae(Ne)?L(Ne):ae(Ne.data)?L(Ne.data):null})(I)),(we=b.call(this,z))||(I instanceof Uint8Array||M==="RGBA"||(ce=I,I=F(I)),we=this["process"+M.toUpperCase()](I,f.call(this),z,(function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in n.image_compression?Ne:P.NONE})(de),ce)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},U=n.__addimage__.convertBase64ToBinaryString=function(I,M){M=typeof M!="boolean"||M;var z,de="";if(typeof I=="string"){var we;z=(we=Q(I))!==null&&we!==void 0?we:I;try{de=C_(z)}catch(ce){if(M)throw j(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};n.getImageProperties=function(I){var M,z,de="";if(_(I)&&(I=m(I)),typeof I=="string"&&r(I)===t&&((de=U(I,!1))===""&&(de=n.loadFile(I)||""),I=de),z=r(I),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(I instanceof Uint8Array||(I=F(I)),!(M=this["process"+z.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=z,M}})(Jt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Jt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,f=!1,p=0;p<h.length&&!f;p++)switch((i=h[p]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){i=h[_];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(x.objId),P=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+m(A(i.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(A(P))+") >>",x.content=s;var L=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+L,i.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(x.objId,"0 R",E.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+l(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var j=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+m(b(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var Q=this.annotations._nameMap[i.options.name];i.options.pageNumber=Q.page,i.options.top=Q.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var ae=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+ae+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,s,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:h(i),w:c(t+r),h:h(i+s)},options:a,type:"link"})},n.textWithLink=function(t,i,r,s){var a,l,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(t,l).length;a=Math.ceil(h*f)}else l=c,a=h;return this.text(t,i,r,s),r+=.2*h,s.align==="center"&&(i-=c/2),s.align==="right"&&(i-=c),this.link(i,r-h,l,a,s),c},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(Jt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=n.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&r.indexOf(x.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(x){var E=0,A=t,P="",L=0;for(E=0;E<x.length;E+=1)A[x.charCodeAt(E)]!==void 0?(L++,typeof(A=A[x.charCodeAt(E)])=="number"&&(P+=String.fromCharCode(A),A=t,L=0),E===x.length-1&&(A=t,P+=x.charAt(E-(L-1)),E-=L-1,L=0)):(A=t,P+=x.charAt(E-L),E-=L,L=0);return P};n.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&i[x.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(x,E,A){return a(x)?s(x)===!1?-1:!h(x)||!a(E)&&!a(A)||!a(A)&&l(E)||l(x)&&!a(E)||l(x)&&c(E)||l(x)&&l(E)?0:f(x)&&a(E)&&!l(E)&&a(A)&&h(A)?3:l(x)||!a(A)?1:2:-1},m=function(x){var E=0,A=0,P=0,L="",j="",Q="",ae=(x=x||"").split("\\s+"),F=[];for(E=0;E<ae.length;E+=1){for(F.push(""),A=0;A<ae[E].length;A+=1)L=ae[E][A],j=ae[E][A-1],Q=ae[E][A+1],a(L)?(P=_(L,j,Q),F[E]+=P!==-1?String.fromCharCode(e[L.charCodeAt(0)][P]):L):F[E]+=L;F[E]=p(F[E])}return F.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var x,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(E)){var P=0;for(A=[],P=0;P<E.length;P+=1)Array.isArray(E[P])?A.push([m(E[P][0]),E[P][1],E[P][2]]):A.push([m(E[P])]);x=A}else x=m(E);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};n.events.push(["preProcessText",b])})(Jt.API),Jt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Jt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(x){_=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){i.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,m=0,b=0,x=0,E=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var A=h.maxWidth;A>0?typeof c=="string"?c=this.splitTextToSize(c,A):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(L,j){return L.concat(E.splitTextToSize(j,A))},[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)m<(x=this.getStringUnitWidth(c[P],{font:p})*f)&&(m=x);return m!==0&&(b=c.length),{w:m/=_,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&_&&(this.printHeaderRow(c.lineNumber,!0),c.y+=_[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,f,p,_){if(i.call(this),!f)throw new Error("No data for PDF table.");var m,b,x,E,A=[],P=[],L=[],j={},Q={},ae=[],F=[],R=(_=_||{}).autoSize||!1,N=_.printHeaders!==!1,U=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,I=_.margins||Object.assign({width:this.getPageWidth()},e),M=typeof _.padding=="number"?_.padding:3,z=_.headerBackgroundColor||"#c8c8c8",de=_.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=de,this.setFontSize(U),p==null)P=A=Object.keys(f[0]),L=A.map(function(){return"left"});else if(Array.isArray(p)&&Pi(p[0])==="object")for(A=p.map(function($e){return $e.name}),P=p.map(function($e){return $e.prompt||$e.name||""}),L=p.map(function($e){return $e.align||"left"}),m=0;m<p.length;m+=1)Q[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(P=A=p,L=A.map(function(){return"left"}));if(R||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<A.length;m+=1){for(j[E=A[m]]=f.map(function($e){return $e[E]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(P[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=j[E],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)ae.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[E]=Math.max.apply(null,ae)+M+M,ae=[]}if(N){var we={};for(m=0;m<A.length;m+=1)we[A[m]]={},we[A[m]].text=P[m],we[A[m]].align=L[m];var ce=l.call(this,we,Q);F=A.map(function($e){return new s(c,h,Q[$e],ce,we[$e].text,void 0,we[$e].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ye=p.reduce(function($e,se){return $e[se.name]=se.align,$e},{});for(m=0;m<f.length;m+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:m,data:f[m]},this);var be=l.call(this,f[m],Q);for(x=0;x<A.length;x+=1){var Ne=f[m][A[x]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:m,col:x,data:Ne},this),a.call(this,new s(c,h,Q[A[x]],be,Ne,m+2,ye[A[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(c).map(function(m){var b=c[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,h[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/_+f+f},this).reduce(function(m,b){return Math.max(m,b)},0)};n.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,_.push(f)),f.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(b)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(Jt.API);var FP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},BP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ub=MP(BP),jP=[100,200,300,400,500,600,700,800,900],Hie=MP(jP);function cw(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return FP[s=s||"normal"]?s:"normal"})(n.style),i=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),r=(function(s){return typeof Ub[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function RR(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var qie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kR(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function DR(n){return n.trimLeft()}function Wie(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Gie(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var e_,LR,OR,k0,t_,PR,MR,FR,uw=["times"];function BR(n,e,t,i,r){var s=4,a=UR;switch(r){case Jt.API.image_compression.FAST:s=1,a=jR;break;case Jt.API.image_compression.MEDIUM:s=6,a=VR;break;case Jt.API.image_compression.SLOW:s=9,a=zR}n=(function(c,h,f,p){for(var _,m=c.length/h,b=new Uint8Array(c.length+m),x=[$ie,jR,UR,VR,zR],E=0;E<m;E+=1){var A=E*h,P=c.subarray(A,A+h);if(p)b.set(p(P,f,_),A+E);else{for(var L=x.length,j=[],Q=0;Q<L;Q+=1)j[Q]=x[Q](P,f,_);var ae=Kie(j.concat());b.set(j[ae],A+E)}_=P}return b})(n,e,Math.ceil(t*i/8),a);var l=Lb(n,{level:s});return Jt.API.__addimage__.arrayBufferToBinaryString(l)}function $ie(n){var e=Array.apply([],n);return e.unshift(0),e}function jR(n,e){var t=n.length,i=[];i[0]=1;for(var r=0;r<t;r+=1){var s=n[r-e]||0;i[r+1]=n[r]-s+256&255}return i}function UR(n,e,t){var i=n.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var a=t&&t[s]||0;r[s+1]=n[s]-a+256&255}return r}function VR(n,e,t){var i=n.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var a=n[s-e]||0,l=t&&t[s]||0;r[s+1]=n[s]+256-(a+l>>>1)&255}return r}function zR(n,e,t){var i=n.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var a=Yie(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);r[s+1]=n[s]-a+256&255}return r}function Yie(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),r=Math.abs(n-t),s=Math.abs(n+e-t-t);return i<=r&&i<=s?n:r<=s?e:t}function Kie(n){var e=n.map(function(t){return t.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function hw(n,e,t){var i=e*t,r=Math.floor(i/8),s=16-(i-8*r+t),a=(1<<t)-1;return UP(n,r)>>s&a}function HR(n,e,t,i){var r=t*i,s=Math.floor(r/8),a=16-(r-8*s+i),l=(1<<i)-1,c=(e&l)<<a;(function(h,f,p){if(f+1<h.byteLength)h.setUint16(f,p,!1);else{var _=p>>8&255;h.setUint8(f,_)}})(n,s,UP(n,s)&~(l<<a)&65535|c)}function UP(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function Xie(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],s=r>>7,a=1<<1+(7&r);n[e++],n[e++];var l=null,c=null;s&&(l=e,c=a,e+=3*a);var h=!0,f=[],p=0,_=null,m=0,b=null;for(this.width=t,this.height=i;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=n[e++];p=n[e++]|n[e++]<<8,_=n[e++],1&x||(_=null),m=x>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var E=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,j=n[e++],Q=j>>6&1,ae=1<<1+(7&j),F=l,R=c,N=!1;j>>7&&(N=!0,F=e,R=ae,e+=3*ae);var U=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}f.push({x:E,y:A,width:P,height:L,has_local_palette:N,palette_offset:F,palette_size:R,data_offset:U,data_length:e-U,transparent_index:_,interlaced:!!Q,delay:p,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,z){var de=this.frameInfo(M),we=de.width*de.height,ce=new Uint8Array(we);qR(n,de.data_offset,ce,we);var ye=de.palette_offset,be=de.transparent_index;be===null&&(be=256);var Ne=de.width,$e=t-Ne,se=Ne,k=4*(de.y*t+de.x),G=4*((de.y+de.height)*t+de.x),W=k,Y=4*$e;de.interlaced===!0&&(Y+=4*t*7);for(var ne=8,xe=0,Ae=ce.length;xe<Ae;++xe){var Te=ce[xe];if(se===0&&(se=Ne,(W+=Y)>=G&&(Y=4*$e+4*t*(ne-1),W=k+(Ne+$e)*(ne<<1),ne>>=1)),Te===be)W+=4;else{var Ie=n[ye+3*Te],et=n[ye+3*Te+1],lt=n[ye+3*Te+2];z[W++]=lt,z[W++]=et,z[W++]=Ie,z[W++]=255}--se}},this.decodeAndBlitFrameRGBA=function(M,z){var de=this.frameInfo(M),we=de.width*de.height,ce=new Uint8Array(we);qR(n,de.data_offset,ce,we);var ye=de.palette_offset,be=de.transparent_index;be===null&&(be=256);var Ne=de.width,$e=t-Ne,se=Ne,k=4*(de.y*t+de.x),G=4*((de.y+de.height)*t+de.x),W=k,Y=4*$e;de.interlaced===!0&&(Y+=4*t*7);for(var ne=8,xe=0,Ae=ce.length;xe<Ae;++xe){var Te=ce[xe];if(se===0&&(se=Ne,(W+=Y)>=G&&(Y=4*$e+4*t*(ne-1),W=k+(Ne+$e)*(ne<<1),ne>>=1)),Te===be)W+=4;else{var Ie=n[ye+3*Te],et=n[ye+3*Te+1],lt=n[ye+3*Te+2];z[W++]=Ie,z[W++]=et,z[W++]=lt,z[W++]=255}--se}}}function qR(n,e,t,i){for(var r=n[e++],s=1<<r,a=s+1,l=a+1,c=r+1,h=(1<<c)-1,f=0,p=0,_=0,m=n[e++],b=new Int32Array(4096),x=null;;){for(;f<16&&m!==0;)p|=n[e++]<<f,f+=8,m===1?m=n[e++]:--m;if(f<c)break;var E=p&h;if(p>>=c,f-=c,E!==s){if(E===a)break;for(var A=E<l?E:x,P=0,L=A;L>s;)L=b[L]>>8,++P;var j=L;if(_+P+(A!==E?1:0)>i)return void Zi.log("Warning, gif stream longer than expected.");t[_++]=j;var Q=_+=P;for(A!==E&&(t[_++]=j),L=A;P--;)L=b[L],t[--Q]=255&L,L>>=8;x!==null&&l<4096&&(b[l++]=x<<8|j,l>=h+1&&c<12&&(++c,h=h<<1|1)),x=E}else l=a+1,h=(1<<(c=r+1))-1,x=null}return _!==i&&Zi.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fw(n){var e,t,i,r,s,a=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(65535),_=new Array(65535),m=new Array(64),b=new Array(64),x=[],E=0,A=7,P=new Array(64),L=new Array(64),j=new Array(64),Q=new Array(256),ae=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(k,G){for(var W=0,Y=0,ne=new Array,xe=1;xe<=16;xe++){for(var Ae=1;Ae<=k[xe];Ae++)ne[G[Y]]=[],ne[G[Y]][0]=W,ne[G[Y]][1]=xe,Y++,W++;W*=2}return ne}function ye(k){for(var G=k[0],W=k[1]-1;W>=0;)G&1<<W&&(E|=1<<A),W--,--A<0&&(E==255?(be(255),be(0)):be(E),A=7,E=0)}function be(k){x.push(k)}function Ne(k){be(k>>8&255),be(255&k)}function $e(k,G,W,Y,ne){for(var xe,Ae=ne[0],Te=ne[240],Ie=(function(Qe,Ct){var At,Xt,qt,Zt,mn,un,Tn,hn,Bt,gn,jt=0;for(Bt=0;Bt<8;++Bt){At=Qe[jt],Xt=Qe[jt+1],qt=Qe[jt+2],Zt=Qe[jt+3],mn=Qe[jt+4],un=Qe[jt+5],Tn=Qe[jt+6];var Ci=At+(hn=Qe[jt+7]),yn=At-hn,$t=Xt+Tn,an=Xt-Tn,xn=qt+un,Yt=qt-un,Wn=Zt+mn,en=Zt-mn,tn=Ci+Wn,ti=Ci-Wn,Wt=$t+xn,Mt=$t-xn;Qe[jt]=tn+Wt,Qe[jt+4]=tn-Wt;var In=.707106781*(Mt+ti);Qe[jt+2]=ti+In,Qe[jt+6]=ti-In;var Wr=.382683433*((tn=en+Yt)-(Mt=an+yn)),Dr=.5411961*tn+Wr,ma=1.306562965*Mt+Wr,Sr=.707106781*(Wt=Yt+an),Kt=yn+Sr,Ua=yn-Sr;Qe[jt+5]=Ua+Dr,Qe[jt+3]=Ua-Dr,Qe[jt+1]=Kt+ma,Qe[jt+7]=Kt-ma,jt+=8}for(jt=0,Bt=0;Bt<8;++Bt){At=Qe[jt],Xt=Qe[jt+8],qt=Qe[jt+16],Zt=Qe[jt+24],mn=Qe[jt+32],un=Qe[jt+40],Tn=Qe[jt+48];var _s=At+(hn=Qe[jt+56]),Lr=At-hn,is=Xt+Tn,di=Xt-Tn,Si=qt+un,J=qt-un,pe=Zt+mn,oe=Zt-mn,le=_s+pe,fe=_s-pe,ve=is+Si,Fe=is-Si;Qe[jt]=le+ve,Qe[jt+32]=le-ve;var Ke=.707106781*(Fe+fe);Qe[jt+16]=fe+Ke,Qe[jt+48]=fe-Ke;var je=.382683433*((le=oe+J)-(Fe=di+Lr)),Ue=.5411961*le+je,Ve=1.306562965*Fe+je,ft=.707106781*(ve=J+di),vt=Lr+ft,bt=Lr-ft;Qe[jt+40]=bt+Ue,Qe[jt+24]=bt-Ue,Qe[jt+8]=vt+Ve,Qe[jt+56]=vt-Ve,jt++}for(Bt=0;Bt<64;++Bt)gn=Qe[Bt]*Ct[Bt],m[Bt]=gn>0?gn+.5|0:gn-.5|0;return m})(k,G),et=0;et<64;++et)b[F[et]]=Ie[et];var lt=b[0]-W;W=b[0],lt==0?ye(Y[0]):(ye(Y[_[xe=32767+lt]]),ye(p[xe]));for(var yt=63;yt>0&&b[yt]==0;)yt--;if(yt==0)return ye(Ae),W;for(var _t,he=1;he<=yt;){for(var pt=he;b[he]==0&&he<=yt;)++he;var ht=he-pt;if(ht>=16){_t=ht>>4;for(var It=1;It<=_t;++It)ye(Te);ht&=15}xe=32767+b[he],ye(ne[(ht<<4)+_[xe]]),ye(p[xe]),he++}return yt!=63&&ye(Ae),W}function se(k){k=Math.min(Math.max(k,1),100),s!=k&&((function(G){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ne=a((W[Y]*G+50)/100);ne=Math.min(Math.max(ne,1),255),l[F[Y]]=ne}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Te=a((xe[Ae]*G+50)/100);Te=Math.min(Math.max(Te,1),255),c[F[Ae]]=Te}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],et=0,lt=0;lt<8;lt++)for(var yt=0;yt<8;yt++)h[et]=1/(l[F[et]]*Ie[lt]*Ie[yt]*8),f[et]=1/(c[F[et]]*Ie[lt]*Ie[yt]*8),et++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,G){G&&se(G),x=new Array,E=0,A=7,Ne(65496),Ne(65504),Ne(16),be(74),be(70),be(73),be(70),be(0),be(1),be(1),be(0),Ne(1),Ne(1),be(0),be(0),(function(){Ne(65499),Ne(132),be(0);for(var Xt=0;Xt<64;Xt++)be(l[Xt]);be(1);for(var qt=0;qt<64;qt++)be(c[qt])})(),(function(Xt,qt){Ne(65472),Ne(17),be(8),Ne(qt),Ne(Xt),be(3),be(1),be(17),be(0),be(2),be(17),be(1),be(3),be(17),be(1)})(k.width,k.height),(function(){Ne(65476),Ne(418),be(0);for(var Xt=0;Xt<16;Xt++)be(R[Xt+1]);for(var qt=0;qt<=11;qt++)be(N[qt]);be(16);for(var Zt=0;Zt<16;Zt++)be(U[Zt+1]);for(var mn=0;mn<=161;mn++)be(I[mn]);be(1);for(var un=0;un<16;un++)be(M[un+1]);for(var Tn=0;Tn<=11;Tn++)be(z[Tn]);be(17);for(var hn=0;hn<16;hn++)be(de[hn+1]);for(var Bt=0;Bt<=161;Bt++)be(we[Bt])})(),Ne(65498),Ne(12),be(3),be(1),be(0),be(2),be(17),be(3),be(17),be(0),be(63),be(0);var W=0,Y=0,ne=0;E=0,A=7,this.encode.displayName="_encode_";for(var xe,Ae,Te,Ie,et,lt,yt,_t,he,pt=k.data,ht=k.width,It=k.height,Qe=4*ht,Ct=0;Ct<It;){for(xe=0;xe<Qe;){for(et=Qe*Ct+xe,yt=-1,_t=0,he=0;he<64;he++)lt=et+(_t=he>>3)*Qe+(yt=4*(7&he)),Ct+_t>=It&&(lt-=Qe*(Ct+1+_t-It)),xe+yt>=Qe&&(lt-=xe+yt-Qe+4),Ae=pt[lt++],Te=pt[lt++],Ie=pt[lt++],P[he]=(ae[Ae]+ae[Te+256|0]+ae[Ie+512|0]>>16)-128,L[he]=(ae[Ae+768|0]+ae[Te+1024|0]+ae[Ie+1280|0]>>16)-128,j[he]=(ae[Ae+1280|0]+ae[Te+1536|0]+ae[Ie+1792|0]>>16)-128;W=$e(P,h,W,e,i),Y=$e(L,f,Y,t,r),ne=$e(j,f,ne,t,r),xe+=32}Ct+=8}if(A>=0){var At=[];At[1]=A+1,At[0]=(1<<A+1)-1,ye(At)}return Ne(65497),new Uint8Array(x)},n=n||50,(function(){for(var k=String.fromCharCode,G=0;G<256;G++)Q[G]=k(G)})(),e=ce(R,N),t=ce(M,z),i=ce(U,I),r=ce(de,we),(function(){for(var k=1,G=2,W=1;W<=15;W++){for(var Y=k;Y<G;Y++)_[32767+Y]=W,p[32767+Y]=[],p[32767+Y][1]=W,p[32767+Y][0]=Y;for(var ne=-(G-1);ne<=-k;ne++)_[32767+ne]=W,p[32767+ne]=[],p[32767+ne][1]=W,p[32767+ne][0]=G-1+ne;k<<=1,G<<=1}})(),(function(){for(var k=0;k<256;k++)ae[k]=19595*k,ae[k+256|0]=38470*k,ae[k+512|0]=7471*k+32768,ae[k+768|0]=-11059*k,ae[k+1024|0]=-21709*k,ae[k+1280|0]=32768*k+8421375,ae[k+1536|0]=-27439*k,ae[k+1792|0]=-5329*k})(),se(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WR(n){function e(N){if(!N)throw Error("assert :P")}function t(N,U,I){for(var M=0;4>M;M++)if(N[U+M]!=I.charCodeAt(M))return!0;return!1}function i(N,U,I,M,z){for(var de=0;de<z;de++)N[U+de]=I[M+de]}function r(N,U,I,M){for(var z=0;z<M;z++)N[U+z]=I}function s(N){return new Int32Array(N)}function a(N,U){for(var I=[],M=0;M<N;M++)I.push(new U);return I}function l(N,U){var I=[];return(function M(z,de,we){for(var ce=we[de],ye=0;ye<ce&&(z.push(we.length>de+1?[]:new U),!(we.length<de+1));ye++)M(z[ye],de+1,we)})(I,0,N),I}var c=function(){var N=this;function U(v,S){for(var D=1<<S-1>>>0;v&D;)D>>>=1;return D?(v&D-1)+D:v}function I(v,S,D,V,X){e(!(V%D));do v[S+(V-=D)]=X;while(0<V)}function M(v,S,D,V,X){if(e(2328>=X),512>=X)var Z=s(512);else if((Z=s(X))==null)return 0;return(function(ee,ie,ue,_e,Ce,ze){var ge,ke,Me=ie,Je=1<<ue,Be=s(16),Xe=s(16);for(e(Ce!=0),e(_e!=null),e(ee!=null),e(0<ue),ke=0;ke<Ce;++ke){if(15<_e[ke])return 0;++Be[_e[ke]]}if(Be[0]==Ce)return 0;for(Xe[1]=0,ge=1;15>ge;++ge){if(Be[ge]>1<<ge)return 0;Xe[ge+1]=Xe[ge]+Be[ge]}for(ke=0;ke<Ce;++ke)ge=_e[ke],0<_e[ke]&&(ze[Xe[ge]++]=ke);if(Xe[15]==1)return(_e=new z).g=0,_e.value=ze[0],I(ee,Me,1,Je,_e),Je;var it,mt=-1,ot=Je-1,zt=0,kt=1,bn=1,Ft=1<<ue;for(ke=0,ge=1,Ce=2;ge<=ue;++ge,Ce<<=1){if(kt+=bn<<=1,0>(bn-=Be[ge]))return 0;for(;0<Be[ge];--Be[ge])(_e=new z).g=ge,_e.value=ze[ke++],I(ee,Me+zt,Ce,Ft,_e),zt=U(zt,ge)}for(ge=ue+1,Ce=2;15>=ge;++ge,Ce<<=1){if(kt+=bn<<=1,0>(bn-=Be[ge]))return 0;for(;0<Be[ge];--Be[ge]){if(_e=new z,(zt&ot)!=mt){for(Me+=Ft,it=1<<(mt=ge)-ue;15>mt&&!(0>=(it-=Be[mt]));)++mt,it<<=1;Je+=Ft=1<<(it=mt-ue),ee[ie+(mt=zt&ot)].g=it+ue,ee[ie+mt].value=Me-ie-mt}_e.g=ge-ue,_e.value=ze[ke++],I(ee,Me+(zt>>ue),Ce,Ft,_e),zt=U(zt,ge)}}return kt!=2*Xe[15]-1?0:Je})(v,S,D,V,X,Z)}function z(){this.value=this.g=0}function de(){this.value=this.g=0}function we(){this.G=a(5,z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(wc,de)}function ce(v,S,D,V){e(v!=null),e(S!=null),e(2147483648>V),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=S,v.pa=D,v.Jd=S,v.Yc=D+V,v.Zc=4<=V?D+V-4+1:D,Ae(v)}function ye(v,S){for(var D=0;0<S--;)D|=Ie(v,128)<<S;return D}function be(v,S){var D=ye(v,S);return Te(v)?-D:D}function Ne(v,S,D,V){var X,Z=0;for(e(v!=null),e(S!=null),e(4294967288>V),v.Sb=V,v.Ra=0,v.u=0,v.h=0,4<V&&(V=4),X=0;X<V;++X)Z+=S[D+X]<<8*X;v.Ra=Z,v.bb=V,v.oa=S,v.pa=D}function $e(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<cl-8>>>0,++v.bb,v.u-=8;Y(v)&&(v.h=1,v.u=0)}function se(v,S){if(e(0<=S),!v.h&&S<=na){var D=W(v)&xa[S];return v.u+=S,$e(v),D}return v.h=1,v.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(v){return v.Ra>>>(v.u&cl-1)>>>0}function Y(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>cl}function ne(v,S){v.u=S,v.h=Y(v)}function xe(v){v.u>=ul&&(e(v.u>=ul),$e(v))}function Ae(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function Te(v){return ye(v,1)}function Ie(v,S){var D=v.Ca;0>v.b&&Ae(v);var V=v.b,X=D*S>>>8,Z=(v.I>>>V>X)+0;for(Z?(D-=X,v.I-=X+1<<V>>>0):D=X+1,V=D,X=0;256<=V;)X+=8,V>>=8;return V=7^X+Fl[V],v.b-=V,v.Ca=(D<<V)-1,Z}function et(v,S,D){v[S+0]=D>>24&255,v[S+1]=D>>16&255,v[S+2]=D>>8&255,v[S+3]=255&D}function lt(v,S){return v[S+0]|v[S+1]<<8}function yt(v,S){return lt(v,S)|v[S+2]<<16}function _t(v,S){return lt(v,S)|lt(v,S+2)<<16}function he(v,S){var D=1<<S;return e(v!=null),e(0<S),v.X=s(D),v.X==null?0:(v.Mb=32-S,v.Xa=S,1)}function pt(v,S){e(v!=null),e(S!=null),e(v.Xa==S.Xa),i(S.X,0,v.X,0,1<<S.Xa)}function ht(){this.X=[],this.Xa=this.Mb=0}function It(v,S,D,V){e(D!=null),e(V!=null);var X=D[0],Z=V[0];return X==0&&(X=(v*Z+S/2)/S),Z==0&&(Z=(S*X+v/2)/v),0>=X||0>=Z?0:(D[0]=X,V[0]=Z,1)}function Qe(v,S){return v+(1<<S)-1>>>S}function Ct(v,S){return((4278255360&v)+(4278255360&S)>>>0&4278255360)+((16711935&v)+(16711935&S)>>>0&16711935)>>>0}function At(v,S){N[S]=function(D,V,X,Z,ee,ie,ue){var _e;for(_e=0;_e<ee;++_e){var Ce=N[v](ie[ue+_e-1],X,Z+_e);ie[ue+_e]=Ct(D[V+_e],Ce)}}}function Xt(){this.ud=this.hd=this.jd=0}function qt(v,S){return((4278124286&(v^S))>>>1)+(v&S)>>>0}function Zt(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function mn(v,S){return Zt(v+(v-S+.5>>1))}function un(v,S,D){return Math.abs(S-D)-Math.abs(v-D)}function Tn(v,S,D,V,X,Z,ee){for(V=Z[ee-1],D=0;D<X;++D)Z[ee+D]=V=Ct(v[S+D],V)}function hn(v,S,D,V,X){var Z;for(Z=0;Z<D;++Z){var ee=v[S+Z],ie=ee>>8&255,ue=16711935&(ue=(ue=16711935&ee)+((ie<<16)+ie));V[X+Z]=(4278255360&ee)+ue>>>0}}function Bt(v,S){S.jd=255&v,S.hd=v>>8&255,S.ud=v>>16&255}function gn(v,S,D,V,X,Z){var ee;for(ee=0;ee<V;++ee){var ie=S[D+ee],ue=ie>>>8,_e=ie,Ce=255&(Ce=(Ce=ie>>>16)+((v.jd<<24>>24)*(ue<<24>>24)>>>5));_e=255&(_e=(_e+=(v.hd<<24>>24)*(ue<<24>>24)>>>5)+((v.ud<<24>>24)*(Ce<<24>>24)>>>5)),X[Z+ee]=(4278255360&ie)+(Ce<<16)+_e}}function jt(v,S,D,V,X){N[S]=function(Z,ee,ie,ue,_e,Ce,ze,ge,ke){for(ue=ze;ue<ge;++ue)for(ze=0;ze<ke;++ze)_e[Ce++]=X(ie[V(Z[ee++])])},N[v]=function(Z,ee,ie,ue,_e,Ce,ze){var ge=8>>Z.b,ke=Z.Ea,Me=Z.K[0],Je=Z.w;if(8>ge)for(Z=(1<<Z.b)-1,Je=(1<<ge)-1;ee<ie;++ee){var Be,Xe=0;for(Be=0;Be<ke;++Be)Be&Z||(Xe=V(ue[_e++])),Ce[ze++]=X(Me[Xe&Je]),Xe>>=ge}else N["VP8LMapColor"+D](ue,_e,Me,Je,Ce,ze,ee,ie,ke)}}function Ci(v,S,D,V,X){for(D=S+D;S<D;){var Z=v[S++];V[X++]=Z>>16&255,V[X++]=Z>>8&255,V[X++]=255&Z}}function yn(v,S,D,V,X){for(D=S+D;S<D;){var Z=v[S++];V[X++]=Z>>16&255,V[X++]=Z>>8&255,V[X++]=255&Z,V[X++]=Z>>24&255}}function $t(v,S,D,V,X){for(D=S+D;S<D;){var Z=(ee=v[S++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;V[X++]=Z,V[X++]=ee}}function an(v,S,D,V,X){for(D=S+D;S<D;){var Z=(ee=v[S++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;V[X++]=Z,V[X++]=ee}}function xn(v,S,D,V,X){for(D=S+D;S<D;){var Z=v[S++];V[X++]=255&Z,V[X++]=Z>>8&255,V[X++]=Z>>16&255}}function Yt(v,S,D,V,X,Z){if(Z==0)for(D=S+D;S<D;)et(V,((Z=v[S++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),X+=32;else i(V,X,v,S,D)}function Wn(v,S){N[S][0]=N[v+"0"],N[S][1]=N[v+"1"],N[S][2]=N[v+"2"],N[S][3]=N[v+"3"],N[S][4]=N[v+"4"],N[S][5]=N[v+"5"],N[S][6]=N[v+"6"],N[S][7]=N[v+"7"],N[S][8]=N[v+"8"],N[S][9]=N[v+"9"],N[S][10]=N[v+"10"],N[S][11]=N[v+"11"],N[S][12]=N[v+"12"],N[S][13]=N[v+"13"],N[S][14]=N[v+"0"],N[S][15]=N[v+"0"]}function en(v){return v==Gf||v==Qd||v==bh||v==Jd}function tn(){this.eb=[],this.size=this.A=this.fb=0}function ti(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new tn,this.f.kb=new ti,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function In(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wr(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Dr(v,S){var D=v.T,V=S.ba.f.RGBA,X=V.eb,Z=V.fb+v.ka*V.A,ee=Ss[S.ba.S],ie=v.y,ue=v.O,_e=v.f,Ce=v.N,ze=v.ea,ge=v.W,ke=S.cc,Me=S.dc,Je=S.Mc,Be=S.Nc,Xe=v.ka,it=v.ka+v.T,mt=v.U,ot=mt+1>>1;for(Xe==0?ee(ie,ue,null,null,_e,Ce,ze,ge,_e,Ce,ze,ge,X,Z,null,null,mt):(ee(S.ec,S.fc,ie,ue,ke,Me,Je,Be,_e,Ce,ze,ge,X,Z-V.A,X,Z,mt),++D);Xe+2<it;Xe+=2)ke=_e,Me=Ce,Je=ze,Be=ge,Ce+=v.Rc,ge+=v.Rc,Z+=2*V.A,ee(ie,(ue+=2*v.fa)-v.fa,ie,ue,ke,Me,Je,Be,_e,Ce,ze,ge,X,Z-V.A,X,Z,mt);return ue+=v.fa,v.j+it<v.o?(i(S.ec,S.fc,ie,ue,mt),i(S.cc,S.dc,_e,Ce,ot),i(S.Mc,S.Nc,ze,ge,ot),D--):1&it||ee(ie,ue,null,null,_e,Ce,ze,ge,_e,Ce,ze,ge,X,Z+V.A,null,null,mt),D}function ma(v,S,D){var V=v.F,X=[v.J];if(V!=null){var Z=v.U,ee=S.ba.S,ie=ee==Wf||ee==bh;S=S.ba.f.RGBA;var ue=[0],_e=v.ka;ue[0]=v.T,v.Kb&&(_e==0?--ue[0]:(--_e,X[0]-=v.width),v.j+v.ka+v.T==v.o&&(ue[0]=v.o-v.j-_e));var Ce=S.eb;_e=S.fb+_e*S.A,v=Vf(V,X[0],v.width,Z,ue,Ce,_e+(ie?0:3),S.A),e(D==ue),v&&en(ee)&&fu(Ce,_e,ie,Z,ue,S.A)}return 0}function Sr(v){var S=v.ma,D=S.ba.S,V=11>D,X=D==Ms||D==lo||D==Wf||D==wh||D==12||en(D);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Ml(S.Oa,v,X?11:12))return 0;if(X&&en(D)&&wn(),v.da)alert("todo:use_scaling");else{if(V){if(S.Ib=Wr,v.Kb){if(D=v.U+1>>1,S.memory=s(v.U+2*D),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+v.U,S.Mc=S.cc,S.Nc=S.dc+D,S.Ib=Dr,wn()}}else alert("todo:EmitYUV");X&&(S.Jb=ma,V&&We())}if(V&&!Nc){for(v=0;256>v;++v)Ts[v]=89858*(v-128)+Th>>go,$y[v]=-22014*(v-128)+Th,F1[v]=-45773*(v-128),i0[v]=113618*(v-128)+Th>>go;for(v=mu;v<Cc;++v)S=76283*(v-16)+Th>>go,Yy[v-mu]=Yi(S,255),Ky[v-mu]=Yi(S+8>>4,15);Nc=1}return 1}function Kt(v){var S=v.ma,D=v.U,V=v.T;return e(!(1&v.ka)),0>=D||0>=V?0:(D=S.Ib(v,S),S.Jb!=null&&S.Jb(v,S,D),S.Dc+=D,1)}function Ua(v){v.ma.memory=null}function _s(v,S,D,V){return se(v,8)!=47?0:(S[0]=se(v,14)+1,D[0]=se(v,14)+1,V[0]=se(v,1),se(v,3)!=0?0:!v.h)}function Lr(v,S){if(4>v)return v+1;var D=v-2>>1;return(2+(1&v)<<D)+se(S,D)+1}function is(v,S){return 120<S?S-120:1<=(D=((D=uo[S-1])>>4)*v+(8-(15&D)))?D:1;var D}function di(v,S,D){var V=W(D),X=v[S+=255&V].g-8;return 0<X&&(ne(D,D.u+8),V=W(D),S+=v[S].value,S+=V&(1<<X)-1),ne(D,D.u+v[S].g),v[S].value}function Si(v,S,D){return D.g+=v.g,D.value+=v.value<<S>>>0,e(8>=D.g),v.g}function J(v,S,D){var V=v.xc;return e((S=V==0?0:v.vc[v.md*(D>>V)+(S>>V)])<v.Wb),v.Ya[S]}function pe(v,S,D,V){var X=v.ab,Z=v.c*S,ee=v.C;S=ee+S;var ie=D,ue=V;for(V=v.Ta,D=v.Ua;0<X--;){var _e=v.gc[X],Ce=ee,ze=S,ge=ie,ke=ue,Me=(ue=V,ie=D,_e.Ea);switch(e(Ce<ze),e(ze<=_e.nc),_e.hc){case 2:Cr(ge,ke,(ze-Ce)*Me,ue,ie);break;case 0:var Je=Ce,Be=ze,Xe=ue,it=ie,mt=(Ft=_e).Ea;Je==0&&(_h(ge,ke,null,null,1,Xe,it),Tn(ge,ke+1,0,0,mt-1,Xe,it+1),ke+=mt,it+=mt,++Je);for(var ot=1<<Ft.b,zt=ot-1,kt=Qe(mt,Ft.b),bn=Ft.K,Ft=Ft.w+(Je>>Ft.b)*kt;Je<Be;){var jn=bn,Qi=Ft,An=1;for(vh(ge,ke,Xe,it-mt,1,Xe,it);An<mt;){var Dt=(An&~zt)+ot;Dt>mt&&(Dt=mt),(0,Bl[jn[Qi++]>>8&15])(ge,ke+ +An,Xe,it+An-mt,Dt-An,Xe,it+An),An=Dt}ke+=mt,it+=mt,++Je&zt||(Ft+=kt)}ze!=_e.nc&&i(ue,ie-Me,ue,ie+(ze-Ce-1)*Me,Me);break;case 1:for(Me=ge,Be=ke,mt=(ge=_e.Ea)-(it=ge&~(Xe=(ke=1<<_e.b)-1)),Je=Qe(ge,_e.b),ot=_e.K,_e=_e.w+(Ce>>_e.b)*Je;Ce<ze;){for(zt=ot,kt=_e,bn=new Xt,Ft=Be+it,jn=Be+ge;Be<Ft;)Bt(zt[kt++],bn),yh(bn,Me,Be,ke,ue,ie),Be+=ke,ie+=ke;Be<jn&&(Bt(zt[kt++],bn),yh(bn,Me,Be,mt,ue,ie),Be+=mt,ie+=mt),++Ce&Xe||(_e+=Je)}break;case 3:if(ge==ue&&ke==ie&&0<_e.b){for(Be=ue,ge=Me=ie+(ze-Ce)*Me-(it=(ze-Ce)*Qe(_e.Ea,_e.b)),ke=ue,Xe=ie,Je=[],it=(mt=it)-1;0<=it;--it)Je[it]=ke[Xe+it];for(it=mt-1;0<=it;--it)Be[ge+it]=Je[it];Gd(_e,Ce,ze,ue,Me,ue,ie)}else Gd(_e,Ce,ze,ge,ke,ue,ie)}ie=V,ue=D}ue!=D&&i(V,D,ie,ue,Z)}function oe(v,S){var D=v.V,V=v.Ba+v.c*v.C,X=S-v.C;if(e(S<=v.l.o),e(16>=X),0<X){var Z=v.l,ee=v.Ta,ie=v.Ua,ue=Z.width;if(pe(v,X,D,V),X=ie=[ie],e((D=v.C)<(V=S)),e(Z.v<Z.va),V>Z.o&&(V=Z.o),D<Z.j){var _e=Z.j-D;D=Z.j,X[0]+=_e*ue}if(D>=V?D=0:(X[0]+=4*Z.v,Z.ka=D-Z.j,Z.U=Z.va-Z.v,Z.T=V-D,D=1),D){if(ie=ie[0],11>(D=v.ca).S){var Ce=D.f.RGBA,ze=(V=D.S,X=Z.U,Z=Z.T,_e=Ce.eb,Ce.A),ge=Z;for(Ce=Ce.fb+v.Ma*Ce.A;0<ge--;){var ke=ee,Me=ie,Je=X,Be=_e,Xe=Ce;switch(V){case Kd:xh(ke,Me,Je,Be,Xe);break;case Ms:jl(ke,Me,Je,Be,Xe);break;case Gf:jl(ke,Me,Je,Be,Xe),fu(Be,Xe,0,Je,1,0);break;case Xd:uu(ke,Me,Je,Be,Xe);break;case lo:Yt(ke,Me,Je,Be,Xe,1);break;case Qd:Yt(ke,Me,Je,Be,Xe,1),fu(Be,Xe,0,Je,1,0);break;case Wf:Yt(ke,Me,Je,Be,Xe,0);break;case bh:Yt(ke,Me,Je,Be,Xe,0),fu(Be,Xe,1,Je,1,0);break;case wh:Ul(ke,Me,Je,Be,Xe);break;case Jd:Ul(ke,Me,Je,Be,Xe),oo(Be,Xe,Je,1,0);break;case bc:dl(ke,Me,Je,Be,Xe);break;default:e(0)}ie+=ue,Ce+=ze}v.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=D.height)}}v.C=S,e(v.C<=v.i)}function le(v){var S;if(0<v.ua)return 0;for(S=0;S<v.Wb;++S){var D=v.Ya[S].G,V=v.Ya[S].H;if(0<D[1][V[1]+0].g||0<D[2][V[2]+0].g||0<D[3][V[3]+0].g)return 0}return 1}function fe(v,S,D,V,X,Z){if(v.Z!=0){var ee=v.qd,ie=v.rd;for(e(Hl[v.Z]!=null);S<D;++S)Hl[v.Z](ee,ie,V,X,V,X,Z),ee=V,ie=X,X+=Z;v.qd=ee,v.rd=ie}}function ve(v,S){var D=v.l.ma,V=D.Z==0||D.Z==1?v.l.j:v.C;if(V=v.C<V?V:v.C,e(S<=v.l.o),S>V){var X=v.l.width,Z=D.ca,ee=D.tb+X*V,ie=v.V,ue=v.Ba+v.c*V,_e=v.gc;e(v.ab==1),e(_e[0].hc==3),fl(_e[0],V,S,ie,ue,Z,ee),fe(D,V,S,Z,ee,X)}v.C=v.Ma=S}function Fe(v,S,D,V,X,Z,ee){var ie=v.$/V,ue=v.$%V,_e=v.m,Ce=v.s,ze=D+v.$,ge=ze;X=D+V*X;var ke=D+V*Z,Me=280+Ce.ua,Je=v.Pb?ie:16777216,Be=0<Ce.ua?Ce.Wa:null,Xe=Ce.wc,it=ze<ke?J(Ce,ue,ie):null;e(v.C<Z),e(ke<=X);var mt=!1;e:for(;;){for(;mt||ze<ke;){var ot=0;if(ie>=Je){var zt=ze-D;e((Je=v).Pb),Je.wd=Je.m,Je.xd=zt,0<Je.s.ua&&pt(Je.s.Wa,Je.s.vb),Je=ie+Ec}if(ue&Xe||(it=J(Ce,ue,ie)),e(it!=null),it.Qb&&(S[ze]=it.qb,mt=!0),!mt)if(xe(_e),it.jc){ot=_e,zt=S;var kt=ze,bn=it.pd[W(ot)&wc-1];e(it.jc),256>bn.g?(ne(ot,ot.u+bn.g),zt[kt]=bn.value,ot=0):(ne(ot,ot.u+bn.g-256),e(256<=bn.value),ot=bn.value),ot==0&&(mt=!0)}else ot=di(it.G[0],it.H[0],_e);if(_e.h)break;if(mt||256>ot){if(!mt)if(it.nd)S[ze]=(it.qb|ot<<8)>>>0;else{if(xe(_e),mt=di(it.G[1],it.H[1],_e),xe(_e),zt=di(it.G[2],it.H[2],_e),kt=di(it.G[3],it.H[3],_e),_e.h)break;S[ze]=(kt<<24|mt<<16|ot<<8|zt)>>>0}if(mt=!1,++ze,++ue>=V&&(ue=0,++ie,ee!=null&&ie<=Z&&!(ie%16)&&ee(v,ie),Be!=null))for(;ge<ze;)ot=S[ge++],Be.X[(506832829*ot&4294967295)>>>Be.Mb]=ot}else if(280>ot){if(ot=Lr(ot-256,_e),zt=di(it.G[4],it.H[4],_e),xe(_e),zt=is(V,zt=Lr(zt,_e)),_e.h)break;if(ze-D<zt||X-ze<ot)break e;for(kt=0;kt<ot;++kt)S[ze+kt]=S[ze+kt-zt];for(ze+=ot,ue+=ot;ue>=V;)ue-=V,++ie,ee!=null&&ie<=Z&&!(ie%16)&&ee(v,ie);if(e(ze<=X),ue&Xe&&(it=J(Ce,ue,ie)),Be!=null)for(;ge<ze;)ot=S[ge++],Be.X[(506832829*ot&4294967295)>>>Be.Mb]=ot}else{if(!(ot<Me))break e;for(mt=ot-280,e(Be!=null);ge<ze;)ot=S[ge++],Be.X[(506832829*ot&4294967295)>>>Be.Mb]=ot;ot=ze,e(!(mt>>>(zt=Be).Xa)),S[ot]=zt.X[mt],mt=!0}mt||e(_e.h==Y(_e))}if(v.Pb&&_e.h&&ze<X)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&pt(v.s.vb,v.s.Wa);else{if(_e.h)break e;ee?.(v,ie>Z?Z:ie),v.a=0,v.$=ze-D}return 1}return v.a=3,0}function Ke(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var S=v.Wa;S!=null&&(S.X=null),v.vb=null,e(v!=null)}function je(){var v=new on;return v==null?null:(v.a=0,v.xb=Xp,Wn("Predictor","VP8LPredictors"),Wn("Predictor","VP8LPredictors_C"),Wn("PredictorAdd","VP8LPredictorsAdd"),Wn("PredictorAdd","VP8LPredictorsAdd_C"),Cr=hn,yh=gn,xh=Ci,jl=yn,Ul=$t,dl=an,uu=xn,N.VP8LMapColor32b=hl,N.VP8LMapColor8b=ws,v)}function Ue(v,S,D,V,X){var Z=1,ee=[v],ie=[S],ue=V.m,_e=V.s,Ce=null,ze=0;e:for(;;){if(D)for(;Z&&se(ue,1);){var ge=ee,ke=ie,Me=V,Je=1,Be=Me.m,Xe=Me.gc[Me.ab],it=se(Be,2);if(Me.Oc&1<<it)Z=0;else{switch(Me.Oc|=1<<it,Xe.hc=it,Xe.Ea=ge[0],Xe.nc=ke[0],Xe.K=[null],++Me.ab,e(4>=Me.ab),it){case 0:case 1:Xe.b=se(Be,3)+2,Je=Ue(Qe(Xe.Ea,Xe.b),Qe(Xe.nc,Xe.b),0,Me,Xe.K),Xe.K=Xe.K[0];break;case 3:var mt,ot=se(Be,8)+1,zt=16<ot?0:4<ot?1:2<ot?2:3;if(ge[0]=Qe(Xe.Ea,zt),Xe.b=zt,mt=Je=Ue(ot,1,0,Me,Xe.K)){var kt,bn=ot,Ft=Xe,jn=1<<(8>>Ft.b),Qi=s(jn);if(Qi==null)mt=0;else{var An=Ft.K[0],Dt=Ft.w;for(Qi[0]=Ft.K[0][0],kt=1;kt<1*bn;++kt)Qi[kt]=Ct(An[Dt+kt],Qi[kt-1]);for(;kt<4*jn;++kt)Qi[kt]=0;Ft.K[0]=null,Ft.K[0]=Qi,mt=1}}Je=mt;break;case 2:break;default:e(0)}Z=Je}}if(ee=ee[0],ie=ie[0],Z&&se(ue,1)&&!(Z=1<=(ze=se(ue,4))&&11>=ze)){V.a=3;break e}var Tt;if(Tt=Z)t:{var nr,dn,kn,xi=V,Kr=ee,As=ie,Vi=ze,Pr=D,Fs=xi.m,Mr=xi.s,Pn=[null],ii=1,ir=0,fi=ho[Vi];n:for(;;){if(Pr&&se(Fs,1)){var Xr=se(Fs,3)+2,rr=Qe(Kr,Xr),ri=Qe(As,Xr),Ir=rr*ri;if(!Ue(rr,ri,0,xi,Pn))break n;for(Pn=Pn[0],Mr.xc=Xr,nr=0;nr<Ir;++nr){var wi=Pn[nr]>>8&65535;Pn[nr]=wi,wi>=ii&&(ii=wi+1)}}if(Fs.h)break n;for(dn=0;5>dn;++dn){var Fr=pu[dn];!dn&&0<Vi&&(Fr+=1<<Vi),ir<Fr&&(ir=Fr)}var Br=a(ii*fi,z),Ri=ii,Zn=a(Ri,we);if(Zn==null)var Bs=null;else e(65536>=Ri),Bs=Zn;var _r=s(ir);if(Bs==null||_r==null||Br==null){xi.a=1;break n}var rn=Br;for(nr=kn=0;nr<ii;++nr){var ln=Bs[nr],si=ln.G,wa=ln.H,mo=0,ra=1,jr=0;for(dn=0;5>dn;++dn){Fr=pu[dn],si[dn]=rn,wa[dn]=kn,!dn&&0<Vi&&(Fr+=1<<Vi);r:{var Rc,Ic=Fr,s0=xi,zi=_r,Jp=rn,Zp=kn,a0=0,ql=s0.m,Xy=se(ql,1);if(r(zi,0,0,Ic),Xy){var eg=se(ql,1)+1,tg=se(ql,1),o0=se(ql,tg==0?1:8);zi[o0]=1,eg==2&&(zi[o0=se(ql,8)]=1);var os=1}else{var vr=s(19),Xf=se(ql,4)+4;if(19<Xf){s0.a=3;var kc=0;break r}for(Rc=0;Rc<Xf;++Rc)vr[$f[Rc]]=se(ql,3);var Ch=void 0,_u=void 0,ml=s0,l0=vr,Nh=Ic,c0=zi,u0=0,Wl=ml.m,ng=8,ig=a(128,z);i:for(;M(ig,0,7,l0,19);){if(se(Wl,1)){var B1=2+2*se(Wl,3);if((Ch=2+se(Wl,B1))>Nh)break i}else Ch=Nh;for(_u=0;_u<Nh&&Ch--;){xe(Wl);var rg=ig[0+(127&W(Wl))];ne(Wl,Wl.u+rg.g);var Dc=rg.value;if(16>Dc)c0[_u++]=Dc,Dc!=0&&(ng=Dc);else{var j1=Dc==16,U1=Dc-16,V1=Eh[U1],sg=se(Wl,co[U1])+V1;if(_u+sg>Nh)break i;for(var z1=j1?ng:0;0<sg--;)c0[_u++]=z1}}u0=1;break i}u0||(ml.a=3),os=u0}(os=os&&!ql.h)&&(a0=M(Jp,Zp,8,zi,Ic)),os&&a0!=0?kc=a0:(s0.a=3,kc=0)}if(kc==0)break n;if(ra&&Zd[dn]==1&&(ra=rn[kn].g==0),mo+=rn[kn].g,kn+=kc,3>=dn){var vu,h0=_r[0];for(vu=1;vu<Fr;++vu)_r[vu]>h0&&(h0=_r[vu]);jr+=h0}}if(ln.nd=ra,ln.Qb=0,ra&&(ln.qb=(si[3][wa[3]+0].value<<24|si[1][wa[1]+0].value<<16|si[2][wa[2]+0].value)>>>0,mo==0&&256>si[0][wa[0]+0].value&&(ln.Qb=1,ln.qb+=si[0][wa[0]+0].value<<8)),ln.jc=!ln.Qb&&6>jr,ln.jc){var Qf,_l=ln;for(Qf=0;Qf<wc;++Qf){var Gl=Qf,$l=_l.pd[Gl],f0=_l.G[0][_l.H[0]+Gl];256<=f0.value?($l.g=f0.g+256,$l.value=f0.value):($l.g=0,$l.value=0,Gl>>=Si(f0,8,$l),Gl>>=Si(_l.G[1][_l.H[1]+Gl],16,$l),Gl>>=Si(_l.G[2][_l.H[2]+Gl],0,$l),Si(_l.G[3][_l.H[3]+Gl],24,$l))}}}Mr.vc=Pn,Mr.Wb=ii,Mr.Ya=Bs,Mr.yc=Br,Tt=1;break t}Tt=0}if(!(Z=Tt)){V.a=3;break e}if(0<ze){if(_e.ua=1<<ze,!he(_e.Wa,ze)){V.a=1,Z=0;break e}}else _e.ua=0;var d0=V,yu=ee,H1=ie,Rh=d0.s,Ih=Rh.xc;if(d0.c=yu,d0.i=H1,Rh.md=Qe(yu,Ih),Rh.wc=Ih==0?-1:(1<<Ih)-1,D){V.xb=Sc;break e}if((Ce=s(ee*ie))==null){V.a=1,Z=0;break e}Z=(Z=Fe(V,Ce,0,ee,ie,ie,null))&&!ue.h;break e}return Z?(X!=null?X[0]=Ce:(e(Ce==null),e(D)),V.$=0,D||Ke(_e)):Ke(_e),Z}function Ve(v,S){var D=v.c*v.i,V=D+S+16*S;return e(v.c<=S),v.V=s(V),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+D+S,1)}function ft(v,S){var D=v.C,V=S-D,X=v.V,Z=v.Ba+v.c*D;for(e(S<=v.l.o);0<V;){var ee=16<V?16:V,ie=v.l.ma,ue=v.l.width,_e=ue*ee,Ce=ie.ca,ze=ie.tb+ue*D,ge=v.Ta,ke=v.Ua;pe(v,ee,X,Z),$a(ge,ke,Ce,ze,_e),fe(ie,D,D+ee,Ce,ze,ue),V-=ee,X+=ee*v.c,D+=ee}e(D==S),v.C=v.Ma=S}function vt(){this.ub=this.yd=this.td=this.Rb=0}function bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function wt(){this.Yb=(function(){var v=[];return(function S(D,V,X){for(var Z=X[V],ee=0;ee<Z&&(D.push(X.length>V+1?[]:0),!(X.length<V+1));ee++)S(D[ee],V+1,X)})(v,0,[3,11]),v})()}function Lt(){this.jb=s(3),this.Wc=l([4,8],wt),this.Xc=l([4,17],wt)}function ni(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Dn(){this.ld=this.La=this.dd=this.tc=0}function ui(){this.Na=this.la=0}function Gr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _a(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dn),this.Y=0,this.ya=Array(new Xs),this.aa=0,this.l=new rs}function ks(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Io(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new vt,this.Kc=new bt,this.ed=new ni,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new _a,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,k),this.ia=0,this.pb=a(4,Gr),this.Pa=new Lt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ks),this.Hd=0,this.rb=Array(new ui),this.sb=0,this.wa=Array(new Dn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xs),this.L=this.aa=0,this.gd=l([4,2],Dn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yi(v,S){return 0>v?0:v>S?S:v}function rs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pr(){var v=new Io;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Ya||(Ya=Gn)),v}function Fn(v,S,D){return v.a==0&&(v.a=S,v.sc=D,v.cb=0),0}function ko(v,S,D){return 3<=D&&v[S+0]==157&&v[S+1]==1&&v[S+2]==42}function va(v,S){if(v==null)return 0;if(v.a=0,v.sc="OK",S==null)return Fn(v,2,"null VP8Io passed to VP8GetHeaders()");var D=S.data,V=S.w,X=S.ha;if(4>X)return Fn(v,7,"Truncated header.");var Z=D[V+0]|D[V+1]<<8|D[V+2]<<16,ee=v.Od;if(ee.Rb=!(1&Z),ee.td=Z>>1&7,ee.yd=Z>>4&1,ee.ub=Z>>5,3<ee.td)return Fn(v,3,"Incorrect keyframe parameters.");if(!ee.yd)return Fn(v,4,"Frame not displayable.");V+=3,X-=3;var ie=v.Kc;if(ee.Rb){if(7>X)return Fn(v,7,"cannot parse picture header");if(!ko(D,V,X))return Fn(v,3,"Bad code word");ie.c=16383&(D[V+4]<<8|D[V+3]),ie.Td=D[V+4]>>6,ie.i=16383&(D[V+6]<<8|D[V+5]),ie.Ud=D[V+6]>>6,V+=7,X-=7,v.za=ie.c+15>>4,v.Ub=ie.i+15>>4,S.width=ie.c,S.height=ie.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,r((Z=v.Pa).jb,0,255,Z.jb.length),e((Z=v.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,r(Z.Zb,0,0,Z.Zb.length),r(Z.Lb,0,0,Z.Lb)}if(ee.ub>X)return Fn(v,7,"bad partition length");ce(Z=v.m,D,V,ee.ub),V+=ee.ub,X-=ee.ub,ee.Rb&&(ie.Ld=Te(Z),ie.Kd=Te(Z)),ie=v.Qa;var ue,_e=v.Pa;if(e(Z!=null),e(ie!=null),ie.Cb=Te(Z),ie.Cb){if(ie.Bb=Te(Z),Te(Z)){for(ie.Fb=Te(Z),ue=0;4>ue;++ue)ie.Zb[ue]=Te(Z)?be(Z,7):0;for(ue=0;4>ue;++ue)ie.Lb[ue]=Te(Z)?be(Z,6):0}if(ie.Bb)for(ue=0;3>ue;++ue)_e.jb[ue]=Te(Z)?ye(Z,8):255}else ie.Bb=0;if(Z.Ka)return Fn(v,3,"cannot parse segment header");if((ie=v.ed).zd=Te(Z),ie.Tb=ye(Z,6),ie.wb=ye(Z,3),ie.Pc=Te(Z),ie.Pc&&Te(Z)){for(_e=0;4>_e;++_e)Te(Z)&&(ie.vd[_e]=be(Z,6));for(_e=0;4>_e;++_e)Te(Z)&&(ie.od[_e]=be(Z,6))}if(v.L=ie.Tb==0?0:ie.zd?1:2,Z.Ka)return Fn(v,3,"cannot parse filter header");var Ce=X;if(X=ue=V,V=ue+Ce,ie=Ce,v.Xb=(1<<ye(v.m,2))-1,Ce<3*(_e=v.Xb))D=7;else{for(ue+=3*_e,ie-=3*_e,Ce=0;Ce<_e;++Ce){var ze=D[X+0]|D[X+1]<<8|D[X+2]<<16;ze>ie&&(ze=ie),ce(v.Jc[+Ce],D,ue,ze),ue+=ze,ie-=ze,X+=3}ce(v.Jc[+_e],D,ue,ie),D=ue<V?0:5}if(D!=0)return Fn(v,D,"cannot parse partitions");for(D=ye(ue=v.m,7),X=Te(ue)?be(ue,4):0,V=Te(ue)?be(ue,4):0,ie=Te(ue)?be(ue,4):0,_e=Te(ue)?be(ue,4):0,ue=Te(ue)?be(ue,4):0,Ce=v.Qa,ze=0;4>ze;++ze){if(Ce.Cb){var ge=Ce.Zb[ze];Ce.Fb||(ge+=D)}else{if(0<ze){v.pb[ze]=v.pb[0];continue}ge=D}var ke=v.pb[ze];ke.Sc[0]=fo[Yi(ge+X,127)],ke.Sc[1]=po[Yi(ge+0,127)],ke.Eb[0]=2*fo[Yi(ge+V,127)],ke.Eb[1]=101581*po[Yi(ge+ie,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=fo[Yi(ge+_e,117)],ke.Qc[1]=po[Yi(ge+ue,127)],ke.lc=ge+ue}if(!ee.Rb)return Fn(v,4,"Not a key frame.");for(Te(Z),ee=v.Pa,D=0;4>D;++D){for(X=0;8>X;++X)for(V=0;3>V;++V)for(ie=0;11>ie;++ie)_e=Ie(Z,Xi[D][X][V][ie])?ye(Z,8):M1[D][X][V][ie],ee.Wc[D][X].Yb[V][ie]=_e;for(X=0;17>X;++X)ee.Xc[D][X]=ee.Wc[D][Un[X]]}return v.kc=Te(Z),v.kc&&(v.Bd=ye(Z,8)),v.cb=1}function Gn(v,S,D,V,X,Z,ee){var ie=S[X].Yb[D];for(D=0;16>X;++X){if(!Ie(v,ie[D+0]))return X;for(;!Ie(v,ie[D+1]);)if(ie=S[++X].Yb[0],D=0,X==16)return 16;var ue=S[X+1].Yb;if(Ie(v,ie[D+2])){var _e=v,Ce=0;if(Ie(_e,(ge=ie)[(ze=D)+3]))if(Ie(_e,ge[ze+6])){for(ie=0,ze=2*(Ce=Ie(_e,ge[ze+8]))+(ge=Ie(_e,ge[ze+9+Ce])),Ce=0,ge=P1[ze];ge[ie];++ie)Ce+=Ce+Ie(_e,ge[ie]);Ce+=3+(8<<ze)}else Ie(_e,ge[ze+7])?(Ce=7+2*Ie(_e,165),Ce+=Ie(_e,145)):Ce=5+Ie(_e,159);else Ce=Ie(_e,ge[ze+4])?3+Ie(_e,ge[ze+5]):2;ie=ue[2]}else Ce=1,ie=ue[1];ue=ee+Kp[X],0>(_e=v).b&&Ae(_e);var ze,ge=_e.b,ke=(ze=_e.Ca>>1)-(_e.I>>ge)>>31;--_e.b,_e.Ca+=ke,_e.Ca|=1,_e.I-=(ze+1&ke)<<ge,Z[ue]=((Ce^ke)-ke)*V[(0<X)+0]}return 16}function nl(v){var S=v.rb[v.sb-1];S.la=0,S.Na=0,r(v.zc,0,0,v.zc.length),v.ja=0}function Tr(v,S,D,V,X){X=v[S+D+32*V]+(X>>3),v[S+D+32*V]=-256&X?0>X?0:255:X}function Ki(v,S,D,V,X,Z){Tr(v,S,0,D,V+X),Tr(v,S,1,D,V+Z),Tr(v,S,2,D,V-Z),Tr(v,S,3,D,V-X)}function gr(v){return(20091*v>>16)+v}function Il(v,S,D,V){var X,Z=0,ee=s(16);for(X=0;4>X;++X){var ie=v[S+0]+v[S+8],ue=v[S+0]-v[S+8],_e=(35468*v[S+4]>>16)-gr(v[S+12]),Ce=gr(v[S+4])+(35468*v[S+12]>>16);ee[Z+0]=ie+Ce,ee[Z+1]=ue+_e,ee[Z+2]=ue-_e,ee[Z+3]=ie-Ce,Z+=4,S++}for(X=Z=0;4>X;++X)ie=(v=ee[Z+0]+4)+ee[Z+8],ue=v-ee[Z+8],_e=(35468*ee[Z+4]>>16)-gr(ee[Z+12]),Tr(D,V,0,0,ie+(Ce=gr(ee[Z+4])+(35468*ee[Z+12]>>16))),Tr(D,V,1,0,ue+_e),Tr(D,V,2,0,ue-_e),Tr(D,V,3,0,ie-Ce),Z++,V+=32}function gh(v,S,D,V){var X=v[S+0]+4,Z=35468*v[S+4]>>16,ee=gr(v[S+4]),ie=35468*v[S+1]>>16;Ki(D,V,0,X+ee,v=gr(v[S+1]),ie),Ki(D,V,1,X+Z,v,ie),Ki(D,V,2,X-Z,v,ie),Ki(D,V,3,X-ee,v,ie)}function ru(v,S,D,V,X){Il(v,S,D,V),X&&Il(v,S+16,D,V+4)}function vs(v,S,D,V){Vl(v,S+0,D,V,1),Vl(v,S+32,D,V+128,1)}function su(v,S,D,V){var X;for(v=v[S+0]+4,X=0;4>X;++X)for(S=0;4>S;++S)Tr(D,V,S,X,v)}function Do(v,S,D,V){v[S+0]&&hi(v,S+0,D,V),v[S+16]&&hi(v,S+16,D,V+4),v[S+32]&&hi(v,S+32,D,V+128),v[S+48]&&hi(v,S+48,D,V+128+4)}function $r(v,S,D,V){var X,Z=s(16);for(X=0;4>X;++X){var ee=v[S+0+X]+v[S+12+X],ie=v[S+4+X]+v[S+8+X],ue=v[S+4+X]-v[S+8+X],_e=v[S+0+X]-v[S+12+X];Z[0+X]=ee+ie,Z[8+X]=ee-ie,Z[4+X]=_e+ue,Z[12+X]=_e-ue}for(X=0;4>X;++X)ee=(v=Z[0+4*X]+3)+Z[3+4*X],ie=Z[1+4*X]+Z[2+4*X],ue=Z[1+4*X]-Z[2+4*X],_e=v-Z[3+4*X],D[V+0]=ee+ie>>3,D[V+16]=_e+ue>>3,D[V+32]=ee-ie>>3,D[V+48]=_e-ue>>3,V+=64}function il(v,S,D){var V,X=S-32,Z=Ps,ee=255-v[X-1];for(V=0;V<D;++V){var ie,ue=Z,_e=ee+v[S-1];for(ie=0;ie<D;++ie)v[S+ie]=ue[_e+v[X+ie]];S+=32}}function au(v,S){il(v,S,4)}function ou(v,S){il(v,S,8)}function mc(v,S){il(v,S,16)}function _c(v,S){var D;for(D=0;16>D;++D)i(v,S+32*D,v,S-32,16)}function Lo(v,S){var D;for(D=16;0<D;--D)r(v,S,v[S-1],16),S+=32}function Ds(v,S,D){var V;for(V=0;16>V;++V)r(S,D+32*V,v,16)}function Va(v,S){var D,V=16;for(D=0;16>D;++D)V+=v[S-1+32*D]+v[S+D-32];Ds(V>>5,v,S)}function Oo(v,S){var D,V=8;for(D=0;16>D;++D)V+=v[S-1+32*D];Ds(V>>4,v,S)}function Ls(v,S){var D,V=8;for(D=0;16>D;++D)V+=v[S+D-32];Ds(V>>4,v,S)}function rl(v,S){Ds(128,v,S)}function nn(v,S,D){return v+2*S+D+2>>2}function kl(v,S){var D,V=S-32;for(V=new Uint8Array([nn(v[V-1],v[V+0],v[V+1]),nn(v[V+0],v[V+1],v[V+2]),nn(v[V+1],v[V+2],v[V+3]),nn(v[V+2],v[V+3],v[V+4])]),D=0;4>D;++D)i(v,S+32*D,V,0,V.length)}function vc(v,S){var D=v[S-1],V=v[S-1+32],X=v[S-1+64],Z=v[S-1+96];et(v,S+0,16843009*nn(v[S-1-32],D,V)),et(v,S+32,16843009*nn(D,V,X)),et(v,S+64,16843009*nn(V,X,Z)),et(v,S+96,16843009*nn(X,Z,Z))}function sl(v,S){var D,V=4;for(D=0;4>D;++D)V+=v[S+D-32]+v[S-1+32*D];for(V>>=3,D=0;4>D;++D)r(v,S+32*D,V,4)}function Yr(v,S){var D=v[S-1+0],V=v[S-1+32],X=v[S-1+64],Z=v[S-1-32],ee=v[S+0-32],ie=v[S+1-32],ue=v[S+2-32],_e=v[S+3-32];v[S+0+96]=nn(V,X,v[S-1+96]),v[S+1+96]=v[S+0+64]=nn(D,V,X),v[S+2+96]=v[S+1+64]=v[S+0+32]=nn(Z,D,V),v[S+3+96]=v[S+2+64]=v[S+1+32]=v[S+0+0]=nn(ee,Z,D),v[S+3+64]=v[S+2+32]=v[S+1+0]=nn(ie,ee,Z),v[S+3+32]=v[S+2+0]=nn(ue,ie,ee),v[S+3+0]=nn(_e,ue,ie)}function Or(v,S){var D=v[S+1-32],V=v[S+2-32],X=v[S+3-32],Z=v[S+4-32],ee=v[S+5-32],ie=v[S+6-32],ue=v[S+7-32];v[S+0+0]=nn(v[S+0-32],D,V),v[S+1+0]=v[S+0+32]=nn(D,V,X),v[S+2+0]=v[S+1+32]=v[S+0+64]=nn(V,X,Z),v[S+3+0]=v[S+2+32]=v[S+1+64]=v[S+0+96]=nn(X,Z,ee),v[S+3+32]=v[S+2+64]=v[S+1+96]=nn(Z,ee,ie),v[S+3+64]=v[S+2+96]=nn(ee,ie,ue),v[S+3+96]=nn(ie,ue,ue)}function Dl(v,S){var D=v[S-1+0],V=v[S-1+32],X=v[S-1+64],Z=v[S-1-32],ee=v[S+0-32],ie=v[S+1-32],ue=v[S+2-32],_e=v[S+3-32];v[S+0+0]=v[S+1+64]=Z+ee+1>>1,v[S+1+0]=v[S+2+64]=ee+ie+1>>1,v[S+2+0]=v[S+3+64]=ie+ue+1>>1,v[S+3+0]=ue+_e+1>>1,v[S+0+96]=nn(X,V,D),v[S+0+64]=nn(V,D,Z),v[S+0+32]=v[S+1+96]=nn(D,Z,ee),v[S+1+32]=v[S+2+96]=nn(Z,ee,ie),v[S+2+32]=v[S+3+96]=nn(ee,ie,ue),v[S+3+32]=nn(ie,ue,_e)}function pi(v,S){var D=v[S+0-32],V=v[S+1-32],X=v[S+2-32],Z=v[S+3-32],ee=v[S+4-32],ie=v[S+5-32],ue=v[S+6-32],_e=v[S+7-32];v[S+0+0]=D+V+1>>1,v[S+1+0]=v[S+0+64]=V+X+1>>1,v[S+2+0]=v[S+1+64]=X+Z+1>>1,v[S+3+0]=v[S+2+64]=Z+ee+1>>1,v[S+0+32]=nn(D,V,X),v[S+1+32]=v[S+0+96]=nn(V,X,Z),v[S+2+32]=v[S+1+96]=nn(X,Z,ee),v[S+3+32]=v[S+2+96]=nn(Z,ee,ie),v[S+3+64]=nn(ee,ie,ue),v[S+3+96]=nn(ie,ue,_e)}function Qs(v,S){var D=v[S-1+0],V=v[S-1+32],X=v[S-1+64],Z=v[S-1+96];v[S+0+0]=D+V+1>>1,v[S+2+0]=v[S+0+32]=V+X+1>>1,v[S+2+32]=v[S+0+64]=X+Z+1>>1,v[S+1+0]=nn(D,V,X),v[S+3+0]=v[S+1+32]=nn(V,X,Z),v[S+3+32]=v[S+1+64]=nn(X,Z,Z),v[S+3+64]=v[S+2+64]=v[S+0+96]=v[S+1+96]=v[S+2+96]=v[S+3+96]=Z}function Ll(v,S){var D=v[S-1+0],V=v[S-1+32],X=v[S-1+64],Z=v[S-1+96],ee=v[S-1-32],ie=v[S+0-32],ue=v[S+1-32],_e=v[S+2-32];v[S+0+0]=v[S+2+32]=D+ee+1>>1,v[S+0+32]=v[S+2+64]=V+D+1>>1,v[S+0+64]=v[S+2+96]=X+V+1>>1,v[S+0+96]=Z+X+1>>1,v[S+3+0]=nn(ie,ue,_e),v[S+2+0]=nn(ee,ie,ue),v[S+1+0]=v[S+3+32]=nn(D,ee,ie),v[S+1+32]=v[S+3+64]=nn(V,D,ee),v[S+1+64]=v[S+3+96]=nn(X,V,D),v[S+1+96]=nn(Z,X,V)}function za(v,S){var D;for(D=0;8>D;++D)i(v,S+32*D,v,S-32,8)}function lu(v,S){var D;for(D=0;8>D;++D)r(v,S,v[S-1],8),S+=32}function Js(v,S,D){var V;for(V=0;8>V;++V)r(S,D+32*V,v,8)}function Po(v,S){var D,V=8;for(D=0;8>D;++D)V+=v[S+D-32]+v[S-1+32*D];Js(V>>4,v,S)}function Zs(v,S){var D,V=4;for(D=0;8>D;++D)V+=v[S+D-32];Js(V>>3,v,S)}function Ar(v,S){var D,V=4;for(D=0;8>D;++D)V+=v[S-1+32*D];Js(V>>3,v,S)}function to(v,S){Js(128,v,S)}function ss(v,S,D){var V=v[S-D],X=v[S+0],Z=3*(X-V)+zl[1020+v[S-2*D]-v[S+D]],ee=qf[112+(Z+4>>3)];v[S-D]=Ps[255+V+qf[112+(Z+3>>3)]],v[S+0]=Ps[255+X-ee]}function no(v,S,D,V){var X=v[S+0],Z=v[S+D];return bs[255+v[S-2*D]-v[S-D]]>V||bs[255+Z-X]>V}function al(v,S,D,V){return 4*bs[255+v[S-D]-v[S+0]]+bs[255+v[S-2*D]-v[S+D]]<=V}function io(v,S,D,V,X){var Z=v[S-3*D],ee=v[S-2*D],ie=v[S-D],ue=v[S+0],_e=v[S+D],Ce=v[S+2*D],ze=v[S+3*D];return 4*bs[255+ie-ue]+bs[255+ee-_e]>V?0:bs[255+v[S-4*D]-Z]<=X&&bs[255+Z-ee]<=X&&bs[255+ee-ie]<=X&&bs[255+ze-Ce]<=X&&bs[255+Ce-_e]<=X&&bs[255+_e-ue]<=X}function ro(v,S,D,V){var X=2*V+1;for(V=0;16>V;++V)al(v,S+V,D,X)&&ss(v,S+V,D)}function ya(v,S,D,V){var X=2*V+1;for(V=0;16>V;++V)al(v,S+V*D,1,X)&&ss(v,S+V*D,1)}function Ol(v,S,D,V){var X;for(X=3;0<X;--X)ro(v,S+=4*D,D,V)}function yc(v,S,D,V){var X;for(X=3;0<X;--X)ya(v,S+=4,D,V)}function ea(v,S,D,V,X,Z,ee,ie){for(Z=2*Z+1;0<X--;){if(io(v,S,D,Z,ee))if(no(v,S,D,ie))ss(v,S,D);else{var ue=v,_e=S,Ce=D,ze=ue[_e-2*Ce],ge=ue[_e-Ce],ke=ue[_e+0],Me=ue[_e+Ce],Je=ue[_e+2*Ce],Be=27*(it=zl[1020+3*(ke-ge)+zl[1020+ze-Me]])+63>>7,Xe=18*it+63>>7,it=9*it+63>>7;ue[_e-3*Ce]=Ps[255+ue[_e-3*Ce]+it],ue[_e-2*Ce]=Ps[255+ze+Xe],ue[_e-Ce]=Ps[255+ge+Be],ue[_e+0]=Ps[255+ke-Be],ue[_e+Ce]=Ps[255+Me-Xe],ue[_e+2*Ce]=Ps[255+Je-it]}S+=V}}function so(v,S,D,V,X,Z,ee,ie){for(Z=2*Z+1;0<X--;){if(io(v,S,D,Z,ee))if(no(v,S,D,ie))ss(v,S,D);else{var ue=v,_e=S,Ce=D,ze=ue[_e-Ce],ge=ue[_e+0],ke=ue[_e+Ce],Me=qf[112+(4+(Je=3*(ge-ze))>>3)],Je=qf[112+(Je+3>>3)],Be=Me+1>>1;ue[_e-2*Ce]=Ps[255+ue[_e-2*Ce]+Be],ue[_e-Ce]=Ps[255+ze+Je],ue[_e+0]=Ps[255+ge-Me],ue[_e+Ce]=Ps[255+ke-Be]}S+=V}}function cu(v,S,D,V,X,Z){ea(v,S,D,1,16,V,X,Z)}function Ha(v,S,D,V,X,Z){ea(v,S,1,D,16,V,X,Z)}function xc(v,S,D,V,X,Z){var ee;for(ee=3;0<ee;--ee)so(v,S+=4*D,D,1,16,V,X,Z)}function C(v,S,D,V,X,Z){var ee;for(ee=3;0<ee;--ee)so(v,S+=4,1,D,16,V,X,Z)}function K(v,S,D,V,X,Z,ee,ie){ea(v,S,X,1,8,Z,ee,ie),ea(D,V,X,1,8,Z,ee,ie)}function me(v,S,D,V,X,Z,ee,ie){ea(v,S,1,X,8,Z,ee,ie),ea(D,V,1,X,8,Z,ee,ie)}function Se(v,S,D,V,X,Z,ee,ie){so(v,S+4*X,X,1,8,Z,ee,ie),so(D,V+4*X,X,1,8,Z,ee,ie)}function De(v,S,D,V,X,Z,ee,ie){so(v,S+4,1,X,8,Z,ee,ie),so(D,V+4,1,X,8,Z,ee,ie)}function tt(){this.ba=new Wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new In,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vt(){this.ua=0,this.Wa=new ht,this.vb=new ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new z}function on(){this.xb=this.a=0,this.l=new rs,this.ca=new Wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vt,this.ab=0,this.gc=a(4,Ot),this.Oc=0}function Qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bn(v,S,D,V,X,Z,ee){for(v=v==null?0:v[S+0],S=0;S<ee;++S)X[Z+S]=v+D[V+S]&255,v=X[Z+S]}function Bi(v,S,D,V,X,Z,ee){var ie;if(v==null)Bn(null,null,D,V,X,Z,ee);else for(ie=0;ie<ee;++ie)X[Z+ie]=v[S+ie]+D[V+ie]&255}function Ti(v,S,D,V,X,Z,ee){if(v==null)Bn(null,null,D,V,X,Z,ee);else{var ie,ue=v[S+0],_e=ue,Ce=ue;for(ie=0;ie<ee;++ie)_e=Ce+(ue=v[S+ie])-_e,Ce=D[V+ie]+(-256&_e?0>_e?0:255:_e)&255,_e=ue,X[Z+ie]=Ce}}function y(v,S,D,V){var X=S.width,Z=S.o;if(e(v!=null&&S!=null),0>D||0>=V||D+V>Z)return null;if(!v.Cc){if(v.ga==null){var ee;if(v.ga=new Qt,(ee=v.ga==null)||(ee=S.width*S.o,e(v.Gb.length==0),v.Gb=s(ee),v.Uc=0,v.Gb==null?ee=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,ee=1),ee=!ee),!ee){ee=v.ga;var ie=v.Fa,ue=v.P,_e=v.qc,Ce=v.mb,ze=v.nb,ge=ue+1,ke=_e-1,Me=ee.l;if(e(ie!=null&&Ce!=null&&S!=null),Hl[0]=null,Hl[1]=Bn,Hl[2]=Bi,Hl[3]=Ti,ee.ca=Ce,ee.tb=ze,ee.c=S.width,ee.i=S.height,e(0<ee.c&&0<ee.i),1>=_e)S=0;else if(ee.$a=3&ie[ue+0],ee.Z=ie[ue+0]>>2&3,ee.Lc=ie[ue+0]>>4&3,ue=ie[ue+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ue)S=0;else if(Me.put=Kt,Me.ac=Sr,Me.bc=Ua,Me.ma=ee,Me.width=S.width,Me.height=S.height,Me.Da=S.Da,Me.v=S.v,Me.va=S.va,Me.j=S.j,Me.o=S.o,ee.$a)e:{e(ee.$a==1),S=je();t:for(;;){if(S==null){S=0;break e}if(e(ee!=null),ee.mc=S,S.c=ee.c,S.i=ee.i,S.l=ee.l,S.l.ma=ee,S.l.width=ee.c,S.l.height=ee.i,S.a=0,Ne(S.m,ie,ge,ke),!Ue(ee.c,ee.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&le(S.s)?(ee.ic=1,ie=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(ie),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ee.ic=0,S=Ve(S,ee.c)),!S))break t;S=1;break e}ee.mc=null,S=0}else S=ke>=ee.c*ee.i;ee=!S}if(ee)return null;v.ga.Lc!=1?v.Ga=0:V=Z-D}e(v.ga!=null),e(D+V<=Z);e:{if(S=(ie=v.ga).c,Z=ie.l.o,ie.$a==0){if(ge=v.rc,ke=v.Vc,Me=v.Fa,ue=v.P+1+D*S,_e=v.mb,Ce=v.nb+D*S,e(ue<=v.P+v.qc),ie.Z!=0)for(e(Hl[ie.Z]!=null),ee=0;ee<V;++ee)Hl[ie.Z](ge,ke,Me,ue,_e,Ce,S),ge=_e,ke=Ce,Ce+=S,ue+=S;else for(ee=0;ee<V;++ee)i(_e,Ce,Me,ue,S),ge=_e,ke=Ce,Ce+=S,ue+=S;v.rc=ge,v.Vc=ke}else{if(e(ie.mc!=null),S=D+V,e((ee=ie.mc)!=null),e(S<=ee.i),ee.C>=S)S=1;else if(ie.ic||We(),ie.ic){ie=ee.V,ge=ee.Ba,ke=ee.c;var Je=ee.i,Be=(Me=1,ue=ee.$/ke,_e=ee.$%ke,Ce=ee.m,ze=ee.s,ee.$),Xe=ke*Je,it=ke*S,mt=ze.wc,ot=Be<it?J(ze,_e,ue):null;e(Be<=Xe),e(S<=Je),e(le(ze));t:for(;;){for(;!Ce.h&&Be<it;){if(_e&mt||(ot=J(ze,_e,ue)),e(ot!=null),xe(Ce),256>(Je=di(ot.G[0],ot.H[0],Ce)))ie[ge+Be]=Je,++Be,++_e>=ke&&(_e=0,++ue<=S&&!(ue%16)&&ve(ee,ue));else{if(!(280>Je)){Me=0;break t}Je=Lr(Je-256,Ce);var zt,kt=di(ot.G[4],ot.H[4],Ce);if(xe(Ce),!(Be>=(kt=is(ke,kt=Lr(kt,Ce)))&&Xe-Be>=Je)){Me=0;break t}for(zt=0;zt<Je;++zt)ie[ge+Be+zt]=ie[ge+Be+zt-kt];for(Be+=Je,_e+=Je;_e>=ke;)_e-=ke,++ue<=S&&!(ue%16)&&ve(ee,ue);Be<it&&_e&mt&&(ot=J(ze,_e,ue))}e(Ce.h==Y(Ce))}ve(ee,ue>S?S:ue);break t}!Me||Ce.h&&Be<Xe?(Me=0,ee.a=Ce.h?5:3):ee.$=Be,S=Me}else S=Fe(ee,ee.V,ee.Ba,ee.c,ee.i,S,ft);if(!S){V=0;break e}}D+V>=Z&&(v.Cc=1),V=1}if(!V)return null;if(v.Cc&&((V=v.ga)!=null&&(V.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+D*X}function O(v,S,D,V,X,Z){for(;0<X--;){var ee,ie=v,ue=S+(D?1:0),_e=v,Ce=S+(D?0:3);for(ee=0;ee<V;++ee){var ze=_e[Ce+4*ee];ze!=255&&(ze*=32897,ie[ue+4*ee+0]=ie[ue+4*ee+0]*ze>>23,ie[ue+4*ee+1]=ie[ue+4*ee+1]*ze>>23,ie[ue+4*ee+2]=ie[ue+4*ee+2]*ze>>23)}S+=Z}}function q(v,S,D,V,X){for(;0<V--;){var Z;for(Z=0;Z<D;++Z){var ee=v[S+2*Z+0],ie=15&(_e=v[S+2*Z+1]),ue=4369*ie,_e=(240&_e|_e>>4)*ue>>16;v[S+2*Z+0]=(240&ee|ee>>4)*ue>>16&240|(15&ee|ee<<4)*ue>>16>>4&15,v[S+2*Z+1]=240&_e|ie}S+=X}}function re(v,S,D,V,X,Z,ee,ie){var ue,_e,Ce=255;for(_e=0;_e<X;++_e){for(ue=0;ue<V;++ue){var ze=v[S+ue];Z[ee+4*ue]=ze,Ce&=ze}S+=D,ee+=ie}return Ce!=255}function Pe(v,S,D,V,X){var Z;for(Z=0;Z<X;++Z)D[V+Z]=v[S+Z]>>8}function We(){fu=O,oo=q,Vf=re,$a=Pe}function xt(v,S,D){N[v]=function(V,X,Z,ee,ie,ue,_e,Ce,ze,ge,ke,Me,Je,Be,Xe,it,mt){var ot,zt=mt-1>>1,kt=ie[ue+0]|_e[Ce+0]<<16,bn=ze[ge+0]|ke[Me+0]<<16;e(V!=null);var Ft=3*kt+bn+131074>>2;for(S(V[X+0],255&Ft,Ft>>16,Je,Be),Z!=null&&(Ft=3*bn+kt+131074>>2,S(Z[ee+0],255&Ft,Ft>>16,Xe,it)),ot=1;ot<=zt;++ot){var jn=ie[ue+ot]|_e[Ce+ot]<<16,Qi=ze[ge+ot]|ke[Me+ot]<<16,An=kt+jn+bn+Qi+524296,Dt=An+2*(jn+bn)>>3;Ft=Dt+kt>>1,kt=(An=An+2*(kt+Qi)>>3)+jn>>1,S(V[X+2*ot-1],255&Ft,Ft>>16,Je,Be+(2*ot-1)*D),S(V[X+2*ot-0],255&kt,kt>>16,Je,Be+(2*ot-0)*D),Z!=null&&(Ft=An+bn>>1,kt=Dt+Qi>>1,S(Z[ee+2*ot-1],255&Ft,Ft>>16,Xe,it+(2*ot-1)*D),S(Z[ee+2*ot+0],255&kt,kt>>16,Xe,it+(2*ot+0)*D)),kt=jn,bn=Qi}1&mt||(Ft=3*kt+bn+131074>>2,S(V[X+mt-1],255&Ft,Ft>>16,Je,Be+(mt-1)*D),Z!=null&&(Ft=3*bn+kt+131074>>2,S(Z[ee+mt-1],255&Ft,Ft>>16,Xe,it+(mt-1)*D)))}}function wn(){Ss[Kd]=gu,Ss[Ms]=Sh,Ss[Xd]=Qp,Ss[lo]=t0,Ss[Wf]=Tc,Ss[wh]=gl,Ss[bc]=Ac,Ss[Gf]=Sh,Ss[Qd]=t0,Ss[bh]=Tc,Ss[Jd]=gl}function ji(v){return v&-16384?0>v?0:255:v>>n0}function On(v,S){return ji((19077*v>>8)+(26149*S>>8)-14234)}function gi(v,S,D){return ji((19077*v>>8)-(6419*S>>8)-(13320*D>>8)+8708)}function as(v,S){return ji((19077*v>>8)+(33050*S>>8)-17685)}function ys(v,S,D,V,X){V[X+0]=On(v,D),V[X+1]=gi(v,S,D),V[X+2]=as(v,S)}function Ni(v,S,D,V,X){V[X+0]=as(v,S),V[X+1]=gi(v,S,D),V[X+2]=On(v,D)}function xs(v,S,D,V,X){var Z=gi(v,S,D);S=Z<<3&224|as(v,S)>>3,V[X+0]=248&On(v,D)|Z>>5,V[X+1]=S}function qa(v,S,D,V,X){var Z=240&as(v,S)|15;V[X+0]=240&On(v,D)|gi(v,S,D)>>4,V[X+1]=Z}function ol(v,S,D,V,X){V[X+0]=255,ys(v,S,D,V,X+1)}function ll(v,S,D,V,X){Ni(v,S,D,V,X),V[X+3]=255}function ta(v,S,D,V,X){ys(v,S,D,V,X),V[X+3]=255}function Pl(v,S,D){N[v]=function(V,X,Z,ee,ie,ue,_e,Ce,ze){for(var ge=Ce+(-2&ze)*D;Ce!=ge;)S(V[X+0],Z[ee+0],ie[ue+0],_e,Ce),S(V[X+1],Z[ee+0],ie[ue+0],_e,Ce+D),X+=2,++ee,++ue,Ce+=2*D;1&ze&&S(V[X+0],Z[ee+0],ie[ue+0],_e,Ce)}}function mh(v,S,D){return D==0?v==0?S==0?6:5:S==0?4:0:D}function Bf(v,S,D,V,X){switch(v>>>30){case 3:Vl(S,D,V,X,0);break;case 2:Os(S,D,V,X);break;case 1:hi(S,D,V,X)}}function Wa(v,S){var D,V,X=S.M,Z=S.Nb,ee=v.oc,ie=v.pc+40,ue=v.oc,_e=v.pc+584,Ce=v.oc,ze=v.pc+600;for(D=0;16>D;++D)ee[ie+32*D-1]=129;for(D=0;8>D;++D)ue[_e+32*D-1]=129,Ce[ze+32*D-1]=129;for(0<X?ee[ie-1-32]=ue[_e-1-32]=Ce[ze-1-32]=129:(r(ee,ie-32-1,127,21),r(ue,_e-32-1,127,9),r(Ce,ze-32-1,127,9)),V=0;V<v.za;++V){var ge=S.ya[S.aa+V];if(0<V){for(D=-1;16>D;++D)i(ee,ie+32*D-4,ee,ie+32*D+12,4);for(D=-1;8>D;++D)i(ue,_e+32*D-4,ue,_e+32*D+4,4),i(Ce,ze+32*D-4,Ce,ze+32*D+4,4)}var ke=v.Gd,Me=v.Hd+V,Je=ge.ad,Be=ge.Hc;if(0<X&&(i(ee,ie-32,ke[Me].y,0,16),i(ue,_e-32,ke[Me].f,0,8),i(Ce,ze-32,ke[Me].ea,0,8)),ge.Za){var Xe=ee,it=ie-32+16;for(0<X&&(V>=v.za-1?r(Xe,it,ke[Me].y[15],4):i(Xe,it,ke[Me+1].y,0,4)),D=0;4>D;D++)Xe[it+128+D]=Xe[it+256+D]=Xe[it+384+D]=Xe[it+0+D];for(D=0;16>D;++D,Be<<=2)Xe=ee,it=ie+Rr[D],mr[ge.Ob[D]](Xe,it),Bf(Be,Je,16*+D,Xe,it)}else if(Xe=mh(V,X,ge.Ob[0]),ia[Xe](ee,ie),Be!=0)for(D=0;16>D;++D,Be<<=2)Bf(Be,Je,16*+D,ee,ie+Rr[D]);for(D=ge.Gc,Xe=mh(V,X,ge.Dd),jo[Xe](ue,_e),jo[Xe](Ce,ze),Be=Je,Xe=ue,it=_e,255&(ge=0|D)&&(170&ge?ao(Be,256,Xe,it):Jn(Be,256,Xe,it)),ge=Ce,Be=ze,255&(D>>=8)&&(170&D?ao(Je,320,ge,Be):Jn(Je,320,ge,Be)),X<v.Ub-1&&(i(ke[Me].y,0,ee,ie+480,16),i(ke[Me].f,0,ue,_e+224,8),i(ke[Me].ea,0,Ce,ze+224,8)),D=8*Z*v.B,ke=v.sa,Me=v.ta+16*V+16*Z*v.R,Je=v.qa,ge=v.ra+8*V+D,Be=v.Ha,Xe=v.Ia+8*V+D,D=0;16>D;++D)i(ke,Me+D*v.R,ee,ie+32*D,16);for(D=0;8>D;++D)i(Je,ge+D*v.B,ue,_e+32*D,8),i(Be,Xe+D*v.B,Ce,ze+32*D,8)}}function Mo(v,S,D,V,X,Z,ee,ie,ue){var _e=[0],Ce=[0],ze=0,ge=ue!=null?ue.kd:0,ke=ue??new ct;if(v==null||12>D)return 7;ke.data=v,ke.w=S,ke.ha=D,S=[S],D=[D],ke.gb=[ke.gb];e:{var Me=S,Je=D,Be=ke.gb;if(e(v!=null),e(Je!=null),e(Be!=null),Be[0]=0,12<=Je[0]&&!t(v,Me[0],"RIFF")){if(t(v,Me[0]+8,"WEBP")){Be=3;break e}var Xe=_t(v,Me[0]+4);if(12>Xe||4294967286<Xe){Be=3;break e}if(ge&&Xe>Je[0]-8){Be=7;break e}Be[0]=Xe,Me[0]+=12,Je[0]-=12}Be=0}if(Be!=0)return Be;for(Xe=0<ke.gb[0],D=D[0];;){e:{var it=v;Je=S,Be=D;var mt=_e,ot=Ce,zt=Me=[0];if((Ft=ze=[ze])[0]=0,8>Be[0])Be=7;else{if(!t(it,Je[0],"VP8X")){if(_t(it,Je[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var kt=_t(it,Je[0]+8),bn=1+yt(it,Je[0]+12);if(2147483648<=bn*(it=1+yt(it,Je[0]+15))){Be=3;break e}zt!=null&&(zt[0]=kt),mt!=null&&(mt[0]=bn),ot!=null&&(ot[0]=it),Je[0]+=18,Be[0]-=18,Ft[0]=1}Be=0}}if(ze=ze[0],Me=Me[0],Be!=0)return Be;if(Je=!!(2&Me),!Xe&&ze)return 3;if(Z!=null&&(Z[0]=!!(16&Me)),ee!=null&&(ee[0]=Je),ie!=null&&(ie[0]=0),ee=_e[0],Me=Ce[0],ze&&Je&&ue==null){Be=0;break}if(4>D){Be=7;break}if(Xe&&ze||!Xe&&!ze&&!t(v,S[0],"ALPH")){D=[D],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{kt=v,Be=S,Xe=D;var Ft=ke.gb;mt=ke.na,ot=ke.P,zt=ke.Sa,bn=22,e(kt!=null),e(Xe!=null),it=Be[0];var jn=Xe[0];for(e(mt!=null),e(zt!=null),mt[0]=null,ot[0]=null,zt[0]=0;;){if(Be[0]=it,Xe[0]=jn,8>jn){Be=7;break e}var Qi=_t(kt,it+4);if(4294967286<Qi){Be=3;break e}var An=8+Qi+1&-2;if(bn+=An,0<Ft&&bn>Ft){Be=3;break e}if(!t(kt,it,"VP8 ")||!t(kt,it,"VP8L")){Be=0;break e}if(jn[0]<An){Be=7;break e}t(kt,it,"ALPH")||(mt[0]=kt,ot[0]=it+8,zt[0]=Qi),it+=An,jn-=An}}if(D=D[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Be!=0)break}D=[D],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(Ft=v,Be=S,Xe=D,mt=ke.gb[0],ot=ke.Ja,zt=ke.xa,kt=Be[0],it=!t(Ft,kt,"VP8 "),bn=!t(Ft,kt,"VP8L"),e(Ft!=null),e(Xe!=null),e(ot!=null),e(zt!=null),8>Xe[0])Be=7;else{if(it||bn){if(Ft=_t(Ft,kt+4),12<=mt&&Ft>mt-12){Be=3;break e}if(ge&&Ft>Xe[0]-8){Be=7;break e}ot[0]=Ft,Be[0]+=8,Xe[0]-=8,zt[0]=bn}else zt[0]=5<=Xe[0]&&Ft[kt+0]==47&&!(Ft[kt+4]>>5),ot[0]=Xe[0];Be=0}if(D=D[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],S=S[0],Be!=0)break;if(4294967286<ke.Ja)return 3;if(ie==null||Je||(ie[0]=ke.xa?2:1),ee=[ee],Me=[Me],ke.xa){if(5>D){Be=7;break}ie=ee,ge=Me,Je=Z,v==null||5>D?v=0:5<=D&&v[S+0]==47&&!(v[S+4]>>5)?(Xe=[0],Ft=[0],mt=[0],Ne(ot=new G,v,S,D),_s(ot,Xe,Ft,mt)?(ie!=null&&(ie[0]=Xe[0]),ge!=null&&(ge[0]=Ft[0]),Je!=null&&(Je[0]=mt[0]),v=1):v=0):v=0}else{if(10>D){Be=7;break}ie=Me,v==null||10>D||!ko(v,S+3,D-3)?v=0:(ge=v[S+0]|v[S+1]<<8|v[S+2]<<16,Je=16383&(v[S+7]<<8|v[S+6]),v=16383&(v[S+9]<<8|v[S+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=ke.Ja||!Je||!v?v=0:(ee&&(ee[0]=Je),ie&&(ie[0]=v),v=1))}if(!v||(ee=ee[0],Me=Me[0],ze&&(_e[0]!=ee||Ce[0]!=Me)))return 3;ue!=null&&(ue[0]=ke,ue.offset=S-ue.w,e(4294967286>S-ue.w),e(ue.offset==ue.ha-D));break}return Be==0||Be==7&&ze&&ue==null?(Z!=null&&(Z[0]|=ke.na!=null&&0<ke.na.length),V!=null&&(V[0]=ee),X!=null&&(X[0]=Me),0):Be}function Ml(v,S,D){var V=S.width,X=S.height,Z=0,ee=0,ie=V,ue=X;if(S.Da=v!=null&&0<v.Da,S.Da&&(ie=v.cd,ue=v.bd,Z=v.v,ee=v.j,11>D||(Z&=-2,ee&=-2),0>Z||0>ee||0>=ie||0>=ue||Z+ie>V||ee+ue>X))return 0;if(S.v=Z,S.j=ee,S.va=Z+ie,S.o=ee+ue,S.U=ie,S.T=ue,S.da=v!=null&&0<v.da,S.da){if(!It(ie,ue,D=[v.ib],Z=[v.hb]))return 0;S.ib=D[0],S.hb=Z[0]}return S.ob=v!=null&&v.ob,S.Kb=v==null||!v.Sd,S.da&&(S.ob=S.ib<3*V/4&&S.hb<3*X/4,S.Kb=0),1}function jf(v){if(v==null)return 2;if(11>v.S){var S=v.f.RGBA;S.fb+=(v.height-1)*S.A,S.A=-S.A}else S=v.f.kb,v=v.height,S.O+=(v-1)*S.fa,S.fa=-S.fa,S.N+=(v-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(v-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(v-1)*S.lb,S.lb=-S.lb);return 0}function Fo(v,S,D,V){if(V==null||0>=v||0>=S)return 2;if(D!=null){if(D.Da){var X=D.cd,Z=D.bd,ee=-2&D.v,ie=-2&D.j;if(0>ee||0>ie||0>=X||0>=Z||ee+X>v||ie+Z>S)return 2;v=X,S=Z}if(D.da){if(!It(v,S,X=[D.ib],Z=[D.hb]))return 2;v=X[0],S=Z[0]}}V.width=v,V.height=S;e:{var ue=V.width,_e=V.height;if(v=V.S,0>=ue||0>=_e||!(v>=Kd&&13>v))v=2;else{if(0>=V.Rd&&V.sd==null){ee=Z=X=S=0;var Ce=(ie=ue*r0[v])*_e;if(11>v||(Z=(_e+1)/2*(S=(ue+1)/2),v==12&&(ee=(X=ue)*_e)),(_e=s(Ce+2*Z+ee))==null){v=1;break e}V.sd=_e,11>v?((ue=V.f.RGBA).eb=_e,ue.fb=0,ue.A=ie,ue.size=Ce):((ue=V.f.kb).y=_e,ue.O=0,ue.fa=ie,ue.Fd=Ce,ue.f=_e,ue.N=0+Ce,ue.Ab=S,ue.Cd=Z,ue.ea=_e,ue.W=0+Ce+Z,ue.Db=S,ue.Ed=Z,v==12&&(ue.F=_e,ue.J=0+Ce+2*Z),ue.Tc=ee,ue.lb=X)}if(S=1,X=V.S,Z=V.width,ee=V.height,X>=Kd&&13>X)if(11>X)v=V.f.RGBA,S&=(ie=Math.abs(v.A))*(ee-1)+Z<=v.size,S&=ie>=Z*r0[X],S&=v.eb!=null;else{v=V.f.kb,ie=(Z+1)/2,Ce=(ee+1)/2,ue=Math.abs(v.fa),_e=Math.abs(v.Ab);var ze=Math.abs(v.Db),ge=Math.abs(v.lb),ke=ge*(ee-1)+Z;S&=ue*(ee-1)+Z<=v.Fd,S&=_e*(Ce-1)+ie<=v.Cd,S=(S&=ze*(Ce-1)+ie<=v.Ed)&ue>=Z&_e>=ie&ze>=ie,S&=v.y!=null,S&=v.f!=null,S&=v.ea!=null,X==12&&(S&=ge>=Z,S&=ke<=v.Tc,S&=v.F!=null)}else S=0;v=S?0:2}}return v!=0||D!=null&&D.fd&&(v=jf(V)),v}var wc=64,xa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],na=24,cl=32,ul=8,Fl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];At("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(v){return v},N.Predictor2=function(v,S,D){return S[D+0]},N.Predictor3=function(v,S,D){return S[D+1]},N.Predictor4=function(v,S,D){return S[D-1]},N.Predictor5=function(v,S,D){return qt(qt(v,S[D+1]),S[D+0])},N.Predictor6=function(v,S,D){return qt(v,S[D-1])},N.Predictor7=function(v,S,D){return qt(v,S[D+0])},N.Predictor8=function(v,S,D){return qt(S[D-1],S[D+0])},N.Predictor9=function(v,S,D){return qt(S[D+0],S[D+1])},N.Predictor10=function(v,S,D){return qt(qt(v,S[D-1]),qt(S[D+0],S[D+1]))},N.Predictor11=function(v,S,D){var V=S[D+0];return 0>=un(V>>24&255,v>>24&255,(S=S[D-1])>>24&255)+un(V>>16&255,v>>16&255,S>>16&255)+un(V>>8&255,v>>8&255,S>>8&255)+un(255&V,255&v,255&S)?V:v},N.Predictor12=function(v,S,D){var V=S[D+0];return(Zt((v>>24&255)+(V>>24&255)-((S=S[D-1])>>24&255))<<24|Zt((v>>16&255)+(V>>16&255)-(S>>16&255))<<16|Zt((v>>8&255)+(V>>8&255)-(S>>8&255))<<8|Zt((255&v)+(255&V)-(255&S)))>>>0},N.Predictor13=function(v,S,D){var V=S[D-1];return(mn((v=qt(v,S[D+0]))>>24&255,V>>24&255)<<24|mn(v>>16&255,V>>16&255)<<16|mn(v>>8&255,V>>8&255)<<8|mn(255&v,255&V))>>>0};var _h=N.PredictorAdd0;N.PredictorAdd1=Tn,At("Predictor2","PredictorAdd2"),At("Predictor3","PredictorAdd3"),At("Predictor4","PredictorAdd4"),At("Predictor5","PredictorAdd5"),At("Predictor6","PredictorAdd6"),At("Predictor7","PredictorAdd7"),At("Predictor8","PredictorAdd8"),At("Predictor9","PredictorAdd9"),At("Predictor10","PredictorAdd10"),At("Predictor11","PredictorAdd11"),At("Predictor12","PredictorAdd12"),At("Predictor13","PredictorAdd13");var vh=N.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Cr,Gd=N.ColorIndexInverseTransform,hl=N.MapARGB,fl=N.VP8LColorIndexInverseTransformAlpha,ws=N.MapAlpha,Bl=N.VP8LPredictorsAdd=[];Bl.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var yh,xh,jl,Ul,dl,uu,Ga,Vl,Os,ao,hi,Jn,Ui,Nr,pl,Bo,hu,Uf,Gp,D1,L1,O1,$p,Yp,fu,oo,Vf,$a,du=s(511),$d=s(2041),zf=s(225),Hf=s(767),Yd=0,zl=$d,qf=zf,Ps=Hf,bs=du,Kd=0,Ms=1,Xd=2,lo=3,Wf=4,wh=5,bc=6,Gf=7,Qd=8,bh=9,Jd=10,co=[2,3,7],Eh=[3,3,11],pu=[280,256,256,256,40],Zd=[0,1,1,1,0],$f=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ho=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ec=8,fo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],po=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ya=null,P1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Kp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],e0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],M1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Es=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Un=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ia=[],mr=[],jo=[],Sc=1,Xp=2,Hl=[],Ss=[];xt("UpsampleRgbLinePair",ys,3),xt("UpsampleBgrLinePair",Ni,3),xt("UpsampleRgbaLinePair",ta,4),xt("UpsampleBgraLinePair",ll,4),xt("UpsampleArgbLinePair",ol,4),xt("UpsampleRgba4444LinePair",qa,2),xt("UpsampleRgb565LinePair",xs,2);var gu=N.UpsampleRgbLinePair,Qp=N.UpsampleBgrLinePair,Sh=N.UpsampleRgbaLinePair,t0=N.UpsampleBgraLinePair,Tc=N.UpsampleArgbLinePair,gl=N.UpsampleRgba4444LinePair,Ac=N.UpsampleRgb565LinePair,go=16,Th=1<<go-1,mu=-227,Cc=482,n0=6,Nc=0,Ts=s(256),i0=s(256),F1=s(256),$y=s(256),Yy=s(Cc-mu),Ky=s(Cc-mu);Pl("YuvToRgbRow",ys,3),Pl("YuvToBgrRow",Ni,3),Pl("YuvToRgbaRow",ta,4),Pl("YuvToBgraRow",ll,4),Pl("YuvToArgbRow",ol,4),Pl("YuvToRgba4444Row",qa,2),Pl("YuvToRgb565Row",xs,2);var Rr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ah=[0,2,8],Yf=[8,7,6,4,4,2,2,2,1,1,1,1],Kf=1;this.WebPDecodeRGBA=function(v,S,D,V,X){var Z=Ms,ee=new tt,ie=new Wt;ee.ba=ie,ie.S=Z,ie.width=[ie.width],ie.height=[ie.height];var ue=ie.width,_e=ie.height,Ce=new Mt;if(Ce==null||v==null)var ze=2;else e(Ce!=null),ze=Mo(v,S,D,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(ze!=0?ue=0:(ue!=null&&(ue[0]=Ce.width[0]),_e!=null&&(_e[0]=Ce.height[0]),ue=1),ue){ie.width=ie.width[0],ie.height=ie.height[0],V!=null&&(V[0]=ie.width),X!=null&&(X[0]=ie.height);e:{if(V=new rs,(X=new ct).data=v,X.w=S,X.ha=D,X.kd=1,S=[0],e(X!=null),((v=Mo(X.data,X.w,X.ha,null,null,null,S,null,X))==0||v==7)&&S[0]&&(v=4),(S=v)==0){if(e(ee!=null),V.data=X.data,V.w=X.w+X.offset,V.ha=X.ha-X.offset,V.put=Kt,V.ac=Sr,V.bc=Ua,V.ma=ee,X.xa){if((v=je())==null){ee=1;break e}if((function(ge,ke){var Me=[0],Je=[0],Be=[0];t:for(;;){if(ge==null)return 0;if(ke==null)return ge.a=2,0;if(ge.l=ke,ge.a=0,Ne(ge.m,ke.data,ke.w,ke.ha),!_s(ge.m,Me,Je,Be)){ge.a=3;break t}if(ge.xb=Xp,ke.width=Me[0],ke.height=Je[0],!Ue(Me[0],Je[0],1,ge,null))break t;return 1}return e(ge.a!=0),0})(v,V)){if(V=(S=Fo(V.width,V.height,ee.Oa,ee.ba))==0){t:{V=v;n:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e((D=V.l)!=null),e((X=D.ma)!=null),V.xb!=0){if(V.ca=X.ba,V.tb=X.tb,e(V.ca!=null),!Ml(X.Oa,D,lo)){V.a=2;break n}if(!Ve(V,D.width)||D.da)break n;if((D.da||en(V.ca.S))&&We(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&We()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!he(V.s.vb,V.s.Wa.Xa)){V.a=1;break n}V.xb=0}if(!Fe(V,V.V,V.Ba,V.c,V.i,D.o,oe))break n;X.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(S=v.a)}else S=v.a}else{if((v=new pr)==null){ee=1;break e}if(v.Fa=X.na,v.P=X.P,v.qc=X.Sa,va(v,V)){if((S=Fo(V.width,V.height,ee.Oa,ee.ba))==0){if(v.Aa=0,D=ee.Oa,e((X=v)!=null),D!=null){if(0<(ue=0>(ue=D.Md)?0:100<ue?255:255*ue/100)){for(_e=Ce=0;4>_e;++_e)12>(ze=X.pb[_e]).lc&&(ze.ia=ue*Yf[0>ze.lc?0:ze.lc]>>3),Ce|=ze.ia;Ce&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=D.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}(function(ge,ke){if(ge==null)return 0;if(ke==null)return Fn(ge,2,"NULL VP8Io parameter in VP8Decode().");if(!ge.cb&&!va(ge,ke))return 0;if(e(ge.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(ge.L=0);var Me=Ah[ge.L];if(ge.L==2?(ge.yb=0,ge.zb=0):(ge.yb=ke.v-Me>>4,ge.zb=ke.j-Me>>4,0>ge.yb&&(ge.yb=0),0>ge.zb&&(ge.zb=0)),ge.Va=ke.o+15+Me>>4,ge.Hb=ke.va+15+Me>>4,ge.Hb>ge.za&&(ge.Hb=ge.za),ge.Va>ge.Ub&&(ge.Va=ge.Ub),0<ge.L){var Je=ge.ed;for(Me=0;4>Me;++Me){var Be;if(ge.Qa.Cb){var Xe=ge.Qa.Lb[Me];ge.Qa.Fb||(Xe+=Je.Tb)}else Xe=Je.Tb;for(Be=0;1>=Be;++Be){var it=ge.gd[Me][Be],mt=Xe;if(Je.Pc&&(mt+=Je.vd[0],Be&&(mt+=Je.od[0])),0<(mt=0>mt?0:63<mt?63:mt)){var ot=mt;0<Je.wb&&(ot=4<Je.wb?ot>>2:ot>>1)>9-Je.wb&&(ot=9-Je.wb),1>ot&&(ot=1),it.dd=ot,it.tc=2*mt+ot,it.ld=40<=mt?2:15<=mt?1:0}else it.tc=0;it.La=Be}}}Me=0}else Fn(ge,6,"Frame setup failed"),Me=ge.a;if(Me=Me==0){if(Me){ge.$c=0,0<ge.Aa||(ge.Ic=Kf);t:{Me=ge.Ic,Je=4*(ot=ge.za);var zt=32*ot,kt=ot+1,bn=0<ge.L?ot*(0<ge.Aa?2:1):0,Ft=(ge.Aa==2?2:1)*ot;if((it=Je+832+(Be=3*(16*Me+Ah[ge.L])/2*zt)+(Xe=ge.Fa!=null&&0<ge.Fa.length?ge.Kc.c*ge.Kc.i:0))!=it)Me=0;else{if(it>ge.Vb){if(ge.Vb=0,ge.Ec=s(it),ge.Fc=0,ge.Ec==null){Me=Fn(ge,1,"no memory during frame initialization.");break t}ge.Vb=it}it=ge.Ec,mt=ge.Fc,ge.Ac=it,ge.Bc=mt,mt+=Je,ge.Gd=a(zt,ks),ge.Hd=0,ge.rb=a(kt+1,ui),ge.sb=1,ge.wa=bn?a(bn,Dn):null,ge.Y=0,ge.D.Nb=0,ge.D.wa=ge.wa,ge.D.Y=ge.Y,0<ge.Aa&&(ge.D.Y+=ot),e(!0),ge.oc=it,ge.pc=mt,mt+=832,ge.ya=a(Ft,Xs),ge.aa=0,ge.D.ya=ge.ya,ge.D.aa=ge.aa,ge.Aa==2&&(ge.D.aa+=ot),ge.R=16*ot,ge.B=8*ot,ot=(zt=Ah[ge.L])*ge.R,zt=zt/2*ge.B,ge.sa=it,ge.ta=mt+ot,ge.qa=ge.sa,ge.ra=ge.ta+16*Me*ge.R+zt,ge.Ha=ge.qa,ge.Ia=ge.ra+8*Me*ge.B+zt,ge.$c=0,mt+=Be,ge.mb=Xe?it:null,ge.nb=Xe?mt:null,e(mt+Xe<=ge.Fc+ge.Vb),nl(ge),r(ge.Ac,ge.Bc,0,Je),Me=1}}if(Me){if(ke.ka=0,ke.y=ge.sa,ke.O=ge.ta,ke.f=ge.qa,ke.N=ge.ra,ke.ea=ge.Ha,ke.Vd=ge.Ia,ke.fa=ge.R,ke.Rc=ge.B,ke.F=null,ke.J=0,!Yd){for(Me=-255;255>=Me;++Me)du[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)$d[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)zf[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)Hf[255+Me]=0>Me?0:255<Me?255:Me;Yd=1}Ga=$r,Vl=ru,ao=vs,hi=su,Jn=Do,Os=gh,Ui=cu,Nr=Ha,pl=K,Bo=me,hu=xc,Uf=C,Gp=Se,D1=De,L1=ro,O1=ya,$p=Ol,Yp=yc,mr[0]=sl,mr[1]=au,mr[2]=kl,mr[3]=vc,mr[4]=Yr,mr[5]=Dl,mr[6]=Or,mr[7]=pi,mr[8]=Ll,mr[9]=Qs,ia[0]=Va,ia[1]=mc,ia[2]=_c,ia[3]=Lo,ia[4]=Oo,ia[5]=Ls,ia[6]=rl,jo[0]=Po,jo[1]=ou,jo[2]=za,jo[3]=lu,jo[4]=Ar,jo[5]=Zs,jo[6]=to,Me=1}else Me=0}Me&&(Me=(function(jn,Qi){for(jn.M=0;jn.M<jn.Va;++jn.M){var An,Dt=jn.Jc[jn.M&jn.Xb],Tt=jn.m,nr=jn;for(An=0;An<nr.za;++An){var dn=Tt,kn=nr,xi=kn.Ac,Kr=kn.Bc+4*An,As=kn.zc,Vi=kn.ya[kn.aa+An];if(kn.Qa.Bb?Vi.$b=Ie(dn,kn.Pa.jb[0])?2+Ie(dn,kn.Pa.jb[2]):Ie(dn,kn.Pa.jb[1]):Vi.$b=0,kn.kc&&(Vi.Ad=Ie(dn,kn.Bd)),Vi.Za=!Ie(dn,145)+0,Vi.Za){var Pr=Vi.Ob,Fs=0;for(kn=0;4>kn;++kn){var Mr,Pn=As[0+kn];for(Mr=0;4>Mr;++Mr){Pn=Es[xi[Kr+Mr]][Pn];for(var ii=e0[Ie(dn,Pn[0])];0<ii;)ii=e0[2*ii+Ie(dn,Pn[ii])];Pn=-ii,xi[Kr+Mr]=Pn}i(Pr,Fs,xi,Kr,4),Fs+=4,As[0+kn]=Pn}}else Pn=Ie(dn,156)?Ie(dn,128)?1:3:Ie(dn,163)?2:0,Vi.Ob[0]=Pn,r(xi,Kr,Pn,4),r(As,0,Pn,4);Vi.Dd=Ie(dn,142)?Ie(dn,114)?Ie(dn,183)?1:3:2:0}if(nr.m.Ka)return Fn(jn,7,"Premature end-of-partition0 encountered.");for(;jn.ja<jn.za;++jn.ja){if(nr=Dt,dn=(Tt=jn).rb[Tt.sb-1],xi=Tt.rb[Tt.sb+Tt.ja],An=Tt.ya[Tt.aa+Tt.ja],Kr=Tt.kc?An.Ad:0)dn.la=xi.la=0,An.Za||(dn.Na=xi.Na=0),An.Hc=0,An.Gc=0,An.ia=0;else{var ir,fi;if(dn=xi,xi=nr,Kr=Tt.Pa.Xc,As=Tt.ya[Tt.aa+Tt.ja],Vi=Tt.pb[As.$b],kn=As.ad,Pr=0,Fs=Tt.rb[Tt.sb-1],Pn=Mr=0,r(kn,Pr,0,384),As.Za)var Xr=0,rr=Kr[3];else{ii=s(16);var ri=dn.Na+Fs.Na;if(ri=Ya(xi,Kr[1],ri,Vi.Eb,0,ii,0),dn.Na=Fs.Na=(0<ri)+0,1<ri)Ga(ii,0,kn,Pr);else{var Ir=ii[0]+3>>3;for(ii=0;256>ii;ii+=16)kn[Pr+ii]=Ir}Xr=1,rr=Kr[0]}var wi=15&dn.la,Fr=15&Fs.la;for(ii=0;4>ii;++ii){var Br=1&Fr;for(Ir=fi=0;4>Ir;++Ir)wi=wi>>1|(Br=(ri=Ya(xi,rr,ri=Br+(1&wi),Vi.Sc,Xr,kn,Pr))>Xr)<<7,fi=fi<<2|(3<ri?3:1<ri?2:kn[Pr+0]!=0),Pr+=16;wi>>=4,Fr=Fr>>1|Br<<7,Mr=(Mr<<8|fi)>>>0}for(rr=wi,Xr=Fr>>4,ir=0;4>ir;ir+=2){for(fi=0,wi=dn.la>>4+ir,Fr=Fs.la>>4+ir,ii=0;2>ii;++ii){for(Br=1&Fr,Ir=0;2>Ir;++Ir)ri=Br+(1&wi),wi=wi>>1|(Br=0<(ri=Ya(xi,Kr[2],ri,Vi.Qc,0,kn,Pr)))<<3,fi=fi<<2|(3<ri?3:1<ri?2:kn[Pr+0]!=0),Pr+=16;wi>>=2,Fr=Fr>>1|Br<<5}Pn|=fi<<4*ir,rr|=wi<<4<<ir,Xr|=(240&Fr)<<ir}dn.la=rr,Fs.la=Xr,As.Hc=Mr,As.Gc=Pn,As.ia=43690&Pn?0:Vi.ia,Kr=!(Mr|Pn)}if(0<Tt.L&&(Tt.wa[Tt.Y+Tt.ja]=Tt.gd[An.$b][An.Za],Tt.wa[Tt.Y+Tt.ja].La|=!Kr),nr.Ka)return Fn(jn,7,"Premature end-of-file encountered.")}if(nl(jn),Tt=Qi,nr=1,An=(Dt=jn).D,dn=0<Dt.L&&Dt.M>=Dt.zb&&Dt.M<=Dt.Va,Dt.Aa==0)t:{if(An.M=Dt.M,An.uc=dn,Wa(Dt,An),nr=1,An=(fi=Dt.D).Nb,dn=(Pn=Ah[Dt.L])*Dt.R,xi=Pn/2*Dt.B,ii=16*An*Dt.R,Ir=8*An*Dt.B,Kr=Dt.sa,As=Dt.ta-dn+ii,Vi=Dt.qa,kn=Dt.ra-xi+Ir,Pr=Dt.Ha,Fs=Dt.Ia-xi+Ir,Fr=(wi=fi.M)==0,Mr=wi>=Dt.Va-1,Dt.Aa==2&&Wa(Dt,fi),fi.uc)for(Br=(ri=Dt).D.M,e(ri.D.uc),fi=ri.yb;fi<ri.Hb;++fi){Xr=fi,rr=Br;var Ri=(Zn=(jr=ri).D).Nb;ir=jr.R;var Zn=Zn.wa[Zn.Y+Xr],Bs=jr.sa,_r=jr.ta+16*Ri*ir+16*Xr,rn=Zn.dd,ln=Zn.tc;if(ln!=0)if(e(3<=ln),jr.L==1)0<Xr&&O1(Bs,_r,ir,ln+4),Zn.La&&Yp(Bs,_r,ir,ln),0<rr&&L1(Bs,_r,ir,ln+4),Zn.La&&$p(Bs,_r,ir,ln);else{var si=jr.B,wa=jr.qa,mo=jr.ra+8*Ri*si+8*Xr,ra=jr.Ha,jr=jr.Ia+8*Ri*si+8*Xr;Ri=Zn.ld,0<Xr&&(Nr(Bs,_r,ir,ln+4,rn,Ri),Bo(wa,mo,ra,jr,si,ln+4,rn,Ri)),Zn.La&&(Uf(Bs,_r,ir,ln,rn,Ri),D1(wa,mo,ra,jr,si,ln,rn,Ri)),0<rr&&(Ui(Bs,_r,ir,ln+4,rn,Ri),pl(wa,mo,ra,jr,si,ln+4,rn,Ri)),Zn.La&&(hu(Bs,_r,ir,ln,rn,Ri),Gp(wa,mo,ra,jr,si,ln,rn,Ri))}}if(Dt.ia&&alert("todo:DitherRow"),Tt.put!=null){if(fi=16*wi,wi=16*(wi+1),Fr?(Tt.y=Dt.sa,Tt.O=Dt.ta+ii,Tt.f=Dt.qa,Tt.N=Dt.ra+Ir,Tt.ea=Dt.Ha,Tt.W=Dt.Ia+Ir):(fi-=Pn,Tt.y=Kr,Tt.O=As,Tt.f=Vi,Tt.N=kn,Tt.ea=Pr,Tt.W=Fs),Mr||(wi-=Pn),wi>Tt.o&&(wi=Tt.o),Tt.F=null,Tt.J=null,Dt.Fa!=null&&0<Dt.Fa.length&&fi<wi&&(Tt.J=y(Dt,Tt,fi,wi-fi),Tt.F=Dt.mb,Tt.F==null&&Tt.F.length==0)){nr=Fn(Dt,3,"Could not decode alpha data.");break t}fi<Tt.j&&(Pn=Tt.j-fi,fi=Tt.j,e(!(1&Pn)),Tt.O+=Dt.R*Pn,Tt.N+=Dt.B*(Pn>>1),Tt.W+=Dt.B*(Pn>>1),Tt.F!=null&&(Tt.J+=Tt.width*Pn)),fi<wi&&(Tt.O+=Tt.v,Tt.N+=Tt.v>>1,Tt.W+=Tt.v>>1,Tt.F!=null&&(Tt.J+=Tt.v),Tt.ka=fi-Tt.j,Tt.U=Tt.va-Tt.v,Tt.T=wi-fi,nr=Tt.put(Tt))}An+1!=Dt.Ic||Mr||(i(Dt.sa,Dt.ta-dn,Kr,As+16*Dt.R,dn),i(Dt.qa,Dt.ra-xi,Vi,kn+8*Dt.B,xi),i(Dt.Ha,Dt.Ia-xi,Pr,Fs+8*Dt.B,xi))}if(!nr)return Fn(jn,6,"Output aborted.")}return 1})(ge,ke)),ke.bc!=null&&ke.bc(ke),Me&=1}return Me?(ge.cb=0,Me):0})(v,V)||(S=v.a)}}else S=v.a}S==0&&ee.Oa!=null&&ee.Oa.fd&&(S=jf(ee.ba))}ee=S}Z=ee!=0?null:11>Z?ie.f.RGBA.eb:ie.f.kb.y}else Z=null;return Z};var r0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(N,U){for(var I="",M=0;M<4;M++)I+=String.fromCharCode(N[U++]);return I}function f(N,U){return N[U+0]|N[U+1]<<8}function p(N,U){return(N[U+0]|N[U+1]<<8|N[U+2]<<16)>>>0}function _(N,U){return(N[U+0]|N[U+1]<<8|N[U+2]<<16|N[U+3]<<24)>>>0}new c;var m=[0],b=[0],x=[],E=new c,A=n,P=(function(N,U){var I={},M=0,z=!1,de=0,we=0;if(I.frames=[],!(function(k,G){for(var W=0;W<4;W++)if(k[G+W]!="RIFF".charCodeAt(W))return!0;return!1})(N,U)){for(_(N,U+=4),U+=8;U<N.length;){var ce=h(N,U),ye=_(N,U+=4);U+=4;var be=ye+(1&ye);switch(ce){case"VP8 ":case"VP8L":I.frames[M]===void 0&&(I.frames[M]={}),(se=I.frames[M]).src_off=z?we:U-8,se.src_size=de+ye+8,M++,z&&(z=!1,de=0,we=0);break;case"VP8X":(se=I.header={}).feature_flags=N[U];var Ne=U+4;se.canvas_width=1+p(N,Ne),Ne+=3,se.canvas_height=1+p(N,Ne),Ne+=3;break;case"ALPH":z=!0,de=be+8,we=U-8;break;case"ANIM":(se=I.header).bgcolor=_(N,U),Ne=U+4,se.loop_count=f(N,Ne),Ne+=2;break;case"ANMF":var $e,se;(se=I.frames[M]={}).offset_x=2*p(N,U),U+=3,se.offset_y=2*p(N,U),U+=3,se.width=1+p(N,U),U+=3,se.height=1+p(N,U),U+=3,se.duration=p(N,U),U+=3,$e=N[U++],se.dispose=1&$e,se.blend=$e>>1&1}ce!="ANMF"&&(U+=be)}return I}})(A,0);P.response=A,P.rgbaoutput=!0,P.dataurl=!1;var L=P.header?P.header:null,j=P.frames?P.frames:null;if(L){L.loop_counter=L.loop_count,m=[L.canvas_height],b=[L.canvas_width];for(var Q=0;Q<j.length&&j[Q].blend!=0;Q++);}var ae=j[0],F=E.WebPDecodeRGBA(A,ae.src_off,ae.src_size,b,m);ae.rgba=F,ae.imgwidth=b[0],ae.imgheight=m[0];for(var R=0;R<b[0]*m[0]*4;R++)x[R]=F[R];return this.width=b,this.height=m,this.data=x,this}(function(n){var e,t,i,r,s,a,l,c,h,f=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new c,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new a,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new a,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new f}]);var p=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=k;Object.defineProperty(this,"pdf",{get:function(){return G}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(he){W=!!he}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(he){Y=!!he}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(he){isNaN(he)||(ne=he)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(he){isNaN(he)||(xe=he)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(he){var pt;typeof he=="number"?pt=[he,he,he,he]:((pt=new Array(4))[0]=he[0],pt[1]=he.length>=2?he[1]:pt[0],pt[2]=he.length>=3?he[2]:pt[0],pt[3]=he.length>=4?he[3]:pt[1]),h.margin=pt}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(he){Ae=he}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(he){Te=he}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(he){Ie=he}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(he){he instanceof f&&(h=he)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(he){h.path=he}});var et=[];Object.defineProperty(this,"ctxStack",{get:function(){return et},set:function(he){et=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var pt;pt=_(he),this.ctx.fillStyle=pt.style,this.ctx.isFillTransparent=pt.a===0,this.ctx.fillOpacity=pt.a,this.pdf.setFillColor(pt.r,pt.g,pt.b,{a:pt.a}),this.pdf.setTextColor(pt.r,pt.g,pt.b,{a:pt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var pt=_(he);this.ctx.strokeStyle=pt.style,this.ctx.isStrokeTransparent=pt.a===0,this.ctx.strokeOpacity=pt.a,pt.a===0?this.pdf.setDrawColor(255,255,255):(pt.a,this.pdf.setDrawColor(pt.r,pt.g,pt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var lt=null,yt=null,_t=null;Object.defineProperty(this,"fontFaces",{get:function(){return _t},set:function(he){lt=null,yt=null,_t=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var pt;if(this.ctx.font=he,(pt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(he))!==null){var ht=pt[1];pt[2];var It=pt[3],Qe=pt[4];pt[5];var Ct=pt[6],At=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(At==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:At==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var Xt=(function(jt){var Ci,yn,$t=[],an=jt.trim();if(an==="")return uw;if(an in IR)return[IR[an]];for(;an!=="";){switch(yn=null,Ci=(an=DR(an)).charAt(0)){case'"':case"'":yn=Wie(an.substring(1),Ci);break;default:yn=Gie(an)}if(yn===null||($t.push(yn[0]),(an=DR(yn[1]))!==""&&an.charAt(0)!==","))return uw;an=an.replace(/^,/,"")}return $t})(Ct);if(this.fontFaces){var qt=(function(jt,Ci){var yn=jt.getFontList(),$t=JSON.stringify(yn);if(lt===null||yt!==$t){var an=(function(xn){var Yt=[];return Object.keys(xn).forEach(function(Wn){xn[Wn].forEach(function(en){var tn=null;switch(en){case"bold":tn={family:Wn,weight:"bold"};break;case"italic":tn={family:Wn,style:"italic"};break;case"bolditalic":tn={family:Wn,weight:"bold",style:"italic"};break;case"":case"normal":tn={family:Wn}}tn!==null&&(tn.ref={name:Wn,style:en},Yt.push(tn))})}),Yt})(yn);lt=(function(xn){for(var Yt={},Wn=0;Wn<xn.length;++Wn){var en=cw(xn[Wn]),tn=en.family,ti=en.stretch,Wt=en.style,Mt=en.weight;Yt[tn]=Yt[tn]||{},Yt[tn][ti]=Yt[tn][ti]||{},Yt[tn][ti][Wt]=Yt[tn][ti][Wt]||{},Yt[tn][ti][Wt][Mt]=en}return Yt})(an.concat(Ci)),yt=$t}return lt})(this.pdf,this.fontFaces),Zt=Xt.map(function(jt){return{family:jt,stretch:"normal",weight:It,style:ht}}),mn=(function(jt,Ci,yn){for(var $t=(yn=yn||{}).defaultFontFamily||"times",an=Object.assign({},qie,yn.genericFontFamilies||{}),xn=null,Yt=null,Wn=0;Wn<Ci.length;++Wn)if(an[(xn=cw(Ci[Wn])).family]&&(xn.family=an[xn.family]),jt.hasOwnProperty(xn.family)){Yt=jt[xn.family];break}if(!(Yt=Yt||jt[$t]))throw new Error("Could not find a font-family for the rule '"+kR(xn)+"' and default family '"+$t+"'.");if(Yt=(function(en,tn){if(tn[en])return tn[en];var ti=Ub[en],Wt=ti<=Ub.normal?-1:1,Mt=RR(tn,BP,ti,Wt);if(!Mt)throw new Error("Could not find a matching font-stretch value for "+en);return Mt})(xn.stretch,Yt),Yt=(function(en,tn){if(tn[en])return tn[en];for(var ti=FP[en],Wt=0;Wt<ti.length;++Wt)if(tn[ti[Wt]])return tn[ti[Wt]];throw new Error("Could not find a matching font-style for "+en)})(xn.style,Yt),!(Yt=(function(en,tn){if(tn[en])return tn[en];if(en===400&&tn[500])return tn[500];if(en===500&&tn[400])return tn[400];var ti=Hie[en],Wt=RR(tn,jP,ti,en<400?-1:1);if(!Wt)throw new Error("Could not find a matching font-weight for value "+en);return Wt})(xn.weight,Yt)))throw new Error("Failed to resolve a font for the rule '"+kR(xn)+"'.");return Yt})(qt,Zt);this.pdf.setFont(mn.ref.name,mn.ref.style)}else{var un="";(It==="bold"||parseInt(It,10)>=700||ht==="bold")&&(un="bold"),ht==="italic"&&(un+="italic"),un.length===0&&(un="normal");for(var Tn="",hn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bt=0;Bt<Xt.length;Bt++){if(this.pdf.internal.getFont(Xt[Bt],un,{noFallback:!0,disableWarning:!0})!==void 0){Tn=Xt[Bt];break}if(un==="bolditalic"&&this.pdf.internal.getFont(Xt[Bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tn=Xt[Bt],un="bold";else if(this.pdf.internal.getFont(Xt[Bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tn=Xt[Bt],un="normal";break}}if(Tn===""){for(var gn=0;gn<Xt.length;gn++)if(hn[Xt[gn]]){Tn=hn[Xt[gn]];break}}Tn=Tn===""?"Times":Tn,this.pdf.setFont(Tn,un)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};p.prototype.setLineDash=function(k){this.lineDash=k},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){j.call(this,"fill",!1)},p.prototype.stroke=function(){j.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(k,G){if(isNaN(k)||isNaN(G))throw Zi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(k,G));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(k,G)},p.prototype.closePath=function(){var k=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Pi(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){k=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(k.x,k.y)},p.prototype.lineTo=function(k,G){if(isNaN(k)||isNaN(G))throw Zi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(k,G));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},p.prototype.quadraticCurveTo=function(k,G,W,Y){if(isNaN(W)||isNaN(Y)||isNaN(k)||isNaN(G))throw Zi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(W,Y)),xe=this.ctx.transform.applyToPoint(new a(k,G));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},p.prototype.bezierCurveTo=function(k,G,W,Y,ne,xe){if(isNaN(ne)||isNaN(xe)||isNaN(k)||isNaN(G)||isNaN(W)||isNaN(Y))throw Zi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new a(ne,xe)),Te=this.ctx.transform.applyToPoint(new a(k,G)),Ie=this.ctx.transform.applyToPoint(new a(W,Y));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Ie.x,y2:Ie.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new a(Ae.x,Ae.y)},p.prototype.arc=function(k,G,W,Y,ne,xe){if(isNaN(k)||isNaN(G)||isNaN(W)||isNaN(Y)||isNaN(ne))throw Zi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new a(k,G));k=Ae.x,G=Ae.y;var Te=this.ctx.transform.applyToPoint(new a(0,W)),Ie=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(Te.x-Ie.x,2)+Math.pow(Te.y-Ie.y,2))}Math.abs(ne-Y)>=2*Math.PI&&(Y=0,ne=2*Math.PI),this.path.push({type:"arc",x:k,y:G,radius:W,startAngle:Y,endAngle:ne,counterclockwise:xe})},p.prototype.arcTo=function(k,G,W,Y,ne){throw new Error("arcTo not implemented.")},p.prototype.rect=function(k,G,W,Y){if(isNaN(k)||isNaN(G)||isNaN(W)||isNaN(Y))throw Zi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,G),this.lineTo(k+W,G),this.lineTo(k+W,G+Y),this.lineTo(k,G+Y),this.lineTo(k,G),this.lineTo(k+W,G),this.lineTo(k,G)},p.prototype.fillRect=function(k,G,W,Y){if(isNaN(k)||isNaN(G)||isNaN(W)||isNaN(Y))throw Zi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,G,W,Y),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},p.prototype.strokeRect=function(k,G,W,Y){if(isNaN(k)||isNaN(G)||isNaN(W)||isNaN(Y))throw Zi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(k,G,W,Y),this.stroke())},p.prototype.clearRect=function(k,G,W,Y){if(isNaN(k)||isNaN(G)||isNaN(W)||isNaN(Y))throw Zi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,G,W,Y))},p.prototype.save=function(k){k=typeof k!="boolean"||k;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},p.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(G),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(k){var G,W,Y,ne;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))G=0,W=0,Y=0,ne=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(xe!==null)G=parseInt(xe[1]),W=parseInt(xe[2]),Y=parseInt(xe[3]),ne=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)G=parseInt(xe[1]),W=parseInt(xe[2]),Y=parseInt(xe[3]),ne=parseFloat(xe[4]);else{if(ne=1,typeof k=="string"&&k.charAt(0)!=="#"){var Ae=new IP(k);k=Ae.ok?Ae.toHex():"#000000"}k.length===4?(G=k.substring(1,2),G+=G,W=k.substring(2,3),W+=W,Y=k.substring(3,4),Y+=Y):(G=k.substring(1,3),W=k.substring(3,5),Y=k.substring(5,7)),G=parseInt(G,16),W=parseInt(W,16),Y=parseInt(Y,16)}}return{r:G,g:W,b:Y,a:ne,style:k}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(k,G,W,Y){if(isNaN(G)||isNaN(W)||typeof k!="string")throw Zi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!m.call(this)){var ne=be(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;M.call(this,{text:k,x:G,y:W,scale:xe,angle:ne,align:this.textAlign,maxWidth:Y})}},p.prototype.strokeText=function(k,G,W,Y){if(isNaN(G)||isNaN(W)||typeof k!="string")throw Zi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Y=isNaN(Y)?void 0:Y;var ne=be(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;M.call(this,{text:k,x:G,y:W,scale:xe,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Y})}},p.prototype.measureText=function(k){if(typeof k!="string")throw Zi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,W=this.pdf.internal.scaleFactor,Y=G.internal.getFontSize(),ne=G.getStringUnitWidth(k)*Y/G.internal.scaleFactor;return new function(xe){var Ae=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this}({width:ne*=Math.round(96*W/72*1e4)/1e4})},p.prototype.scale=function(k,G){if(isNaN(k)||isNaN(G))throw Zi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(k,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.rotate=function(k){if(isNaN(k))throw Zi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.translate=function(k,G){if(isNaN(k)||isNaN(G))throw Zi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,k,G);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.transform=function(k,G,W,Y,ne,xe){if(isNaN(k)||isNaN(G)||isNaN(W)||isNaN(Y)||isNaN(ne)||isNaN(xe))throw Zi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new c(k,G,W,Y,ne,xe);this.ctx.transform=this.ctx.transform.multiply(Ae)},p.prototype.setTransform=function(k,G,W,Y,ne,xe){k=isNaN(k)?1:k,G=isNaN(G)?0:G,W=isNaN(W)?0:W,Y=isNaN(Y)?1:Y,ne=isNaN(ne)?0:ne,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(k,G,W,Y,ne,xe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(k,G,W,Y,ne,xe,Ae,Te,Ie){var et=this.pdf.getImageProperties(k),lt=1,yt=1,_t=1,he=1;Y!==void 0&&Te!==void 0&&(_t=Te/Y,he=Ie/ne,lt=et.width/Y*Te/Y,yt=et.height/ne*Ie/ne),xe===void 0&&(xe=G,Ae=W,G=0,W=0),Y!==void 0&&Te===void 0&&(Te=Y,Ie=ne),Y===void 0&&Te===void 0&&(Te=et.width,Ie=et.height);var pt=this.ctx.transform.decompose(),ht=be(pt.rotate.shx),It=new c,Qe=(It=(It=(It=It.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new l(xe-G*_t,Ae-W*he,Y*lt,ne*yt));if(this.autoPaging){for(var Ct,At=E.call(this,Qe),Xt=[],qt=0;qt<At.length;qt+=1)Xt.indexOf(At[qt])===-1&&Xt.push(At[qt]);L(Xt);for(var Zt=Xt[0],mn=Xt[Xt.length-1],un=Zt;un<mn+1;un++){this.pdf.setPage(un);var Tn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hn=un===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=un===1?0:Bt+(un-2)*gn;if(this.ctx.clip_path.length!==0){var Ci=this.path;Ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ct,this.posX+this.margin[3],-jt+hn+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=Ci}var yn=JSON.parse(JSON.stringify(Qe));yn=P([yn],this.posX+this.margin[3],-jt+hn+this.ctx.prevPageLastElemOffset)[0];var $t=(un>Zt||un<mn)&&x.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tn,gn,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",yn.x,yn.y,yn.w,yn.h,null,null,ht),$t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,ht)};var E=function(k,G,W){var Y=[];G=G||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":Y.push(Math.floor((k.y+ne)/W)+1);break;case"arc":Y.push(Math.floor((k.y+ne-k.radius)/W)+1),Y.push(Math.floor((k.y+ne+k.radius)/W)+1);break;case"qct":var xe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);Y.push(Math.floor((xe.y+ne)/W)+1),Y.push(Math.floor((xe.y+xe.h+ne)/W)+1);break;case"bct":var Ae=$e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);Y.push(Math.floor((Ae.y+ne)/W)+1),Y.push(Math.floor((Ae.y+Ae.h+ne)/W)+1);break;case"rect":Y.push(Math.floor((k.y+ne)/W)+1),Y.push(Math.floor((k.y+k.h+ne)/W)+1)}for(var Te=0;Te<Y.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<Y[Te];)A.call(this);return Y},A=function(){var k=this.fillStyle,G=this.strokeStyle,W=this.font,Y=this.lineCap,ne=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=G,this.font=W,this.lineCap=Y,this.lineWidth=ne,this.lineJoin=xe},P=function(k,G,W){for(var Y=0;Y<k.length;Y++)switch(k[Y].type){case"bct":k[Y].x2+=G,k[Y].y2+=W;case"qct":k[Y].x1+=G,k[Y].y1+=W;default:k[Y].x+=G,k[Y].y+=W}return k},L=function(k){return k.sort(function(G,W){return G-W})},j=function(k,G){var W=this.fillStyle,Y=this.strokeStyle,ne=this.lineCap,xe=this.lineWidth,Ae=Math.abs(xe*this.ctx.transform.scaleX),Te=this.lineJoin;if(this.autoPaging){for(var Ie,et,lt=JSON.parse(JSON.stringify(this.path)),yt=JSON.parse(JSON.stringify(this.path)),_t=[],he=0;he<yt.length;he++)if(yt[he].x!==void 0)for(var pt=E.call(this,yt[he]),ht=0;ht<pt.length;ht+=1)_t.indexOf(pt[ht])===-1&&_t.push(pt[ht]);for(var It=0;It<_t.length;It++)for(;this.pdf.internal.getNumberOfPages()<_t[It];)A.call(this);L(_t);for(var Qe=_t[0],Ct=_t[_t.length-1],At=Qe;At<Ct+1;At++){this.pdf.setPage(At),this.fillStyle=W,this.strokeStyle=Y,this.lineCap=ne,this.lineWidth=Ae,this.lineJoin=Te;var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=At===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],un=At===1?0:Zt+(At-2)*mn;if(this.ctx.clip_path.length!==0){var Tn=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ie,this.posX+this.margin[3],-un+qt+this.ctx.prevPageLastElemOffset),Q.call(this,k,!0),this.path=Tn}if(et=JSON.parse(JSON.stringify(lt)),this.path=P(et,this.posX+this.margin[3],-un+qt+this.ctx.prevPageLastElemOffset),G===!1||At===0){var hn=(At>Qe||At<Ct)&&x.call(this);hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,mn,null).clip().discardPath()),Q.call(this,k,G),hn&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}this.path=lt}else this.lineWidth=Ae,Q.call(this,k,G),this.lineWidth=xe},Q=function(k,G){if((k!=="stroke"||G||!b.call(this))&&(k==="stroke"||G||!m.call(this))){for(var W,Y,ne=[],xe=this.path,Ae=0;Ae<xe.length;Ae++){var Te=xe[Ae];switch(Te.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Te,deltas:[],abs:[]});break;case"lt":var Ie=ne.length;if(xe[Ae-1]&&!isNaN(xe[Ae-1].x)&&(W=[Te.x-xe[Ae-1].x,Te.y-xe[Ae-1].y],Ie>0)){for(;Ie>=0;Ie--)if(ne[Ie-1].close!==!0&&ne[Ie-1].begin!==!0){ne[Ie-1].deltas.push(W),ne[Ie-1].abs.push(Te);break}}break;case"bct":W=[Te.x1-xe[Ae-1].x,Te.y1-xe[Ae-1].y,Te.x2-xe[Ae-1].x,Te.y2-xe[Ae-1].y,Te.x-xe[Ae-1].x,Te.y-xe[Ae-1].y],ne[ne.length-1].deltas.push(W);break;case"qct":var et=xe[Ae-1].x+2/3*(Te.x1-xe[Ae-1].x),lt=xe[Ae-1].y+2/3*(Te.y1-xe[Ae-1].y),yt=Te.x+2/3*(Te.x1-Te.x),_t=Te.y+2/3*(Te.y1-Te.y),he=Te.x,pt=Te.y;W=[et-xe[Ae-1].x,lt-xe[Ae-1].y,yt-xe[Ae-1].x,_t-xe[Ae-1].y,he-xe[Ae-1].x,pt-xe[Ae-1].y],ne[ne.length-1].deltas.push(W);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Te)}}Y=G?null:k==="stroke"?"stroke":"fill";for(var ht=!1,It=0;It<ne.length;It++)if(ne[It].arc)for(var Qe=ne[It].abs,Ct=0;Ct<Qe.length;Ct++){var At=Qe[Ct];At.type==="arc"?R.call(this,At.x,At.y,At.radius,At.startAngle,At.endAngle,At.counterclockwise,void 0,G,!ht):z.call(this,At.x,At.y),ht=!0}else if(ne[It].close===!0)this.pdf.internal.out("h"),ht=!1;else if(ne[It].begin!==!0){var Xt=ne[It].start.x,qt=ne[It].start.y;de.call(this,ne[It].deltas,Xt,qt),ht=!0}Y&&N.call(this,Y),G&&U.call(this)}},ae=function(k){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-W;case"top":return k+G-W;case"hanging":return k+G-2*W;case"middle":return k+G/2-W;default:return k}},F=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(G,W){this.colorStops.push([G,W])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(k,G,W,Y,ne,xe,Ae,Te,Ie){for(var et=ce.call(this,W,Y,ne,xe),lt=0;lt<et.length;lt++){var yt=et[lt];lt===0&&(Ie?I.call(this,yt.x1+k,yt.y1+G):z.call(this,yt.x1+k,yt.y1+G)),we.call(this,k,G,yt.x2,yt.y2,yt.x3,yt.y3,yt.x4,yt.y4)}Te?U.call(this):N.call(this,Ae)},N=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(k,G){this.pdf.internal.out(t(k)+" "+i(G)+" m")},M=function(k){var G;switch(k.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var W,Y,ne,xe=this.pdf.getTextDimensions(k.text),Ae=ae.call(this,k.y),Te=F.call(this,Ae)-xe.h,Ie=this.ctx.transform.applyToPoint(new a(k.x,Ae));if(this.autoPaging){var et=this.ctx.transform.decompose(),lt=new c;lt=(lt=(lt=lt.multiply(et.translate)).multiply(et.skew)).multiply(et.scale);for(var yt=this.ctx.transform.applyToRectangle(new l(k.x,Ae,xe.w,xe.h)),_t=lt.applyToRectangle(new l(k.x,Te,xe.w,xe.h)),he=E.call(this,_t),pt=[],ht=0;ht<he.length;ht+=1)pt.indexOf(he[ht])===-1&&pt.push(he[ht]);L(pt);for(var It=pt[0],Qe=pt[pt.length-1],Ct=It;Ct<Qe+1;Ct++){this.pdf.setPage(Ct);var At=Ct===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[2],Zt=qt-this.margin[0],mn=this.pdf.internal.pageSize.width-this.margin[1],un=mn-this.margin[3],Tn=Ct===1?0:Xt+(Ct-2)*Zt;if(this.ctx.clip_path.length!==0){var hn=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(W,this.posX+this.margin[3],-1*Tn+At),Q.call(this,"fill",!0),this.path=hn}var Bt=P([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-Tn+At+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*k.scale),ne=this.lineWidth,this.lineWidth=ne*k.scale);var gn=this.autoPaging!=="text";if(gn||Bt.y+Bt.h<=qt){if(gn||Bt.y>=At&&Bt.x<=mn){var jt=gn?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||mn-Bt.x)[0],Ci=P([JSON.parse(JSON.stringify(yt))],this.posX+this.margin[3],-Tn+At+this.ctx.prevPageLastElemOffset)[0],yn=gn&&(Ct>It||Ct<Qe)&&x.call(this);yn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],un,Zt,null).clip().discardPath()),this.pdf.text(jt,Ci.x,Ci.y,{angle:k.angle,align:G,renderingMode:k.renderingMode}),yn&&this.pdf.restoreGraphicsState()}}else Bt.y<qt&&(this.ctx.prevPageLastElemOffset+=qt-Bt.y);k.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=ne)}}else k.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*k.scale),ne=this.lineWidth,this.lineWidth=ne*k.scale),this.pdf.text(k.text,Ie.x+this.posX,Ie.y+this.posY,{angle:k.angle,align:G,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=ne)},z=function(k,G,W,Y){W=W||0,Y=Y||0,this.pdf.internal.out(t(k+W)+" "+i(G+Y)+" l")},de=function(k,G,W){return this.pdf.lines(k,G,W,null,null)},we=function(k,G,W,Y,ne,xe,Ae,Te){this.pdf.internal.out([e(r(W+k)),e(s(Y+G)),e(r(ne+k)),e(s(xe+G)),e(r(Ae+k)),e(s(Te+G)),"c"].join(" "))},ce=function(k,G,W,Y){for(var ne=2*Math.PI,xe=Math.PI/2;G>W;)G-=ne;var Ae=Math.abs(W-G);Ae<ne&&Y&&(Ae=ne-Ae);for(var Te=[],Ie=Y?-1:1,et=G;Ae>1e-5;){var lt=et+Ie*Math.min(Ae,xe);Te.push(ye.call(this,k,et,lt)),Ae-=Math.abs(lt-et),et=lt}return Te},ye=function(k,G,W){var Y=(W-G)/2,ne=k*Math.cos(Y),xe=k*Math.sin(Y),Ae=ne,Te=-xe,Ie=Ae*Ae+Te*Te,et=Ie+Ae*ne+Te*xe,lt=4/3*(Math.sqrt(2*Ie*et)-et)/(Ae*xe-Te*ne),yt=Ae-lt*Te,_t=Te+lt*Ae,he=yt,pt=-_t,ht=Y+G,It=Math.cos(ht),Qe=Math.sin(ht);return{x1:k*Math.cos(G),y1:k*Math.sin(G),x2:yt*It-_t*Qe,y2:yt*Qe+_t*It,x3:he*It-pt*Qe,y3:he*Qe+pt*It,x4:k*Math.cos(W),y4:k*Math.sin(W)}},be=function(k){return 180*k/Math.PI},Ne=function(k,G,W,Y,ne,xe){var Ae=k+.5*(W-k),Te=G+.5*(Y-G),Ie=ne+.5*(W-ne),et=xe+.5*(Y-xe),lt=Math.min(k,ne,Ae,Ie),yt=Math.max(k,ne,Ae,Ie),_t=Math.min(G,xe,Te,et),he=Math.max(G,xe,Te,et);return new l(lt,_t,yt-lt,he-_t)},$e=function(k,G,W,Y,ne,xe,Ae,Te){var Ie,et,lt,yt,_t,he,pt,ht,It,Qe,Ct,At,Xt,qt,Zt=W-k,mn=Y-G,un=ne-W,Tn=xe-Y,hn=Ae-ne,Bt=Te-xe;for(et=0;et<41;et++)It=(pt=(lt=k+(Ie=et/40)*Zt)+Ie*((_t=W+Ie*un)-lt))+Ie*(_t+Ie*(ne+Ie*hn-_t)-pt),Qe=(ht=(yt=G+Ie*mn)+Ie*((he=Y+Ie*Tn)-yt))+Ie*(he+Ie*(xe+Ie*Bt-he)-ht),et==0?(Ct=It,At=Qe,Xt=It,qt=Qe):(Ct=Math.min(Ct,It),At=Math.min(At,Qe),Xt=Math.max(Xt,It),qt=Math.max(qt,Qe));return new l(Math.round(Ct),Math.round(At),Math.round(Xt-Ct),Math.round(qt-At))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,G,W=(k=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:G}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Jt.API),(function(n){var e=function(a){var l,c,h,f,p,_,m,b,x,E;for(c=[],h=0,f=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;f>h;h+=4)(p=(a.charCodeAt(h)<<24)+(a.charCodeAt(h+1)<<16)+(a.charCodeAt(h+2)<<8)+a.charCodeAt(h+3))!==0?(_=(p=((p=((p=((p=(p-(E=p%85))/85)-(x=p%85))/85)-(b=p%85))/85)-(m=p%85))/85)%85,c.push(_+33,m+33,b+33,x+33,E+33)):c.push(122);return(function(A,P){for(var L=P;L>0;L--)A.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(a){var l,c,h,f,p,_=String,m="length",b=255,x="charCodeAt",E="slice",A="replace";for(a[E](-2),a=a[E](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),h=[],f=0,p=(a+=l="uuuuu"[E](a[m]%5||5))[m];p>f;f+=5)c=52200625*(a[x](f)-33)+614125*(a[x](f+1)-33)+7225*(a[x](f+2)-33)+85*(a[x](f+3)-33)+(a[x](f+4)-33),h.push(b&c>>24,b&c>>16,b&c>>8,b&c);return(function(P,L){for(var j=L;j>0;j--)P.pop()})(h,l[m]),_.fromCharCode.apply(_,h)},i=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",h=0;h<a.length;h+=2)c+=String.fromCharCode("0x"+(a[h]+a[h+1]));return c},s=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return(l=Lb(l)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(a,l){var c=0,h=a||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=i(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(Jt.API),(function(n){n.loadFile=function(e,t,i){return(function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=(function(c,h,f){var p=new XMLHttpRequest,_=0,m=function(b){var x=b.length,E=[],A=String.fromCharCode;for(_=0;_<x;_+=1)E.push(A(255&b.charCodeAt(_)));return E.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?f(m(this.responseText)):f(void 0)}),p.send(null),h&&p.status===200)return m(p.responseText)})(r,s,a)}catch{}return l})(e,t,i)},n.loadImageFile=n.loadFile})(Jt.API),(function(n){function e(){return(En.html2canvas?Promise.resolve(En.html2canvas):W5(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(En.DOMPurify?Promise.resolve(En.DOMPurify):W5(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var c=Pi(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(l,c){var h=document.createElement(l);for(var f in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[f]=c.style[f];return h},s=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},a=function l(c){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),h);return(f=f.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(t).then(function(h){return this.set({src:r("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var h=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var m=0;m<f.length;++m){var b=f[m],x=b.src.find(function(E){return E.format==="truetype"});x&&h.addFont(x.url,b.ref.name,b.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,h.context2d.save(!0),c(this.prop.container,_)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(i(l)!=="object")return this;var c=Object.keys(l||{}).map(function(h){if(h in a.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var h=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(h):h})},a.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(l=l||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,h,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,h,f){return this.setProgress(l?this.progress.val+l:null,c||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(l,c){var h=this;return this.thenCore(l,c,function(f,p){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(_){return h.updateProgress(null,f),_}).then(f,p).then(function(_){return h.updateProgress(1),_})})},a.prototype.thenCore=function(l,c,h){h=h||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),_=h.call(p,l,c);return a.convert(_,f.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(h){c=c.thenCore(h)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Jt.getPageSize=function(l,c,h){if(Pi(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,h=f.format||h}c=c||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var p,_=(""+h).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var b,x=0,E=0;if(m.hasOwnProperty(_))x=m[_][1]/p,E=m[_][0]/p;else try{x=h[1],E=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",E>x&&(b=E,E=x,x=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>E&&(b=E,E=x,x=b)}return{width:E,height:x,unit:c,k:p,orientation:l}},n.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(cw):null;var h=new a(c);return c.worker?h:h.from(l).doCallback()}})(Jt.API),Jt.API.addJS=function(n){return OR=n,this.internal.events.subscribe("postPutResources",function(){e_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),LR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e_!==void 0&&LR!==void 0&&this.internal.out("/Names <</JavaScript "+e_+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],l=i.exec(a);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(s=0;s<h;s++){var p=t.internal.newObject();f.push(p);var _=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<f.length;s++)t.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var h=0;h<i.children.length;h++)this.renderItems(i.children[h])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])})(Jt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,s,a,l){var c,h=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(p){for(var _,m=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,x={width:0,height:0,numcomponents:1},E=4;E<b;E+=2){if(E+=m,e.indexOf(p.charCodeAt(E+1))!==-1){_=256*p.charCodeAt(E+5)+p.charCodeAt(E+6),x={width:256*p.charCodeAt(E+7)+p.charCodeAt(E+8),height:_,numcomponents:p.charCodeAt(E+9)};break}m=256*p.charCodeAt(E+2)+p.charCodeAt(E+3)}return x})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:i,alias:r}}return f}})(Jt.API),Jt.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var r,s=Rie(n,{checkCrc:!0}),a=s.width,l=s.height,c=s.channels,h=s.palette,f=s.depth;r=h&&c===1?(function(R){for(var N=R.width,U=R.height,I=R.data,M=R.palette,z=R.depth,de=!1,we=[],ce=[],ye=void 0,be=!1,Ne=0,$e=0;$e<M.length;$e++){var se=B6(M[$e],4),k=se[0],G=se[1],W=se[2],Y=se[3];we.push(k,G,W),Y!=null&&(Y===0?(Ne++,ce.length<1&&ce.push($e)):Y<255&&(be=!0))}if(be||Ne>1){de=!0,ce=void 0;var ne=N*U;ye=new Uint8Array(ne);for(var xe=new DataView(I.buffer),Ae=0;Ae<ne;Ae++){var Te=hw(xe,Ae,z),Ie=B6(M[Te],4)[3];ye[Ae]=Ie}}else Ne===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:de?8:void 0,colorBytes:I,alphaBytes:ye,needSMask:de,palette:we,mask:ce}})(s):c===2||c===4?(function(R){for(var N=R.data,U=R.width,I=R.height,M=R.channels,z=R.depth,de=M===2?"DeviceGray":"DeviceRGB",we=M-1,ce=U*I,ye=we,be=ce*ye,Ne=1*ce,$e=Math.ceil(be*z/8),se=Math.ceil(Ne*z/8),k=new Uint8Array($e),G=new Uint8Array(se),W=new DataView(N.buffer),Y=new DataView(k.buffer),ne=new DataView(G.buffer),xe=!1,Ae=0;Ae<ce;Ae++){for(var Te=Ae*M,Ie=0;Ie<ye;Ie++)HR(Y,hw(W,Te+Ie,z),Ae*ye+Ie,z);var et=hw(W,Te+ye,z);et<(1<<z)-1&&(xe=!0),HR(ne,et,1*Ae,z)}return{colorSpace:de,colorsPerPixel:we,sMaskBitsPerComponent:xe?z:void 0,colorBytes:k,alphaBytes:G,needSMask:xe}})(s):(function(R){var N=R.data,U=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?(function(I){for(var M=I.length,z=new Uint8Array(2*M),de=new DataView(z.buffer,z.byteOffset,z.byteLength),we=0;we<M;we++)de.setUint16(2*we,I[we],!1);return z})(N):N,needSMask:!1}})(s);var p,_,m,b=r,x=b.colorSpace,E=b.colorsPerPixel,A=b.sMaskBitsPerComponent,P=b.colorBytes,L=b.alphaBytes,j=b.needSMask,Q=b.palette,ae=b.mask,F=null;return i!==Jt.API.image_compression.NONE&&typeof Lb=="function"?(F=(function(R){var N;switch(R){case Jt.API.image_compression.FAST:N=11;break;case Jt.API.image_compression.MEDIUM:N=13;break;case Jt.API.image_compression.SLOW:N=14;break;default:N=12}return N})(i),p=this.decode.FLATE_DECODE,_="/Predictor ".concat(F," /Colors ").concat(E," /BitsPerComponent ").concat(f," /Columns ").concat(a),n=BR(P,Math.ceil(a*E*f/8),E,f,i),j&&(m=BR(L,Math.ceil(a*A/8),1,A,i))):(p=void 0,_=void 0,n=P,j&&(m=L)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:n,index:e,filter:p,decodeParameters:_,transparency:ae,palette:Q,sMask:m,predictor:F,width:a,height:l,bitsPerComponent:f,sMaskBitsPerComponent:A,colorSpace:x}}},(function(n){n.processGIF89A=function(e,t,i,r){var s=new Xie(e),a=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:l},f=new fw(100).encode(h,100);return n.processJPEG.call(this,f,t,i,r)},n.processGIF87A=n.processGIF89A})(Jt.API),Xl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Zi.log("bit decode error:"+t)}},Xl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,l=0;l<8&&8*r+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Xl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,l=s>>4,c=15&s,h=this.palette[l];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*r+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Xl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Xl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,f=i*this.width*4+4*r;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=h}this.pos+=n}},Xl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,f=r*this.width*4+4*s;this.data[f]=h,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=n}},Xl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Xl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=a}},Xl.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,i,r){var s=new Xl(e,!1),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},h=new fw(100).encode(c,100);return n.processJPEG.call(this,h,t,i,r)}})(Jt.API),WR.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,i,r){var s=new WR(e),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},h=new fw(100).encode(c,100);return n.processJPEG.call(this,h,t,i,r)}})(Jt.API),Jt.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),l=0,c=0,h=0;h<r;h+=4){var f=i[h],p=i[h+1],_=i[h+2],m=i[h+3];s[l++]=f,s[l++]=p,s[l++]=_,a[c++]=m}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Jt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},k0=Jt.API,t_=k0.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:r.metadata.Unicode.widths,c=l.fof?l.fof:1,h=e.kerning?e.kerning:r.metadata.Unicode.kerning,f=h.fof?h.fof:1,p=e.doKerning!==!1,_=0,m=n.length,b=0,x=l[0]||c,E=[];for(t=0;t<m;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?E.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(_=p&&Pi(h[i])==="object"&&!isNaN(parseInt(h[i][b],10))?h[i][b]/f:0,E.push((l[i]||x)/c+_)),b=i;return E},PR=k0.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return k0.processArabic&&(n=k0.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:t_.apply(this,arguments).reduce(function(s,a){return s+a},0)},MR=function(n,e,t,i){for(var r=[],s=0,a=n.length,l=0;s!==a&&l+e[s]<t;)l+=e[s],s++;r.push(n.slice(0,s));var c=s;for(l=0;s!==a;)l+e[s]>i&&(r.push(n.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&r.push(n.slice(c,s)),r},FR=function(n,e,t){t||(t={});var i,r,s,a,l,c,h,f=[],p=[f],_=t.textIndent||0,m=0,b=0,x=n.split(" "),E=t_.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var A=Array(c).join(" "),P=[];x.map(function(j){(j=j.split(/\s*\n/)).length>1?P=P.concat(j.map(function(Q,ae){return(ae&&Q.length?`
`:"")+Q})):P.push(j[0])}),x=P,c=PR.apply(this,[A,t])}for(s=0,a=x.length;s<a;s++){var L=0;if(i=x[s],c&&i[0]==`
`&&(i=i.substr(1),L=1),_+m+(b=(r=t_.apply(this,[i,t])).reduce(function(j,Q){return j+Q},0))>e||L){if(b>e){for(l=MR.apply(this,[i,r,e-(_+m),e]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);b=r.slice(i.length-(f[0]?f[0].length:0)).reduce(function(j,Q){return j+Q},0)}else f=[i];p.push(f),_=b+c,m=E}else f.push(i),_+=m+b,m=E}return h=c?function(j,Q){return(Q?A:"")+j.join(" ")}:function(j){return j.join(" ")},p.map(h)},k0.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),_="Unicode";return p.metadata[_]?{widths:p.metadata[_].widths||{0:1},kerning:p.metadata[_].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var l,c,h=[];for(l=0,c=i.length;l<c;l++)h=h.concat(FR.apply(this,[i[l],a,s]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[t[s]]=e[s],r[e[s]]=t[s];var a=function(_){return"0x"+parseInt(_,10).toString(16)},l=n.__fontmetrics__.compress=function(_){var m,b,x,E,A=["{"];for(var P in _){if(m=_[P],isNaN(parseInt(P,10))?b="'"+P+"'":(P=parseInt(P,10),b=(b=a(P).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof m=="number")m<0?(x=a(m).slice(3),E="-"):(x=a(m).slice(2),E=""),x=E+x.slice(0,-1)+r[x.slice(-1)];else{if(Pi(m)!=="object")throw new Error("Don't know what to do with value type "+Pi(m)+".");x=l(m)}A.push(b+x)}return A.push("}"),A.join("")},c=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,x,E,A={},P=1,L=A,j=[],Q="",ae="",F=_.length-1,R=1;R<F;R+=1)(E=_[R])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(E):E=="{"?(j.push([L,x]),L={},x=void 0):E=="}"?((b=j.pop())[0][b[1]]=L,x=void 0,L=b[0]):E=="-"?P=-1:x===void 0?i.hasOwnProperty(E)?(Q+=i[E],x=parseInt(Q,16)*P,P=1,Q=""):Q+=E:i.hasOwnProperty(E)?(ae+=i[E],L[x]=parseInt(ae,16)*P,P=1,x=void 0,ae=""):ae+=E;return A},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var m=_.font,b=p.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var x=f.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])})(Jt.API),(function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=t.charCodeAt(s);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(C_(l)),a.metadata=n.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,i)}}])})(Jt),Jt.API.addSvgAsImage=function(n,e,t,i,r,s,a,l){if(isNaN(e)||isNaN(t))throw Zi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw Zi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=r;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(En.canvg?Promise.resolve(En.canvg):W5(()=>import("./index.es-DYquMmAG.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(f)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,t,i,r,a,l)})},Jt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Jt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],h=0,f=0,p=0;function _(b,x){var E,A=!1;for(E=0;E<b.length;E+=1)b[E]===x&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=l.length;for(p=0;p<m;p+=1)t[l[p]].value=t[l[p]].defaultValue,t[l[p]].explicitSet=!1}if(Pi(n)==="object"){for(r in n)if(s=n[r],_(l,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&_(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(h=0;h<s.length;h+=1)if(i=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(f=0;f<s[h].length;f+=1)typeof s[h][f]!="number"&&(i=!1);i===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[r].value="["+c.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?x.push("/"+b+" /"+t[b].value):x.push("/"+b+" "+t[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+a.length+l.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Jt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var l,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],p=0,_=s.length;p<_;++p){if(l=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(h[4-l.length],l)}return f.join("")},i=function(s){var a,l,c,h,f,p,_;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,_=(l=Object.keys(s).sort(function(m,b){return m-b})).length;p<_;p++)a=l[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(h=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,h=a.newObject,f=a.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,_=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",b=0;b<_.length;b++)m+=String.fromCharCode(_[b]);var x=h();f({data:m,addLength1:!0,objectId:x}),c("endobj");var E=h();f({data:i(l.metadata.toUnicode),addLength1:!0,objectId:E}),c("endobj");var A=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+U0(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var P=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+U0(l.fontName)),c("/FontDescriptor "+A+" 0 R"),c("/W "+n.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+E+" 0 R"),c("/BaseFont /"+U0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,h=a.newObject,f=a.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,_="",m=0;m<p.length;m++)_+=String.fromCharCode(p[m]);var b=h();f({data:_,addLength1:!0,objectId:b}),c("endobj");var x=h();f({data:i(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var E=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+U0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var A=0;A<l.metadata.hmtx.widths.length;A++)l.metadata.hmtx.widths[A]=parseInt(l.metadata.hmtx.widths[A]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+U0(l.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,l=s.text||"",c=s.x,h=s.y,f=s.options||{},p=s.mutex||{},_=p.pdfEscape,m=p.activeFontKey,b=p.fonts,x=m,E="",A=0,P="",L=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:l,x:c,y:h,options:f,mutex:p};for(P=l,x=m,Array.isArray(l)&&(P=l[0]),A=0;A<P.length;A+=1)b[x].metadata.hasOwnProperty("cmap")&&(a=b[x].metadata.cmap.unicode.codeMap[P[A].charCodeAt(0)]),a||P[A].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?E+=P[A]:E+="";var j="";return parseInt(x.slice(1))<14||L==="WinAnsiEncoding"?j=_(E,x).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(j=t(E,b[x])),p.isHex=!0,{text:j,x:c,y:h,options:f,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",l=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?l.push([r(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):l.push(r(Object.assign({},c,{text:a[h]})).text);s.text=l}else s.text=r(Object.assign({},c,{text:a})).text}])})(Jt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Jt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,a,l,c,h,f,p=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,L=0;this.__bidiEngine__={};var j=function(I){var M=I.charCodeAt(),z=M>>8,de=x[z];return de!==void 0?p[256*de+(255&M)]:z===252||z===253?"AL":A.test(z)?"L":z===8?"R":"N"},Q=function(I){for(var M,z=0;z<I.length;z++){if((M=j(I.charAt(z)))==="L")return!1;if(M==="R")return!0}return!1},ae=function(I,M,z,de){var we,ce,ye,be,Ne=M[de];switch(Ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(Ne="AN");break;case"AL":P=!0,Ne="R";break;case"WS":case"BN":Ne="N";break;case"CS":de<1||de+1>=M.length||(we=z[de-1])!=="EN"&&we!=="AN"||(ce=M[de+1])!=="EN"&&ce!=="AN"?Ne="N":P&&(ce="AN"),Ne=ce===we?ce:"N";break;case"ES":Ne=(we=de>0?z[de-1]:"B")==="EN"&&de+1<M.length&&M[de+1]==="EN"?"EN":"N";break;case"ET":if(de>0&&z[de-1]==="EN"){Ne="EN";break}if(P){Ne="N";break}for(ye=de+1,be=M.length;ye<be&&M[ye]==="ET";)ye++;Ne=ye<be&&M[ye]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(be=M.length,ye=de+1;ye<be&&M[ye]==="NSM";)ye++;if(ye<be){var $e=I[de],se=$e>=1425&&$e<=2303||$e===64286;if(we=M[ye],se&&(we==="R"||we==="AL")){Ne="R";break}}}Ne=de<1||(we=M[de-1])==="B"?"N":z[de-1];break;case"B":P=!1,r=!0,Ne=L;break;case"S":s=!0,Ne="N"}return Ne},F=function(I,M,z){var de=I.split("");return z&&R(de,z,{hiLevel:L}),de.reverse(),M&&M.reverse(),de.join("")},R=function(I,M,z){var de,we,ce,ye,be,Ne=-1,$e=I.length,se=0,k=[],G=L?m:_,W=[];for(P=!1,r=!1,s=!1,we=0;we<$e;we++)W[we]=j(I[we]);for(ce=0;ce<$e;ce++){if(be=se,k[ce]=ae(I,W,k,ce),de=240&(se=G[be][b[k[ce]]]),se&=15,M[ce]=ye=G[se][5],de>0)if(de===16){for(we=Ne;we<ce;we++)M[we]=1;Ne=-1}else Ne=-1;if(G[se][6])Ne===-1&&(Ne=ce);else if(Ne>-1){for(we=Ne;we<ce;we++)M[we]=ye;Ne=-1}W[ce]==="B"&&(M[ce]=0),z.hiLevel|=ye}s&&(function(Y,ne,xe){for(var Ae=0;Ae<xe;Ae++)if(Y[Ae]==="S"){ne[Ae]=L;for(var Te=Ae-1;Te>=0&&Y[Te]==="WS";Te--)ne[Te]=L}})(W,M,$e)},N=function(I,M,z,de,we){if(!(we.hiLevel<I)){if(I===1&&L===1&&!r)return M.reverse(),void(z&&z.reverse());for(var ce,ye,be,Ne,$e=M.length,se=0;se<$e;){if(de[se]>=I){for(be=se+1;be<$e&&de[be]>=I;)be++;for(Ne=se,ye=be-1;Ne<ye;Ne++,ye--)ce=M[Ne],M[Ne]=M[ye],M[ye]=ce,z&&(ce=z[Ne],z[Ne]=z[ye],z[ye]=ce);se=be}se++}}},U=function(I,M,z){var de=I.split(""),we={hiLevel:L};return z||(z=[]),R(de,z,we),(function(ce,ye,be){if(be.hiLevel!==0&&f)for(var Ne,$e=0;$e<ce.length;$e++)ye[$e]===1&&(Ne=E.indexOf(ce[$e]))>=0&&(ce[$e]=E[Ne+1])})(de,z,we),N(2,de,M,z,we),N(1,de,M,z,we),de.join("")};return this.__bidiEngine__.doBidiReorder=function(I,M,z){if((function(we,ce){if(ce)for(var ye=0;ye<we.length;ye++)ce[ye]=ye;l===void 0&&(l=Q(we)),h===void 0&&(h=Q(we))})(I,M),a||!c||h)if(a&&c&&l^h)L=l?1:0,I=F(I,M,z);else if(!a&&c&&h)L=l?1:0,I=U(I,M,z),I=F(I,M);else if(!a||l||c||h){if(a&&!c&&l^h)I=F(I,M),l?(L=0,I=U(I,M,z)):(L=1,I=U(I,M,z),I=F(I,M));else if(a&&l&&!c&&h)L=1,I=U(I,M,z),I=F(I,M);else if(!a&&!c&&l^h){var de=f;l?(L=1,I=U(I,M,z),L=0,f=!1,I=U(I,M,z),f=de):(L=0,I=U(I,M,z),I=F(I,M),L=1,f=!1,I=U(I,M,z),f=de,I=F(I,M))}}else L=0,I=U(I,M,z);else L=l?1:0,I=U(I,M,z);return I},this.__bidiEngine__.setOptions=function(I){I&&(a=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,h=I.isOutputRtl,f=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var l=0;for(a=[],l=0;l<r.length;l+=1)Object.prototype.toString.call(r[l])==="[object Array]"?a.push([t.doBidiReorder(r[l][0]),r[l][1],r[l][2]]):a.push([t.doBidiReorder(r[l])]);i.text=a}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])})(Jt),Jt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Af(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new hre(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Qie(this.contents),this.head=new Zie(this),this.name=new rre(this),this.cmap=new VP(this),this.toUnicode={},this.hhea=new ere(this),this.maxp=new sre(this),this.hmtx=new are(this),this.post=new nre(this),this.os2=new tre(this),this.loca=new ure(this),this.glyf=new ore(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,h;for(h=[],a=0,l=(c=this.bbox).length;a<l;a++)e=c[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,s,a,l;for(a=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n})();var gc,Af=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,s,a,l,c;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*s+65536*a+256*l+c},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)t=e[i],s.push(this.writeByte(t));return s},n})(),Qie=(function(){var n;function e(t){var i,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,s,a,l,c,h,f,p,_,m,b,x;for(x in m=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),a=Math.floor(p/c),f=16*m-p,(r=new Af).writeInt(this.scalarType),r.writeShort(m),r.writeShort(p),r.writeShort(a),r.writeShort(f),s=16*m,h=r.pos+s,l=null,b=[],t)for(_=t[x],r.writeString(x),r.writeInt(n(_)),r.writeInt(h),r.writeInt(_.length),b=b.concat(_),x==="head"&&(l=h),h+=_.length;h%4;)b.push(0),h++;return r.write(b),i=2981146554-n(r.data),r.pos=l+8,r.writeUInt32(i),r.data},n=function(t){var i,r,s,a;for(t=zP.call(t);t.length%4;)t.push(0);for(s=new Af(t),r=0,i=0,a=t.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},e})(),Jie={}.hasOwnProperty,iu=function(n,e){for(var t in e)Jie.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};gc=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Zie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Af).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),GR=(function(){function n(e,t){var i,r,s,a,l,c,h,f,p,_,m,b,x,E,A,P,L;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),_=m/2,e.pos+=6,s=(function(){var j,Q;for(Q=[],c=j=0;0<=_?j<_:j>_;c=0<=_?++j:--j)Q.push(e.readUInt16());return Q})(),e.pos+=2,x=(function(){var j,Q;for(Q=[],c=j=0;0<=_?j<_:j>_;c=0<=_?++j:--j)Q.push(e.readUInt16());return Q})(),h=(function(){var j,Q;for(Q=[],c=j=0;0<=_?j<_:j>_;c=0<=_?++j:--j)Q.push(e.readUInt16());return Q})(),f=(function(){var j,Q;for(Q=[],c=j=0;0<=_?j<_:j>_;c=0<=_?++j:--j)Q.push(e.readUInt16());return Q})(),r=(this.length-e.pos+this.offset)/2,l=(function(){var j,Q;for(Q=[],c=j=0;0<=r?j<r:j>r;c=0<=r?++j:--j)Q.push(e.readUInt16());return Q})(),c=A=0,L=s.length;A<L;c=++A)for(E=s[c],i=P=b=x[c];b<=E?P<=E:P>=E;i=b<=E?++P:--P)f[c]===0?a=i+h[c]:(a=l[f[c]/2+(i-b)-(_-c)]||0)!==0&&(a+=h[c]),this.codeMap[i]=65535&a}e.pos=p}return n.encode=function(e,t){var i,r,s,a,l,c,h,f,p,_,m,b,x,E,A,P,L,j,Q,ae,F,R,N,U,I,M,z,de,we,ce,ye,be,Ne,$e,se,k,G,W,Y,ne,xe,Ae,Te,Ie,et,lt;switch(de=new Af,a=Object.keys(e).sort(function(yt,_t){return yt-_t}),t){case"macroman":for(x=0,E=(function(){var yt=[];for(b=0;b<256;++b)yt.push(0);return yt})(),P={0:0},s={},we=0,Ne=a.length;we<Ne;we++)P[Te=e[r=a[we]]]==null&&(P[Te]=++x),s[r]={old:e[r],new:P[e[r]]},E[r]=P[e[r]];return de.writeUInt16(1),de.writeUInt16(0),de.writeUInt32(12),de.writeUInt16(0),de.writeUInt16(262),de.writeUInt16(0),de.write(E),{charMap:s,subtable:de.data,maxGlyphID:x+1};case"unicode":for(M=[],p=[],L=0,P={},i={},A=h=null,ce=0,$e=a.length;ce<$e;ce++)P[Q=e[r=a[ce]]]==null&&(P[Q]=++L),i[r]={old:Q,new:P[Q]},l=P[Q]-r,A!=null&&l===h||(A&&p.push(A),M.push(r),h=l),A=r;for(A&&p.push(A),p.push(65535),M.push(65535),U=2*(N=M.length),R=2*Math.pow(Math.log(N)/Math.LN2,2),_=Math.log(R/2)/Math.LN2,F=2*N-R,c=[],ae=[],m=[],b=ye=0,se=M.length;ye<se;b=++ye){if(I=M[b],f=p[b],I===65535){c.push(0),ae.push(0);break}if(I-(z=i[I].new)>=32768)for(c.push(0),ae.push(2*(m.length+N-b)),r=be=I;I<=f?be<=f:be>=f;r=I<=f?++be:--be)m.push(i[r].new);else c.push(z-I),ae.push(0)}for(de.writeUInt16(3),de.writeUInt16(1),de.writeUInt32(12),de.writeUInt16(4),de.writeUInt16(16+8*N+2*m.length),de.writeUInt16(0),de.writeUInt16(U),de.writeUInt16(R),de.writeUInt16(_),de.writeUInt16(F),xe=0,k=p.length;xe<k;xe++)r=p[xe],de.writeUInt16(r);for(de.writeUInt16(0),Ae=0,G=M.length;Ae<G;Ae++)r=M[Ae],de.writeUInt16(r);for(Ie=0,W=c.length;Ie<W;Ie++)l=c[Ie],de.writeUInt16(l);for(et=0,Y=ae.length;et<Y;et++)j=ae[et],de.writeUInt16(j);for(lt=0,ne=m.length;lt<ne;lt++)x=m[lt],de.writeUInt16(x);return{charMap:i,subtable:de.data,maxGlyphID:L+1}}},n})(),VP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)t=new GR(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,r;return t==null&&(t="macroman"),i=GR.encode(e,t),(r=new Af).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},n})(),ere=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),tre=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),nre=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(e.readUInt32());return c}).call(this)}},n})(),ire=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},rre=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,r,s,a,l,c,h,f,p,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),i=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=f=0,p=i.length;f<p;s=++f)r=i[s],e.pos=r.offset,h=e.readString(r.length),a=new ire(h,r),c[_=r.nameID]==null&&(c[_]=[]),c[r.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),sre=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),are=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,r,s,a,l,c;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],t=h=0;0<=r?h<r:h>r;t=0<=r?++h:--h)f.push(e.readInt16());return f})(),this.widths=(function(){var h,f,p,_;for(_=[],h=0,f=(p=this.metrics).length;h<f;h++)s=p[h],_.push(s.advance);return _}).call(this),i=this.widths[this.widths.length-1],c=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)c.push(this.widths.push(i));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),zP=[].slice,ore=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,r,s,a,l,c,h,f,p;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,i=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,a=(l=new Af(t.read(r))).readShort(),h=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[e]=a===-1?new cre(l,h,p,c,f):new lre(l,a,h,p,c,f),this.cache[e]))},n.prototype.encode=function(e,t,i){var r,s,a,l,c;for(a=[],s=[],l=0,c=t.length;l<c;l++)r=e[t[l]],s.push(a.length),r&&(a=a.concat(r.encode(i)));return s.push(a.length),{table:a,offsets:s}},n})(),lre=(function(){function n(e,t,i,r,s,a){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),cre=(function(){function n(e,t,i,r,s){var a,l;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Af(zP.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),ure=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return iu(n,gc),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<i.length;++a)if(i[a]=r,s<t.length&&t[s]==a){++s,i[a]=r;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(r+=c)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},n})(),hre=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,s,a,l,c;for(r={},a=0,l=e.length;a<l;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(i=r[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))i=c[s],r[s]=i;return r},n.prototype.encode=function(e,t){var i,r,s,a,l,c,h,f,p,_,m,b,x,E,A;for(r in i=VP.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},A=i.charMap)m[(c=A[r]).old]=c.new;for(b in _=i.maxGlyphID,a)b in m||(m[b]=_++);return f=(function(P){var L,j;for(L in j={},P)j[P[L]]=L;return j})(m),p=Object.keys(f).sort(function(P,L){return P-L}),x=(function(){var P,L,j;for(j=[],P=0,L=p.length;P<L;P++)l=p[P],j.push(f[l]);return j})(),s=this.font.glyf.encode(a,x,m),h=this.font.loca.encode(s.offsets,x),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},n})();Jt.API.PDFObject=(function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,s,a;if(Array.isArray(t))return"["+(function(){var l,c,h;for(h=[],l=0,c=t.length;l<c;l++)i=t[l],h.push(e.convert(i));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)a=t[r],s.push("/"+r+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();function HP(n,e,t,i,r){i=i||{};var s=1.15,a=r.internal.scaleFactor,l=r.internal.getFontSize()/a,c=r.getLineHeightFactor?r.getLineHeightFactor():s,h=l*c,f=/\r\n|\r|\n/g,p="",_=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(p=typeof n=="string"?n.split(f):n,_=p.length||1),t+=l*(2-s),i.valign==="middle"?t-=_/2*h:i.valign==="bottom"&&(t-=_*h),i.halign==="center"||i.halign==="right"){var m=l;if(i.halign==="center"&&(m*=.5),p&&_>=1){for(var b=0;b<p.length;b++)r.text(p[b],e-r.getStringUnitWidth(p[b])*m,t),t+=h;return r}e-=r.getStringUnitWidth(n)*m}return i.halign==="justify"?r.text(n,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,e,t),r}var $R={},ap=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:$R=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var i,r,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,c=a.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),l=h[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var f=n.unifyColor(e.fillColor);f&&(i=this.jsPDFDocument).setFillColor.apply(i,f),f=n.unifyColor(e.textColor),f&&(r=this.jsPDFDocument).setTextColor.apply(r,f),f=n.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},n.prototype.rect=function(e,t,i,r,s){return this.jsPDFDocument.rect(e,t,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return $R||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),Vb=function(n,e){return Vb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},Vb(n,e)};function qP(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vb(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var WP=(function(n){qP(e,n);function e(t){var i=n.call(this)||this;return i._element=t,i}return e})(Array);function fre(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function dre(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Av(n,e,t){t.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return r}function GP(n,e,t,i){var r=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var a=$P(r,!1);a&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),i.y-t.y,a)}function $P(n,e){var t=n>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function By(n,e){var t,i,r,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(r=n.right)!==null&&r!==void 0?r:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function YP(n,e){var t=By(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function pre(n,e,t,i,r){var s={},a=1.3333333333333333,l=dw(e,function(L){return r.getComputedStyle(L).backgroundColor});l!=null&&(s.fillColor=l);var c=dw(e,function(L){return r.getComputedStyle(L).color});c!=null&&(s.textColor=c);var h=mre(i,t);h&&(s.cellPadding=h);var f="borderTopColor",p=a*t,_=i.borderTopWidth;if(i.borderBottomWidth===_&&i.borderRightWidth===_&&i.borderLeftWidth===_){var m=(parseFloat(_)||0)/p;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/p,right:(parseFloat(i.borderRightWidth)||0)/p,bottom:(parseFloat(i.borderBottomWidth)||0)/p,left:(parseFloat(i.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var b=dw(e,function(L){return r.getComputedStyle(L)[f]});b!=null&&(s.lineColor=b);var x=["left","right","center","justify"];x.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),x=["middle","bottom","top"],x.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var E=parseInt(i.fontSize||"");isNaN(E)||(s.fontSize=E/a);var A=gre(i);A&&(s.fontStyle=A);var P=(i.fontFamily||"").toLowerCase();return n.indexOf(P)!==-1&&(s.font=P),s}function gre(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function dw(n,e){var t=KP(n,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function KP(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:KP(n.parentElement,e):t}function mre(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(l){return parseInt(l||"0")/i}),a=By(s,0);return r>a.top&&(a.top=r),r>a.bottom&&(a.bottom=r),a}function XP(n,e,t,i,r){var s,a;i===void 0&&(i=!1),r===void 0&&(r=!1);var l;typeof e=="string"?l=t.document.querySelector(e):l=e;var c=Object.keys(n.getFontList()),h=n.scaleFactor(),f=[],p=[],_=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:_};for(var m=0;m<l.rows.length;m++){var b=l.rows[m],x=(a=(s=b?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),E=_re(c,h,t,b,i,r);E&&(x==="thead"?f.push(E):x==="tfoot"?_.push(E):p.push(E))}return{head:f,body:p,foot:_}}function _re(n,e,t,i,r,s){for(var a=new WP(i),l=0;l<i.cells.length;l++){var c=i.cells[l],h=t.getComputedStyle(c);if(r||h.display!=="none"){var f=void 0;s&&(f=pre(n,c,e,h,t)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:vre(c)})}}var p=t.getComputedStyle(i);if(a.length>0&&(r||p.display!=="none"))return a}function vre(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function yre(n,e,t){for(var i=0,r=[n,e,t];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function qu(n,e,t,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function xre(n,e){var t=new ap(n),i=t.getDocumentOptions(),r=t.getGlobalOptions();yre(r,i,e);var s=qu({},r,i,e),a;typeof window<"u"&&(a=window);var l=wre(r,i,e),c=bre(r,i,e),h=Ere(t,s),f=Tre(t,s,a);return{id:e.tableId,content:f,hooks:c,styles:l,settings:h}}function wre(n,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(c){if(c==="columnStyles"){var h=n[c],f=e[c],p=t[c];i.columnStyles=qu({},h,f,p)}else{var _=[n,e,t],m=_.map(function(b){return b[c]||{}});i[c]=qu({},m[0],m[1],m[2])}},s=0,a=Object.keys(i);s<a.length;s++){var l=a[s];r(l)}return i}function bre(n,e,t){for(var i=[n,e,t],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=i;s<a.length;s++){var l=a[s];l.didParseCell&&r.didParseCell.push(l.didParseCell),l.willDrawCell&&r.willDrawCell.push(l.willDrawCell),l.didDrawCell&&r.didDrawCell.push(l.didDrawCell),l.willDrawPage&&r.willDrawPage.push(l.willDrawPage),l.didDrawPage&&r.didDrawPage.push(l.didDrawPage)}return r}function Ere(n,e){var t,i,r,s,a,l,c,h,f,p,_,m,b=By(e.margin,40/n.scaleFactor()),x=(t=Sre(n,e.startY))!==null&&t!==void 0?t:b.top,E;e.showFoot===!0?E="everyPage":e.showFoot===!1?E="never":E=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var A;e.showHead===!0?A="everyPage":e.showHead===!1?A="never":A=(r=e.showHead)!==null&&r!==void 0?r:"everyPage";var P=(s=e.useCss)!==null&&s!==void 0?s:!1,L=e.theme||(P?"plain":"striped"),j=!!e.horizontalPageBreak,Q=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:P,theme:L,startY:x,margin:b,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:A,showFoot:E,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(_=e.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:j,horizontalPageBreakRepeat:Q,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function Sre(n,e){var t=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===r}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/i:null}function Tre(n,e,t){var i=e.head||[],r=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var l=XP(n,e.html,t,a,e.useCss)||{};i=l.head||i,r=l.body||i,s=l.foot||i}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Are(i,r,s);return{columns:c,head:i,body:r,foot:s}}function Are(n,e,t){var i=n[0]||e[0]||t[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,l;Array.isArray(i)?l=i[parseInt(s)]:l=i[s],typeof l=="object"&&!Array.isArray(l)&&(a=l?.colSpan||1);for(var c=0;c<a;c++){var h=void 0;Array.isArray(i)?h=r.length:h=s+(c>0?"_".concat(c):"");var f={dataKey:h};r.push(f)}}),r}var zb=(function(){function n(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return n})(),Cre=(function(n){qP(e,n);function e(t,i,r,s,a,l){var c=n.call(this,t,i,l)||this;return c.cell=r,c.row=s,c.column=a,c.section=s.section,c}return e})(zb),Nre=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,i,r,s,a){for(var l=0,c=t;l<c.length;l++){var h=c[l],f=new Cre(e,this,i,r,s,a),p=h(f)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new zb(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new zb(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},n})(),QP=(function(){function n(e,t,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof WP&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,r){var s;return Math.max(i,((s=t.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var r=t.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(r,s){var a=i.cells[s.index];if(!a)return 0;var l=t.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),h=c+l;return h>r?h:r},0)},n})(),JP=(function(){function n(e,t,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(r=e.content)!==null&&r!==void 0?r:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/e*t,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=By(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),Rre=(function(){function n(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,r=e.allRows();i<r.length;i++){var s=r[i],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},n})();function Ire(n,e){kre(n,e);var t=[],i=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),i+=s.width});var r=e.getWidth(n.pageSize().width)-i;r&&(r=Hb(t,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=Hb(t,r,function(s){return s.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),Lre(e),Ore(e,n),Dre(e)}function kre(n,e){var t=n.scaleFactor(),i=e.settings.horizontalPageBreak,r=YP(n,e);e.allRows().forEach(function(s){for(var a=0,l=e.columns;a<l.length;a++){var c=l[a],h=s.cells[c.index];if(h){var f=e.hooks.didParseCell;e.callCellHooks(n,f,h,s,c,null);var p=h.padding("horizontal");h.contentWidth=Av(h.text,h.styles,n)+p;var _=Av(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,n);if(h.minReadableWidth=_+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||i===!0)h.contentWidth>r?(h.minWidth=r,h.wrappedWidth=r):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var m=10/t;h.minWidth=h.styles.minCellWidth||m,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,l=e.columns;a<l.length;a++){var c=l[a],h=s.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function Hb(n,e,t){for(var i=e,r=n.reduce(function(m,b){return m+b.wrappedWidth},0),s=0;s<n.length;s++){var a=n[s],l=a.wrappedWidth/r,c=i*l,h=a.width+c,f=t(a),p=h<f?f:h;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var _=n.filter(function(m){return e<0?m.width>t(m):!0});_.length&&(e=Hb(_,e,t))}return e}function Dre(n){for(var e={},t=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],a=0,l=n.columns;a<l.length;a++){var c=l[a],h=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(h)h.cell.height+=s.height,t=h.cell.colSpan,delete s.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var p=i.length-r,_=f.rowSpan>p?p:f.rowSpan;e[c.index]={cell:f,left:_,row:s}}}}}function Lre(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var i=e[t],r=null,s=0,a=0,l=0;l<n.columns.length;l++){var c=n.columns[l];if(a-=1,a>1&&n.columns[l+1])s+=c.width,delete i.cells[c.index];else if(r){var h=r;delete i.cells[c.index],r=null,h.width=c.width+s}else{var h=i.cells[c.index];if(!h)continue;if(a=h.colSpan,s=0,h.colSpan>1){r=h,s+=c.width;continue}h.width=c.width+s}}}function Ore(n,e){for(var t={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],a=0,l=n.columns;a<l.length;a++){var c=l[a],h=s.cells[c.index];if(h){e.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,f+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=YR(h.text,f,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=YR(h.text,f,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,f);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var _=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<_*h.rowSpan?t={height:_,count:h.rowSpan}:t&&t.count>0&&t.height>_&&(_=t.height),_>s.height&&(s.height=_)}}t.count--}}function YR(n,e,t,i,r){return n.map(function(s){return Pre(s,e,t,i,r)})}function Pre(n,e,t,i,r){var s=1e4*i.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Av(n,t,i))return n;for(;e<Av(n+r,t,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function Mre(n,e){var t=new ap(n),i=Fre(e,t.scaleFactor()),r=new Nre(e,i);return Ire(t,r),t.applyStyles(t.userStyles),r}function Fre(n,e){var t=n.content,i=jre(t.columns);if(t.head.length===0){var r=KR(i,"head");r&&t.head.push(r)}if(t.foot.length===0){var r=KR(i,"foot");r&&t.foot.push(r)}var s=n.settings.theme,a=n.styles;return{columns:i,head:pw("head",t.head,i,a,s,e),body:pw("body",t.body,i,a,s,e),foot:pw("foot",t.foot,i,a,s,e)}}function pw(n,e,t,i,r,s){var a={},l=e.map(function(c,h){for(var f=0,p={},_=0,m=0,b=0,x=t;b<x.length;b++){var E=x[b];if(a[E.index]==null||a[E.index].left===0)if(m===0){var A=void 0;Array.isArray(c)?A=c[E.index-_-f]:A=c[E.dataKey];var P={};typeof A=="object"&&!Array.isArray(A)&&(P=A?.styles||{});var L=Ure(n,E,h,r,i,s,P),j=new JP(A,L,n);p[E.dataKey]=j,p[E.index]=j,m=j.colSpan-1,a[E.index]={left:j.rowSpan-1,times:m}}else m--,_++;else a[E.index].left--,m=a[E.index].times,f++}return new QP(c,h,n,p)});return l}function KR(n,e){var t={};return n.forEach(function(i){if(i.raw!=null){var r=Bre(e,i.raw);r!=null&&(t[i.dataKey]=r)}}),Object.keys(t).length>0?t:null}function Bre(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function jre(n){return n.map(function(e,t){var i,r;return typeof e=="object"?r=(i=e.dataKey)!==null&&i!==void 0?i:t:r=t,new Rre(r,e,t)})}function Ure(n,e,t,i,r,s,a){var l=dre(i),c;n==="head"?c=r.headStyles:n==="body"?c=r.bodyStyles:n==="foot"&&(c=r.footStyles);var h=qu({},l.table,l[n],r.styles,c),f=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},p=n==="body"?f:{},_=n==="body"&&t%2===0?qu({},l.alternateRow,r.alternateRowStyles):{},m=fre(s),b=qu({},m,h,_,p);return qu(b,a)}function Vre(n,e,t){var i;t===void 0&&(t={});var r=YP(n,e),s=new Map,a=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(_){var m=e.columns.find(function(b){return b.dataKey===_||b.index===_});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),l.push(e.columns[m.index]),r-=m.wrappedWidth)});for(var h=!0,f=(i=t?.start)!==null&&i!==void 0?i:0;f<e.columns.length;){if(s.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(h||r>=p)h=!1,a.push(f),l.push(e.columns[f]),r-=p;else break;f++}return{colIndexes:a,columns:l,lastIndex:f-1}}function zre(n,e){for(var t=[],i=0;i<e.columns.length;i++){var r=Vre(n,e,{start:i});r.columns.length&&(t.push(r),i=r.lastIndex)}return t}function Hre(n,e){var t=e.settings,i=t.startY,r=t.margin,s={x:r.left,y:i},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=i+r.bottom+a;if(t.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(_,m){return _+m.height},0);l+=h}var f=new ap(n);(t.pageBreak==="always"||t.startY!=null&&l>f.pageSize().height)&&(eM(f),s.y=r.top),e.callWillDrawPageHooks(f,s);var p=qu({},s);e.startPageNumber=f.pageNumber(),t.horizontalPageBreak?qre(f,e,p,s):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(_){return sh(f,e,_,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(_,m){var b=m===e.body.length-1;Cv(f,e,_,b,p,s,e.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(_){return sh(f,e,_,s,e.columns)})),GP(f,e,p,s),e.callEndPageHooks(f,s),e.finalY=s.y,n.lastAutoTable=e,f.applyStyles(f.userStyles)}function qre(n,e,t,i){var r=zre(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(h,f){n.applyStyles(n.userStyles),f>0?vm(n,e,t,i,h.columns,!0):XR(n,e,i,h.columns),Wre(n,e,t,i,h.columns),gw(n,e,i,h.columns)});else for(var a=-1,l=r[0],c=function(){var h=a;if(l){n.applyStyles(n.userStyles);var f=l.columns;a>=0?vm(n,e,t,i,f,!0):XR(n,e,i,f),h=QR(n,e,a+1,i,f),gw(n,e,i,f)}var p=h-a;r.slice(1).forEach(function(_){n.applyStyles(n.userStyles),vm(n,e,t,i,_.columns,!0),QR(n,e,a+1,i,_.columns,p),gw(n,e,i,_.columns)}),a=h};a<e.body.length-1;)c()}function XR(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(s){return sh(n,e,s,t,i)})}function Wre(n,e,t,i,r){n.applyStyles(n.userStyles),e.body.forEach(function(s,a){var l=a===e.body.length-1;Cv(n,e,s,l,t,i,r)})}function QR(n,e,t,i,r,s){n.applyStyles(n.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),l=-1;return e.body.slice(t,a).forEach(function(c,h){var f=t+h===e.body.length-1,p=ZP(n,e,f,i);c.canEntireRowFit(p,r)&&(sh(n,e,c,i,r),l=t+h)}),l}function gw(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(s){return sh(n,e,s,t,i)})}function Gre(n,e,t){var i=t.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((e-r)/i);return Math.max(0,s)}function $re(n,e,t,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,a=0,l=t.columns;a<l.length;a++){var c=l[a],h=n.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new JP(h.raw,h.styles,h.section);f=qu(f,h),f.text=[];var p=Gre(h,e,i);h.text.length>p&&(f.text=h.text.splice(p,h.text.length));var _=i.scaleFactor(),m=i.getLineHeightFactor();h.contentHeight=h.getContentHeight(_,m),h.contentHeight>=e&&(h.contentHeight=e,f.styles.minCellHeight-=e),h.contentHeight>n.height&&(n.height=h.contentHeight),f.contentHeight=f.getContentHeight(_,m),f.contentHeight>s&&(s=f.contentHeight),r[c.index]=f}}var b=new QP(n.raw,-1,n.section,r,!0);b.height=s;for(var x=0,E=t.columns;x<E.length;x++){var c=E[x],f=b.cells[c.index];f&&(f.height=b.height);var h=n.cells[c.index];h&&(h.height=n.height)}return b}function Yre(n,e,t,i){var r=n.pageSize().height,s=i.settings.margin,a=s.top+s.bottom,l=r-a;e.section==="body"&&(l-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var c=e.getMinimumRowHeight(i.columns,n),h=c<t;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=e.hasRowSpan(i.columns),p=e.getMaxCellHeight(i.columns)>l;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||i.settings.rowPageBreak==="avoid")}function Cv(n,e,t,i,r,s,a){var l=ZP(n,e,i,s);if(t.canEntireRowFit(l,a))sh(n,e,t,s,a);else if(Yre(n,t,l,e)){var c=$re(t,l,e,n);sh(n,e,t,s,a),vm(n,e,r,s,a),Cv(n,e,c,i,r,s,a)}else vm(n,e,r,s,a),Cv(n,e,t,i,r,s,a)}function sh(n,e,t,i,r){i.x=e.settings.margin.left;for(var s=0,a=r;s<a.length;s++){var l=a[s],c=t.cells[l.index];if(!c){i.x+=l.width;continue}n.applyStyles(c.styles),c.x=i.x,c.y=i.y;var h=e.callCellHooks(n,e.hooks.willDrawCell,c,t,l,i);if(h===!1){i.x+=l.width;continue}Kre(n,c,i);var f=c.getTextPos();HP(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,l,i),i.x+=l.width}i.y+=t.height}function Kre(n,e,t){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=$P(i.lineWidth,i.fillColor);r&&n.rect(e.x,t.y,e.width,e.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),Xre(n,e,t,i.lineWidth))}function Xre(n,e,t,i){var r,s,a,l;i.top&&(r=t.x,s=t.y,a=t.x+e.width,l=t.y,i.right&&(a+=.5*i.right),i.left&&(r-=.5*i.left),c(i.top,r,s,a,l)),i.bottom&&(r=t.x,s=t.y+e.height,a=t.x+e.width,l=t.y+e.height,i.right&&(a+=.5*i.right),i.left&&(r-=.5*i.left),c(i.bottom,r,s,a,l)),i.left&&(r=t.x,s=t.y,a=t.x,l=t.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(l+=.5*i.bottom),c(i.left,r,s,a,l)),i.right&&(r=t.x+e.width,s=t.y,a=t.x+e.width,l=t.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(l+=.5*i.bottom),c(i.right,r,s,a,l));function c(h,f,p,_,m){n.getDocument().setLineWidth(h),n.getDocument().line(f,p,_,m,"S")}}function ZP(n,e,t,i){var r=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(r+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-r}function vm(n,e,t,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(l){return sh(n,e,l,i,r)}),e.callEndPageHooks(n,i);var a=e.settings.margin;GP(n,e,t,i),eM(n),e.pageNumber++,i.x=a.left,i.y=a.top,t.y=a.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return sh(n,e,l,i,r)}),n.applyStyles(n.userStyles))}function eM(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function Qre(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=xre(this,i),s=Mre(this,r);return Hre(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,i,r){HP(e,t,i,r,this)},n.API.autoTableSetDefaults=function(e){return ap.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){ap.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new ap(this),s=XP(r,e,window,t,!1),a=s.head,l=s.body,c=((i=a[0])===null||i===void 0?void 0:i.map(function(h){return h.content}))||[];return{columns:c,rows:l,data:l}}}var mw;try{if(typeof window<"u"&&window){var JR=window,ZR=JR.jsPDF||((mw=JR.jspdf)===null||mw===void 0?void 0:mw.jsPDF);ZR&&Qre(ZR)}}catch(n){console.error("Could not apply autoTable plugin",n)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Nv={};Nv.version="0.18.5";var tM=1252,Jre=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nM=function(n){Jre.indexOf(n)!=-1&&(tM=n)};function Zre(){nM(1252)}var Km=function(n){nM(n)};function ese(){Km(1200),Zre()}var n_=function(e){return String.fromCharCode(e)},eI=function(e){return String.fromCharCode(e)},Rv,sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Xm(n){for(var e="",t=0,i=0,r=0,s=0,a=0,l=0,c=0,h=0;h<n.length;)t=n.charCodeAt(h++),s=t>>2,i=n.charCodeAt(h++),a=(t&3)<<4|i>>4,r=n.charCodeAt(h++),l=(i&15)<<2|r>>6,c=r&63,isNaN(i)?l=c=64:isNaN(r)&&(c=64),e+=sf.charAt(s)+sf.charAt(a)+sf.charAt(l)+sf.charAt(c);return e}function ah(n){var e="",t=0,i=0,r=0,s=0,a=0,l=0,c=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<n.length;)s=sf.indexOf(n.charAt(h++)),a=sf.indexOf(n.charAt(h++)),t=s<<2|a>>4,e+=String.fromCharCode(t),l=sf.indexOf(n.charAt(h++)),i=(a&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(i)),c=sf.indexOf(n.charAt(h++)),r=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(r));return e}var Ei=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),ph=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Id(n){return Ei?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function tI(n){return Ei?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var ec=function(e){return Ei?ph(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function jy(n){if(typeof ArrayBuffer>"u")return ec(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),i=0;i!=n.length;++i)t[i]=n.charCodeAt(i)&255;return e}function A1(n){if(Array.isArray(n))return n.map(function(i){return String.fromCharCode(i)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function tse(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var ha=Ei?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:ph(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var i=new Uint8Array(t),r=0;for(e=0,t=0;e<n.length;t+=r,++e)if(r=n[e].length,n[e]instanceof Uint8Array)i.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";i.set(new Uint8Array(n[e]),t)}return i}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function nse(n){for(var e=[],t=0,i=n.length+250,r=Id(n.length+255),s=0;s<n.length;++s){var a=n.charCodeAt(s);if(a<128)r[t++]=a;else if(a<2048)r[t++]=192|a>>6&31,r[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var l=n.charCodeAt(++s)&1023;r[t++]=240|a>>8&7,r[t++]=128|a>>2&63,r[t++]=128|l>>6&15|(a&3)<<4,r[t++]=128|l&63}else r[t++]=224|a>>12&15,r[t++]=128|a>>6&63,r[t++]=128|a&63;t>i&&(e.push(r.slice(0,t)),t=0,r=Id(65535),i=65530)}return e.push(r.slice(0,t)),ha(e)}var ym=/\u0000/g,i_=/[\u0001-\u0006]/g;function op(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function sc(n,e){var t=""+n;return t.length>=e?t:zr("0",e-t.length)+t}function YS(n,e){var t=""+n;return t.length>=e?t:zr(" ",e-t.length)+t}function Iv(n,e){var t=""+n;return t.length>=e?t:t+zr(" ",e-t.length)}function ise(n,e){var t=""+Math.round(n);return t.length>=e?t:zr("0",e-t.length)+t}function rse(n,e){var t=""+n;return t.length>=e?t:zr("0",e-t.length)+t}var nI=Math.pow(2,32);function D0(n,e){if(n>nI||n<-nI)return ise(n,e);var t=Math.round(n);return rse(t,e)}function kv(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var iI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],_w=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sse(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},rI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ase={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Dv(n,e,t){for(var i=n<0?-1:1,r=n*i,s=0,a=1,l=0,c=1,h=0,f=0,p=Math.floor(r);h<e&&(p=Math.floor(r),l=p*a+s,f=p*h+c,!(r-p<5e-8));)r=1/(r-p),s=a,a=l,c=h,h=f;if(f>e&&(h>e?(f=c,l=s):(f=h,l=a)),!t)return[0,i*l,f];var _=Math.floor(i*l/f);return[_,i*l-_*f,f]}function r_(n,e,t){if(n>2958465||n<0)return null;var i=n|0,r=Math.floor(86400*(n-i)),s=0,a=[],l={D:i,T:r,u:86400*(n-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(i+=1462),l.u>.9999&&(l.u=0,++r==86400&&(l.T=r=0,++i,++l.D)),i===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(i===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{i>60&&--i;var c=new Date(1900,0,1);c.setDate(c.getDate()+i-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),i<60&&(s=(s+6)%7),t&&(s=dse(c,a))}return l.y=a[0],l.m=a[1],l.d=a[2],l.S=r%60,r=Math.floor(r/60),l.M=r%60,r=Math.floor(r/60),l.H=r,l.q=s,l}var iM=new Date(1899,11,31,0,0,0),ose=iM.getTime(),lse=new Date(1900,2,1,0,0,0);function rM(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=lse&&(t+=1440*60*1e3),(t-(ose+(n.getTimezoneOffset()-iM.getTimezoneOffset())*6e4))/(1440*60*1e3)}function KS(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function cse(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function use(n){var e=n<0?12:11,t=KS(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function hse(n){var e=KS(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function fse(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=use(n):e===10?t=n.toFixed(10).substr(0,12):t=hse(n),KS(cse(t.toUpperCase()))}function qb(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):fse(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Cf(14,rM(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function dse(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function pse(n,e,t,i){var r="",s=0,a=0,l=t.y,c,h=0;switch(n){case 98:l=t.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,h=2;break;default:c=l%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,h=e.length;break;case 3:return _w[t.m-1][1];case 5:return _w[t.m-1][0];default:return _w[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,h=e.length;break;case 3:return iI[t.q][0];default:return iI[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?sc(t.S,e.length):(i>=2?a=i===3?1e3:100:a=i===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(r=sc(s,2+i),e==="ss"?r.substr(0,2):"."+r.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:c=l,h=1;break}var f=h>0?sc(c,h):"";return f}function af(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,i=n.substr(0,t);t!=n.length;t+=e)i+=(i.length>0?",":"")+n.substr(t,e);return i}var sM=/%/g;function gse(n,e,t){var i=e.replace(sM,""),r=e.length-i.length;return Ku(n,i,t*Math.pow(10,2*r))+zr("%",r)}function mse(n,e,t){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return Ku(n,e.substr(0,i),t/Math.pow(10,3*(e.length-i)))}function aM(n,e){var t,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+aM(n,-e);var r=n.indexOf(".");r===-1&&(r=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),t=(e/Math.pow(10,s)).toPrecision(i+1+(r+s)%r),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,r)+"."+t.substr(2+r),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,h,f){return c+h+f.substr(0,(r+s)%r)+"."+f.substr(s)+"E"})}else t=e.toExponential(i);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var oM=/# (\?+)( ?)\/( ?)(\d+)/;function _se(n,e,t){var i=parseInt(n[4],10),r=Math.round(e*i),s=Math.floor(r/i),a=r-s*i,l=i;return t+(s===0?"":""+s)+" "+(a===0?zr(" ",n[1].length+1+n[4].length):YS(a,n[1].length)+n[2]+"/"+n[3]+sc(l,n[4].length))}function vse(n,e,t){return t+(e===0?"":""+e)+zr(" ",n[1].length+2+n[4].length)}var lM=/^#*0*\.([0#]+)/,cM=/\).*[0#]/,uM=/\(###\) ###\\?-####/;function Ka(n){for(var e="",t,i=0;i!=n.length;++i)switch(t=n.charCodeAt(i)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function sI(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function aI(n,e){var t=n-Math.floor(n),i=Math.pow(10,e);return e<(""+Math.round(t*i)).length?0:Math.round(t*i)}function yse(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function xse(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function bl(n,e,t){if(n.charCodeAt(0)===40&&!e.match(cM)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?bl("n",i,t):"("+bl("n",i,-t)+")"}if(e.charCodeAt(e.length-1)===44)return mse(n,e,t);if(e.indexOf("%")!==-1)return gse(n,e,t);if(e.indexOf("E")!==-1)return aM(e,t);if(e.charCodeAt(0)===36)return"$"+bl(n,e.substr(e.charAt(1)==" "?2:1),t);var r,s,a,l,c=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+D0(c,e.length);if(e.match(/^[#?]+$/))return r=D0(t,0),r==="0"&&(r=""),r.length>e.length?r:Ka(e.substr(0,e.length-r.length))+r;if(s=e.match(oM))return _se(s,c,h);if(e.match(/^#+0+$/))return h+D0(c,e.length-e.indexOf("0"));if(s=e.match(lM))return r=sI(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Ka(s[1])).replace(/\.$/,"."+Ka(s[1])).replace(/\.(\d*)$/,function(b,x){return"."+x+zr("0",Ka(s[1]).length-x.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+sI(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+af(D0(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+bl(n,e,-t):af(""+(Math.floor(t)+yse(t,s[1].length)))+"."+sc(aI(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return bl(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=op(bl(n,e.replace(/[\\-]/g,""),t)),a=0,op(op(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<r.length?r.charAt(a++):b==="0"?"0":""}));if(e.match(uM))return r=bl(n,"##########",t),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=Dv(c,Math.pow(10,a)-1,!1),r=""+h,f=Ku("n",s[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),r+=f+s[2]+"/"+s[3],f=Iv(l[2],a),f.length<s[4].length&&(f=Ka(s[4].substr(s[4].length-f.length))+f),r+=f,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),l=Dv(c,Math.pow(10,a)-1,!0),h+(l[0]||(l[1]?"":"0"))+" "+(l[1]?YS(l[1],a)+s[2]+"/"+s[3]+Iv(l[2],a):zr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=D0(t,0),e.length<=r.length?r:Ka(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=r.indexOf(".");var p=e.indexOf(".")-a,_=e.length-r.length-p;return Ka(e.substr(0,p)+r+e.substr(e.length-_))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=aI(t,s[1].length),t<0?"-"+bl(n,e,-t):af(xse(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?sc(0,3-b.length):"")+b})+"."+sc(a,s[1].length);switch(e){case"###,##0.00":return bl(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=af(D0(c,0));return m!=="0"?h+m:"";case"###,###.00":return bl(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return bl(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function wse(n,e,t){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return Ku(n,e.substr(0,i),t/Math.pow(10,3*(e.length-i)))}function bse(n,e,t){var i=e.replace(sM,""),r=e.length-i.length;return Ku(n,i,t*Math.pow(10,2*r))+zr("%",r)}function hM(n,e){var t,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+hM(n,-e);var r=n.indexOf(".");r===-1&&(r=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),t=(e/Math.pow(10,s)).toPrecision(i+1+(r+s)%r),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,h,f){return c+h+f.substr(0,(r+s)%r)+"."+f.substr(s)+"E"})}else t=e.toExponential(i);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Bc(n,e,t){if(n.charCodeAt(0)===40&&!e.match(cM)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Bc("n",i,t):"("+Bc("n",i,-t)+")"}if(e.charCodeAt(e.length-1)===44)return wse(n,e,t);if(e.indexOf("%")!==-1)return bse(n,e,t);if(e.indexOf("E")!==-1)return hM(e,t);if(e.charCodeAt(0)===36)return"$"+Bc(n,e.substr(e.charAt(1)==" "?2:1),t);var r,s,a,l,c=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+sc(c,e.length);if(e.match(/^[#?]+$/))return r=""+t,t===0&&(r=""),r.length>e.length?r:Ka(e.substr(0,e.length-r.length))+r;if(s=e.match(oM))return vse(s,c,h);if(e.match(/^#+0+$/))return h+sc(c,e.length-e.indexOf("0"));if(s=e.match(lM))return r=(""+t).replace(/^([^\.]+)$/,"$1."+Ka(s[1])).replace(/\.$/,"."+Ka(s[1])),r=r.replace(/\.(\d*)$/,function(b,x){return"."+x+zr("0",Ka(s[1]).length-x.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+af(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Bc(n,e,-t):af(""+t)+"."+zr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Bc(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=op(Bc(n,e.replace(/[\\-]/g,""),t)),a=0,op(op(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<r.length?r.charAt(a++):b==="0"?"0":""}));if(e.match(uM))return r=Bc(n,"##########",t),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=Dv(c,Math.pow(10,a)-1,!1),r=""+h,f=Ku("n",s[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),r+=f+s[2]+"/"+s[3],f=Iv(l[2],a),f.length<s[4].length&&(f=Ka(s[4].substr(s[4].length-f.length))+f),r+=f,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),l=Dv(c,Math.pow(10,a)-1,!0),h+(l[0]||(l[1]?"":"0"))+" "+(l[1]?YS(l[1],a)+s[2]+"/"+s[3]+Iv(l[2],a):zr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=""+t,e.length<=r.length?r:Ka(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=r.indexOf(".");var p=e.indexOf(".")-a,_=e.length-r.length-p;return Ka(e.substr(0,p)+r+e.substr(e.length-_))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Bc(n,e,-t):af(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?sc(0,3-b.length):"")+b})+"."+sc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=af(""+c);return m!=="0"?h+m:"";default:if(e.match(/\.[0#?]*$/))return Bc(n,e.slice(0,e.lastIndexOf(".")),t)+Ka(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ku(n,e,t){return(t|0)===t?Bc(n,e,t):bl(n,e,t)}function Ese(n){for(var e=[],t=!1,i=0,r=0;i<n.length;++i)switch(n.charCodeAt(i)){case 34:t=!t;break;case 95:case 42:case 92:++i;break;case 59:e[e.length]=n.substr(r,i-r),r=i+1}if(e[e.length]=n.substr(r),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var fM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dM(n){for(var e=0,t="",i="";e<n.length;)switch(t=n.charAt(e)){case"G":kv(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(i=t;n.charAt(e++)!=="]"&&e<n.length;)i+=n.charAt(e);if(i.match(fM))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Sse(n,e,t,i){for(var r=[],s="",a=0,l="",c="t",h,f,p,_="H";a<n.length;)switch(l=n.charAt(a)){case"G":if(!kv(n,a))throw new Error("unrecognized character "+l+" in "+n);r[r.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=n.charCodeAt(++a))!==34&&a<n.length;)s+=String.fromCharCode(p);r[r.length]={t:"t",v:s},++a;break;case"\\":var m=n.charAt(++a),b=m==="("||m===")"?m:"t";r[r.length]={t:b,v:m},++a;break;case"_":r[r.length]={t:"t",v:" "},a+=2;break;case"@":r[r.length]={t:"T",v:e},++a;break;case"B":case"b":if(n.charAt(a+1)==="1"||n.charAt(a+1)==="2"){if(h==null&&(h=r_(e,t,n.charAt(a+1)==="2"),h==null))return"";r[r.length]={t:"X",v:n.substr(a,2)},c=l,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=r_(e,t),h==null))return"";for(s=l;++a<n.length&&n.charAt(a).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=_),r[r.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(h==null&&(h=r_(e,t)),n.substr(a,3).toUpperCase()==="A/P"?(h!=null&&(x.v=h.H>=12?"P":"A"),x.t="T",_="h",a+=3):n.substr(a,5).toUpperCase()==="AM/PM"?(h!=null&&(x.v=h.H>=12?"PM":"AM"),x.t="T",a+=5,_="h"):n.substr(a,5).toUpperCase()==="/"?(h!=null&&(x.v=h.H>=12?"":""),x.t="T",a+=5,_="h"):(x.t="t",++a),h==null&&x.t==="T")return"";r[r.length]=x,c=l;break;case"[":for(s=l;n.charAt(a++)!=="]"&&a<n.length;)s+=n.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(fM)){if(h==null&&(h=r_(e,t),h==null))return"";r[r.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",dM(n)||(r[r.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=l;++a<n.length&&(l=n.charAt(a))==="0";)s+=l;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++a<n.length&&"0#?.,E+-%".indexOf(l=n.charAt(a))>-1;)s+=l;r[r.length]={t:"n",v:s};break;case"?":for(s=l;n.charAt(++a)===l;)s+=l;r[r.length]={t:l,v:s},c=l;break;case"*":++a,(n.charAt(a)==" "||n.charAt(a)=="*")&&++a;break;case"(":case")":r[r.length]={t:i===1?"t":l,v:l},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)s+=n.charAt(a);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:l,v:l},++a;break;case"$":r[r.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+n);r[r.length]={t:"t",v:l},++a;break}var E=0,A=0,P;for(a=r.length-1,c="t";a>=0;--a)switch(r[a].t){case"h":case"H":r[a].t=_,c="h",E<1&&(E=1);break;case"s":(P=r[a].v.match(/\.0+$/))&&(A=Math.max(A,P[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":c=r[a].t;break;case"m":c==="s"&&(r[a].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&r[a].v.match(/[Hh]/)&&(E=1),E<2&&r[a].v.match(/[Mm]/)&&(E=2),E<3&&r[a].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var L="",j;for(a=0;a<r.length;++a)switch(r[a].t){case"t":case"T":case" ":case"D":break;case"X":r[a].v="",r[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[a].v=pse(r[a].t.charCodeAt(0),r[a].v,h,A),r[a].t="t";break;case"n":case"?":for(j=a+1;r[j]!=null&&((l=r[j].t)==="?"||l==="D"||(l===" "||l==="t")&&r[j+1]!=null&&(r[j+1].t==="?"||r[j+1].t==="t"&&r[j+1].v==="/")||r[a].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(r[j].v==="/"||r[j].v===" "&&r[j+1]!=null&&r[j+1].t=="?"));)r[a].v+=r[j].v,r[j]={v:"",t:";"},++j;L+=r[a].v,a=j-1;break;case"G":r[a].t="t",r[a].v=qb(e,t);break}var Q="",ae,F;if(L.length>0){L.charCodeAt(0)==40?(ae=e<0&&L.charCodeAt(0)===45?-e:e,F=Ku("n",L,ae)):(ae=e<0&&i>1?-e:e,F=Ku("n",L,ae),ae<0&&r[0]&&r[0].t=="t"&&(F=F.substr(1),r[0].v="-"+r[0].v)),j=F.length-1;var R=r.length;for(a=0;a<r.length;++a)if(r[a]!=null&&r[a].t!="t"&&r[a].v.indexOf(".")>-1){R=a;break}var N=r.length;if(R===r.length&&F.indexOf("E")===-1){for(a=r.length-1;a>=0;--a)r[a]==null||"n?".indexOf(r[a].t)===-1||(j>=r[a].v.length-1?(j-=r[a].v.length,r[a].v=F.substr(j+1,r[a].v.length)):j<0?r[a].v="":(r[a].v=F.substr(0,j+1),j=-1),r[a].t="t",N=a);j>=0&&N<r.length&&(r[N].v=F.substr(0,j+1)+r[N].v)}else if(R!==r.length&&F.indexOf("E")===-1){for(j=F.indexOf(".")-1,a=R;a>=0;--a)if(!(r[a]==null||"n?".indexOf(r[a].t)===-1)){for(f=r[a].v.indexOf(".")>-1&&a===R?r[a].v.indexOf(".")-1:r[a].v.length-1,Q=r[a].v.substr(f+1);f>=0;--f)j>=0&&(r[a].v.charAt(f)==="0"||r[a].v.charAt(f)==="#")&&(Q=F.charAt(j--)+Q);r[a].v=Q,r[a].t="t",N=a}for(j>=0&&N<r.length&&(r[N].v=F.substr(0,j+1)+r[N].v),j=F.indexOf(".")+1,a=R;a<r.length;++a)if(!(r[a]==null||"n?(".indexOf(r[a].t)===-1&&a!==R)){for(f=r[a].v.indexOf(".")>-1&&a===R?r[a].v.indexOf(".")+1:0,Q=r[a].v.substr(0,f);f<r[a].v.length;++f)j<F.length&&(Q+=F.charAt(j++));r[a].v=Q,r[a].t="t",N=a}}}for(a=0;a<r.length;++a)r[a]!=null&&"n?".indexOf(r[a].t)>-1&&(ae=i>1&&e<0&&a>0&&r[a-1].v==="-"?-e:e,r[a].v=Ku(r[a].t,r[a].v,ae),r[a].t="t");var U="";for(a=0;a!==r.length;++a)r[a]!=null&&(U+=r[a].v);return U}var oI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function lI(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function Tse(n,e){var t=Ese(n),i=t.length,r=t[i-1].indexOf("@");if(i<4&&r>-1&&--i,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||r>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=r>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=r>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=r>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[i,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(oI),l=t[1].match(oI);return lI(e,a)?[i,t[0]]:lI(e,l)?[i,t[1]]:[i,t[a!=null&&l!=null?2:1]]}return[i,s]}function Cf(n,e,t){t==null&&(t={});var i="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?i=t.dateNF:i=n;break;case"number":n==14&&t.dateNF?i=t.dateNF:i=(t.table!=null?t.table:qr)[n],i==null&&(i=t.table&&t.table[rI[n]]||qr[rI[n]]),i==null&&(i=ase[n]||"General");break}if(kv(i,0))return qb(e,t);e instanceof Date&&(e=rM(e,t.date1904));var r=Tse(i,e);if(kv(r[1]))return qb(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Sse(r[1],e,t,r[0])}function pM(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(qr[t]==null){e<0&&(e=t);continue}if(qr[t]==n){e=t;break}}e<0&&(e=391)}return qr[e]=n,e}function Uy(n){for(var e=0;e!=392;++e)n[e]!==void 0&&pM(n[e],e)}function Vy(){qr=sse()}var gM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ase(n){var e=typeof n=="number"?qr[n]:n;return e=e.replace(gM,"(\\d+)"),new RegExp("^"+e+"$")}function Cse(n,e,t){var i=-1,r=-1,s=-1,a=-1,l=-1,c=-1;(e.match(gM)||[]).forEach(function(p,_){var m=parseInt(t[_+1],10);switch(p.toLowerCase().charAt(0)){case"y":i=m;break;case"d":s=m;break;case"h":a=m;break;case"s":c=m;break;case"m":a>=0?l=m:r=m;break}}),c>=0&&l==-1&&r>=0&&(l=r,r=-1);var h=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var f=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&l==-1&&c==-1?h:i==-1&&r==-1&&s==-1?f:h+"T"+f}var Nse=(function(){var n={};n.version="1.2.0";function e(){for(var F=0,R=new Array(256),N=0;N!=256;++N)F=N,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,R[N]=F;return typeof Int32Array<"u"?new Int32Array(R):R}var t=e();function i(F){var R=0,N=0,U=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)I[U]=F[U];for(U=0;U!=256;++U)for(N=F[U],R=256+U;R<4096;R+=256)N=I[R]=N>>>8^F[N&255];var M=[];for(U=1;U!=16;++U)M[U-1]=typeof Int32Array<"u"?I.subarray(U*256,U*256+256):I.slice(U*256,U*256+256);return M}var r=i(t),s=r[0],a=r[1],l=r[2],c=r[3],h=r[4],f=r[5],p=r[6],_=r[7],m=r[8],b=r[9],x=r[10],E=r[11],A=r[12],P=r[13],L=r[14];function j(F,R){for(var N=R^-1,U=0,I=F.length;U<I;)N=N>>>8^t[(N^F.charCodeAt(U++))&255];return~N}function Q(F,R){for(var N=R^-1,U=F.length-15,I=0;I<U;)N=L[F[I++]^N&255]^P[F[I++]^N>>8&255]^A[F[I++]^N>>16&255]^E[F[I++]^N>>>24]^x[F[I++]]^b[F[I++]]^m[F[I++]]^_[F[I++]]^p[F[I++]]^f[F[I++]]^h[F[I++]]^c[F[I++]]^l[F[I++]]^a[F[I++]]^s[F[I++]]^t[F[I++]];for(U+=15;I<U;)N=N>>>8^t[(N^F[I++])&255];return~N}function ae(F,R){for(var N=R^-1,U=0,I=F.length,M=0,z=0;U<I;)M=F.charCodeAt(U++),M<128?N=N>>>8^t[(N^M)&255]:M<2048?(N=N>>>8^t[(N^(192|M>>6&31))&255],N=N>>>8^t[(N^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,z=F.charCodeAt(U++)&1023,N=N>>>8^t[(N^(240|M>>8&7))&255],N=N>>>8^t[(N^(128|M>>2&63))&255],N=N>>>8^t[(N^(128|z>>6&15|(M&3)<<4))&255],N=N>>>8^t[(N^(128|z&63))&255]):(N=N>>>8^t[(N^(224|M>>12&15))&255],N=N>>>8^t[(N^(128|M>>6&63))&255],N=N>>>8^t[(N^(128|M&63))&255]);return~N}return n.table=t,n.bstr=j,n.buf=Q,n.str=ae,n})(),Wi=(function(){var e={};e.version="1.2.1";function t(J,pe){for(var oe=J.split("/"),le=pe.split("/"),fe=0,ve=0,Fe=Math.min(oe.length,le.length);fe<Fe;++fe){if(ve=oe[fe].length-le[fe].length)return ve;if(oe[fe]!=le[fe])return oe[fe]<le[fe]?-1:1}return oe.length-le.length}function i(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:i(J.slice(0,-1));var pe=J.lastIndexOf("/");return pe===-1?J:J.slice(0,pe+1)}function r(J){if(J.charAt(J.length-1)=="/")return r(J.slice(0,-1));var pe=J.lastIndexOf("/");return pe===-1?J:J.slice(pe+1)}function s(J,pe){typeof pe=="string"&&(pe=new Date(pe));var oe=pe.getHours();oe=oe<<6|pe.getMinutes(),oe=oe<<5|pe.getSeconds()>>>1,J.write_shift(2,oe);var le=pe.getFullYear()-1980;le=le<<4|pe.getMonth()+1,le=le<<5|pe.getDate(),J.write_shift(2,le)}function a(J){var pe=J.read_shift(2)&65535,oe=J.read_shift(2)&65535,le=new Date,fe=oe&31;oe>>>=5;var ve=oe&15;oe>>>=4,le.setMilliseconds(0),le.setFullYear(oe+1980),le.setMonth(ve-1),le.setDate(fe);var Fe=pe&31;pe>>>=5;var Ke=pe&63;return pe>>>=6,le.setHours(pe),le.setMinutes(Ke),le.setSeconds(Fe<<1),le}function l(J){Go(J,0);for(var pe={},oe=0;J.l<=J.length-4;){var le=J.read_shift(2),fe=J.read_shift(2),ve=J.l+fe,Fe={};switch(le){case 21589:oe=J.read_shift(1),oe&1&&(Fe.mtime=J.read_shift(4)),fe>5&&(oe&2&&(Fe.atime=J.read_shift(4)),oe&4&&(Fe.ctime=J.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3));break}J.l=ve,pe[le]=Fe}return pe}var c;function h(){return c||(c={})}function f(J,pe){if(J[0]==80&&J[1]==75)return tn(J,pe);if((J[0]|32)==109&&(J[1]|32)==105)return Kt(J,pe);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var oe=3,le=512,fe=0,ve=0,Fe=0,Ke=0,je=0,Ue=[],Ve=J.slice(0,512);Go(Ve,0);var ft=p(Ve);switch(oe=ft[0],oe){case 3:le=512;break;case 4:le=4096;break;case 0:if(ft[1]==0)return tn(J,pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}le!==512&&(Ve=J.slice(0,le),Go(Ve,28));var vt=J.slice(0,le);_(Ve,oe);var bt=Ve.read_shift(4,"i");if(oe===3&&bt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+bt);Ve.l+=4,Fe=Ve.read_shift(4,"i"),Ve.l+=4,Ve.chk("00100000","Mini Stream Cutoff Size: "),Ke=Ve.read_shift(4,"i"),fe=Ve.read_shift(4,"i"),je=Ve.read_shift(4,"i"),ve=Ve.read_shift(4,"i");for(var gt=-1,wt=0;wt<109&&(gt=Ve.read_shift(4,"i"),!(gt<0));++wt)Ue[wt]=gt;var Lt=m(J,le);E(je,ve,Lt,le,Ue);var ni=P(Lt,Fe,Ue,le);ni[Fe].name="!Directory",fe>0&&Ke!==z&&(ni[Ke].name="!MiniFAT"),ni[Ue[0]].name="!FAT",ni.fat_addrs=Ue,ni.ssz=le;var Dn={},ui=[],Gr=[],Xs=[];L(Fe,ni,Lt,ui,fe,Dn,Gr,Ke),b(Gr,Xs,ui),ui.shift();var _a={FileIndex:Gr,FullPaths:Xs};return pe&&pe.raw&&(_a.raw={header:vt,sectors:Lt}),_a}function p(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(de,"Header Signature: "),J.l+=16;var pe=J.read_shift(2,"u");return[J.read_shift(2,"u"),pe]}function _(J,pe){var oe=9;switch(J.l+=2,oe=J.read_shift(2)){case 9:if(pe!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(pe!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function m(J,pe){for(var oe=Math.ceil(J.length/pe)-1,le=[],fe=1;fe<oe;++fe)le[fe-1]=J.slice(fe*pe,(fe+1)*pe);return le[oe-1]=J.slice(oe*pe),le}function b(J,pe,oe){for(var le=0,fe=0,ve=0,Fe=0,Ke=0,je=oe.length,Ue=[],Ve=[];le<je;++le)Ue[le]=Ve[le]=le,pe[le]=oe[le];for(;Ke<Ve.length;++Ke)le=Ve[Ke],fe=J[le].L,ve=J[le].R,Fe=J[le].C,Ue[le]===le&&(fe!==-1&&Ue[fe]!==fe&&(Ue[le]=Ue[fe]),ve!==-1&&Ue[ve]!==ve&&(Ue[le]=Ue[ve])),Fe!==-1&&(Ue[Fe]=le),fe!==-1&&le!=Ue[le]&&(Ue[fe]=Ue[le],Ve.lastIndexOf(fe)<Ke&&Ve.push(fe)),ve!==-1&&le!=Ue[le]&&(Ue[ve]=Ue[le],Ve.lastIndexOf(ve)<Ke&&Ve.push(ve));for(le=1;le<je;++le)Ue[le]===le&&(ve!==-1&&Ue[ve]!==ve?Ue[le]=Ue[ve]:fe!==-1&&Ue[fe]!==fe&&(Ue[le]=Ue[fe]));for(le=1;le<je;++le)if(J[le].type!==0){if(Ke=le,Ke!=Ue[Ke])do Ke=Ue[Ke],pe[le]=pe[Ke]+"/"+pe[le];while(Ke!==0&&Ue[Ke]!==-1&&Ke!=Ue[Ke]);Ue[le]=-1}for(pe[0]+="/",le=1;le<je;++le)J[le].type!==2&&(pe[le]+="/")}function x(J,pe,oe){for(var le=J.start,fe=J.size,ve=[],Fe=le;oe&&fe>0&&Fe>=0;)ve.push(pe.slice(Fe*M,Fe*M+M)),fe-=M,Fe=hd(oe,Fe*4);return ve.length===0?Ze(0):ha(ve).slice(0,J.size)}function E(J,pe,oe,le,fe){var ve=z;if(J===z){if(pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var Fe=oe[J],Ke=(le>>>2)-1;if(!Fe)return;for(var je=0;je<Ke&&(ve=hd(Fe,je*4))!==z;++je)fe.push(ve);E(hd(Fe,le-4),pe-1,oe,le,fe)}}function A(J,pe,oe,le,fe){var ve=[],Fe=[];fe||(fe=[]);var Ke=le-1,je=0,Ue=0;for(je=pe;je>=0;){fe[je]=!0,ve[ve.length]=je,Fe.push(J[je]);var Ve=oe[Math.floor(je*4/le)];if(Ue=je*4&Ke,le<4+Ue)throw new Error("FAT boundary crossed: "+je+" 4 "+le);if(!J[Ve])break;je=hd(J[Ve],Ue)}return{nodes:ve,data:mI([Fe])}}function P(J,pe,oe,le){var fe=J.length,ve=[],Fe=[],Ke=[],je=[],Ue=le-1,Ve=0,ft=0,vt=0,bt=0;for(Ve=0;Ve<fe;++Ve)if(Ke=[],vt=Ve+pe,vt>=fe&&(vt-=fe),!Fe[vt]){je=[];var gt=[];for(ft=vt;ft>=0;){gt[ft]=!0,Fe[ft]=!0,Ke[Ke.length]=ft,je.push(J[ft]);var wt=oe[Math.floor(ft*4/le)];if(bt=ft*4&Ue,le<4+bt)throw new Error("FAT boundary crossed: "+ft+" 4 "+le);if(!J[wt]||(ft=hd(J[wt],bt),gt[ft]))break}ve[vt]={nodes:Ke,data:mI([je])}}return ve}function L(J,pe,oe,le,fe,ve,Fe,Ke){for(var je=0,Ue=le.length?2:0,Ve=pe[J].data,ft=0,vt=0,bt;ft<Ve.length;ft+=128){var gt=Ve.slice(ft,ft+128);Go(gt,64),vt=gt.read_shift(2),bt=eT(gt,0,vt-Ue),le.push(bt);var wt={name:bt,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},Lt=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Lt!==0&&(wt.ct=j(gt,gt.l-8));var ni=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);ni!==0&&(wt.mt=j(gt,gt.l-8)),wt.start=gt.read_shift(4,"i"),wt.size=gt.read_shift(4,"i"),wt.size<0&&wt.start<0&&(wt.size=wt.type=0,wt.start=z,wt.name=""),wt.type===5?(je=wt.start,fe>0&&je!==z&&(pe[je].name="!StreamData")):wt.size>=4096?(wt.storage="fat",pe[wt.start]===void 0&&(pe[wt.start]=A(oe,wt.start,pe.fat_addrs,pe.ssz)),pe[wt.start].name=wt.name,wt.content=pe[wt.start].data.slice(0,wt.size)):(wt.storage="minifat",wt.size<0?wt.size=0:je!==z&&wt.start!==z&&pe[je]&&(wt.content=x(wt,pe[je].data,(pe[Ke]||{}).data))),wt.content&&Go(wt.content,0),ve[bt]=wt,Fe.push(wt)}}function j(J,pe){return new Date((Yo(J,pe+4)/1e7*Math.pow(2,32)+Yo(J,pe)/1e7-11644473600)*1e3)}function Q(J,pe){return h(),f(c.readFileSync(J),pe)}function ae(J,pe){var oe=pe&&pe.type;switch(oe||Ei&&Buffer.isBuffer(J)&&(oe="buffer"),oe||"base64"){case"file":return Q(J,pe);case"base64":return f(ec(ah(J)),pe);case"binary":return f(ec(J),pe)}return f(J,pe)}function F(J,pe){var oe=pe||{},le=oe.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=le+"/",J.FileIndex[0]={name:le,type:5}),oe.CLSID&&(J.FileIndex[0].clsid=oe.CLSID),R(J)}function R(J){var pe="Sh33tJ5";if(!Wi.find(J,"/"+pe)){var oe=Ze(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,J.FileIndex.push({name:pe,type:2,content:oe,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+pe),N(J)}}function N(J,pe){F(J);for(var oe=!1,le=!1,fe=J.FullPaths.length-1;fe>=0;--fe){var ve=J.FileIndex[fe];switch(ve.type){case 0:le?oe=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:le=!0,isNaN(ve.R*ve.L*ve.C)&&(oe=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!pe)){var Fe=new Date(1987,1,19),Ke=0,je=Object.create?Object.create(null):{},Ue=[];for(fe=0;fe<J.FullPaths.length;++fe)je[J.FullPaths[fe]]=!0,J.FileIndex[fe].type!==0&&Ue.push([J.FullPaths[fe],J.FileIndex[fe]]);for(fe=0;fe<Ue.length;++fe){var Ve=i(Ue[fe][0]);le=je[Ve],le||(Ue.push([Ve,{name:r(Ve).replace("/",""),type:1,clsid:ce,ct:Fe,mt:Fe,content:null}]),je[Ve]=!0)}for(Ue.sort(function(bt,gt){return t(bt[0],gt[0])}),J.FullPaths=[],J.FileIndex=[],fe=0;fe<Ue.length;++fe)J.FullPaths[fe]=Ue[fe][0],J.FileIndex[fe]=Ue[fe][1];for(fe=0;fe<Ue.length;++fe){var ft=J.FileIndex[fe],vt=J.FullPaths[fe];if(ft.name=r(vt).replace("/",""),ft.L=ft.R=ft.C=-(ft.color=1),ft.size=ft.content?ft.content.length:0,ft.start=0,ft.clsid=ft.clsid||ce,fe===0)ft.C=Ue.length>1?1:-1,ft.size=0,ft.type=5;else if(vt.slice(-1)=="/"){for(Ke=fe+1;Ke<Ue.length&&i(J.FullPaths[Ke])!=vt;++Ke);for(ft.C=Ke>=Ue.length?-1:Ke,Ke=fe+1;Ke<Ue.length&&i(J.FullPaths[Ke])!=i(vt);++Ke);ft.R=Ke>=Ue.length?-1:Ke,ft.type=1}else i(J.FullPaths[fe+1]||"")==i(vt)&&(ft.R=fe+1),ft.type=2}}}function U(J,pe){var oe=pe||{};if(oe.fileType=="mad")return Ua(J,oe);switch(N(J),oe.fileType){case"zip":return Wt(J,oe)}var le=(function(bt){for(var gt=0,wt=0,Lt=0;Lt<bt.FileIndex.length;++Lt){var ni=bt.FileIndex[Lt];if(ni.content){var Dn=ni.content.length;Dn>0&&(Dn<4096?gt+=Dn+63>>6:wt+=Dn+511>>9)}}for(var ui=bt.FullPaths.length+3>>2,Gr=gt+7>>3,Xs=gt+127>>7,_a=Gr+wt+ui+Xs,ks=_a+127>>7,Io=ks<=109?0:Math.ceil((ks-109)/127);_a+ks+Io+127>>7>ks;)Io=++ks<=109?0:Math.ceil((ks-109)/127);var Yi=[1,Io,ks,Xs,ui,wt,gt,0];return bt.FileIndex[0].size=gt<<6,Yi[7]=(bt.FileIndex[0].start=Yi[0]+Yi[1]+Yi[2]+Yi[3]+Yi[4]+Yi[5])+(Yi[6]+7>>3),Yi})(J),fe=Ze(le[7]<<9),ve=0,Fe=0;{for(ve=0;ve<8;++ve)fe.write_shift(1,we[ve]);for(ve=0;ve<8;++ve)fe.write_shift(2,0);for(fe.write_shift(2,62),fe.write_shift(2,3),fe.write_shift(2,65534),fe.write_shift(2,9),fe.write_shift(2,6),ve=0;ve<3;++ve)fe.write_shift(2,0);for(fe.write_shift(4,0),fe.write_shift(4,le[2]),fe.write_shift(4,le[0]+le[1]+le[2]+le[3]-1),fe.write_shift(4,0),fe.write_shift(4,4096),fe.write_shift(4,le[3]?le[0]+le[1]+le[2]-1:z),fe.write_shift(4,le[3]),fe.write_shift(-4,le[1]?le[0]-1:z),fe.write_shift(4,le[1]),ve=0;ve<109;++ve)fe.write_shift(-4,ve<le[2]?le[1]+ve:-1)}if(le[1])for(Fe=0;Fe<le[1];++Fe){for(;ve<236+Fe*127;++ve)fe.write_shift(-4,ve<le[2]?le[1]+ve:-1);fe.write_shift(-4,Fe===le[1]-1?z:Fe+1)}var Ke=function(bt){for(Fe+=bt;ve<Fe-1;++ve)fe.write_shift(-4,ve+1);bt&&(++ve,fe.write_shift(-4,z))};for(Fe=ve=0,Fe+=le[1];ve<Fe;++ve)fe.write_shift(-4,ye.DIFSECT);for(Fe+=le[2];ve<Fe;++ve)fe.write_shift(-4,ye.FATSECT);Ke(le[3]),Ke(le[4]);for(var je=0,Ue=0,Ve=J.FileIndex[0];je<J.FileIndex.length;++je)Ve=J.FileIndex[je],Ve.content&&(Ue=Ve.content.length,!(Ue<4096)&&(Ve.start=Fe,Ke(Ue+511>>9)));for(Ke(le[6]+7>>3);fe.l&511;)fe.write_shift(-4,ye.ENDOFCHAIN);for(Fe=ve=0,je=0;je<J.FileIndex.length;++je)Ve=J.FileIndex[je],Ve.content&&(Ue=Ve.content.length,!(!Ue||Ue>=4096)&&(Ve.start=Fe,Ke(Ue+63>>6)));for(;fe.l&511;)fe.write_shift(-4,ye.ENDOFCHAIN);for(ve=0;ve<le[4]<<2;++ve){var ft=J.FullPaths[ve];if(!ft||ft.length===0){for(je=0;je<17;++je)fe.write_shift(4,0);for(je=0;je<3;++je)fe.write_shift(4,-1);for(je=0;je<12;++je)fe.write_shift(4,0);continue}Ve=J.FileIndex[ve],ve===0&&(Ve.start=Ve.size?Ve.start-1:z);var vt=ve===0&&oe.root||Ve.name;if(Ue=2*(vt.length+1),fe.write_shift(64,vt,"utf16le"),fe.write_shift(2,Ue),fe.write_shift(1,Ve.type),fe.write_shift(1,Ve.color),fe.write_shift(-4,Ve.L),fe.write_shift(-4,Ve.R),fe.write_shift(-4,Ve.C),Ve.clsid)fe.write_shift(16,Ve.clsid,"hex");else for(je=0;je<4;++je)fe.write_shift(4,0);fe.write_shift(4,Ve.state||0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,Ve.start),fe.write_shift(4,Ve.size),fe.write_shift(4,0)}for(ve=1;ve<J.FileIndex.length;++ve)if(Ve=J.FileIndex[ve],Ve.size>=4096)if(fe.l=Ve.start+1<<9,Ei&&Buffer.isBuffer(Ve.content))Ve.content.copy(fe,fe.l,0,Ve.size),fe.l+=Ve.size+511&-512;else{for(je=0;je<Ve.size;++je)fe.write_shift(1,Ve.content[je]);for(;je&511;++je)fe.write_shift(1,0)}for(ve=1;ve<J.FileIndex.length;++ve)if(Ve=J.FileIndex[ve],Ve.size>0&&Ve.size<4096)if(Ei&&Buffer.isBuffer(Ve.content))Ve.content.copy(fe,fe.l,0,Ve.size),fe.l+=Ve.size+63&-64;else{for(je=0;je<Ve.size;++je)fe.write_shift(1,Ve.content[je]);for(;je&63;++je)fe.write_shift(1,0)}if(Ei)fe.l=fe.length;else for(;fe.l<fe.length;)fe.write_shift(1,0);return fe}function I(J,pe){var oe=J.FullPaths.map(function(je){return je.toUpperCase()}),le=oe.map(function(je){var Ue=je.split("/");return Ue[Ue.length-(je.slice(-1)=="/"?2:1)]}),fe=!1;pe.charCodeAt(0)===47?(fe=!0,pe=oe[0].slice(0,-1)+pe):fe=pe.indexOf("/")!==-1;var ve=pe.toUpperCase(),Fe=fe===!0?oe.indexOf(ve):le.indexOf(ve);if(Fe!==-1)return J.FileIndex[Fe];var Ke=!ve.match(i_);for(ve=ve.replace(ym,""),Ke&&(ve=ve.replace(i_,"!")),Fe=0;Fe<oe.length;++Fe)if((Ke?oe[Fe].replace(i_,"!"):oe[Fe]).replace(ym,"")==ve||(Ke?le[Fe].replace(i_,"!"):le[Fe]).replace(ym,"")==ve)return J.FileIndex[Fe];return null}var M=64,z=-2,de="d0cf11e0a1b11ae1",we=[208,207,17,224,161,177,26,225],ce="00000000000000000000000000000000",ye={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:de,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ce,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function be(J,pe,oe){h();var le=U(J,oe);c.writeFileSync(pe,le)}function Ne(J){for(var pe=new Array(J.length),oe=0;oe<J.length;++oe)pe[oe]=String.fromCharCode(J[oe]);return pe.join("")}function $e(J,pe){var oe=U(J,pe);switch(pe&&pe.type||"buffer"){case"file":return h(),c.writeFileSync(pe.filename,oe),oe;case"binary":return typeof oe=="string"?oe:Ne(oe);case"base64":return Xm(typeof oe=="string"?oe:Ne(oe));case"buffer":if(Ei)return Buffer.isBuffer(oe)?oe:ph(oe);case"array":return typeof oe=="string"?ec(oe):oe}return oe}var se;function k(J){try{var pe=J.InflateRaw,oe=new pe;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)se=J;else throw new Error("zlib does not expose bytesRead")}catch(le){console.error("cannot use native zlib: "+(le.message||le))}}function G(J,pe){if(!se)return Wn(J,pe);var oe=se.InflateRaw,le=new oe,fe=le._processChunk(J.slice(J.l),le._finishFlushFlag);return J.l+=le.bytesRead,fe}function W(J){return se?se.deflateRawSync(J):gn(J)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ae(J){var pe=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(pe>>16|pe>>8|pe)&255}for(var Te=typeof Uint8Array<"u",Ie=Te?new Uint8Array(256):[],et=0;et<256;++et)Ie[et]=Ae(et);function lt(J,pe){var oe=Ie[J&255];return pe<=8?oe>>>8-pe:(oe=oe<<8|Ie[J>>8&255],pe<=16?oe>>>16-pe:(oe=oe<<8|Ie[J>>16&255],oe>>>24-pe))}function yt(J,pe){var oe=pe&7,le=pe>>>3;return(J[le]|(oe<=6?0:J[le+1]<<8))>>>oe&3}function _t(J,pe){var oe=pe&7,le=pe>>>3;return(J[le]|(oe<=5?0:J[le+1]<<8))>>>oe&7}function he(J,pe){var oe=pe&7,le=pe>>>3;return(J[le]|(oe<=4?0:J[le+1]<<8))>>>oe&15}function pt(J,pe){var oe=pe&7,le=pe>>>3;return(J[le]|(oe<=3?0:J[le+1]<<8))>>>oe&31}function ht(J,pe){var oe=pe&7,le=pe>>>3;return(J[le]|(oe<=1?0:J[le+1]<<8))>>>oe&127}function It(J,pe,oe){var le=pe&7,fe=pe>>>3,ve=(1<<oe)-1,Fe=J[fe]>>>le;return oe<8-le||(Fe|=J[fe+1]<<8-le,oe<16-le)||(Fe|=J[fe+2]<<16-le,oe<24-le)||(Fe|=J[fe+3]<<24-le),Fe&ve}function Qe(J,pe,oe){var le=pe&7,fe=pe>>>3;return le<=5?J[fe]|=(oe&7)<<le:(J[fe]|=oe<<le&255,J[fe+1]=(oe&7)>>8-le),pe+3}function Ct(J,pe,oe){var le=pe&7,fe=pe>>>3;return oe=(oe&1)<<le,J[fe]|=oe,pe+1}function At(J,pe,oe){var le=pe&7,fe=pe>>>3;return oe<<=le,J[fe]|=oe&255,oe>>>=8,J[fe+1]=oe,pe+8}function Xt(J,pe,oe){var le=pe&7,fe=pe>>>3;return oe<<=le,J[fe]|=oe&255,oe>>>=8,J[fe+1]=oe&255,J[fe+2]=oe>>>8,pe+16}function qt(J,pe){var oe=J.length,le=2*oe>pe?2*oe:pe+5,fe=0;if(oe>=pe)return J;if(Ei){var ve=tI(le);if(J.copy)J.copy(ve);else for(;fe<J.length;++fe)ve[fe]=J[fe];return ve}else if(Te){var Fe=new Uint8Array(le);if(Fe.set)Fe.set(J);else for(;fe<oe;++fe)Fe[fe]=J[fe];return Fe}return J.length=le,J}function Zt(J){for(var pe=new Array(J),oe=0;oe<J;++oe)pe[oe]=0;return pe}function mn(J,pe,oe){var le=1,fe=0,ve=0,Fe=0,Ke=0,je=J.length,Ue=Te?new Uint16Array(32):Zt(32);for(ve=0;ve<32;++ve)Ue[ve]=0;for(ve=je;ve<oe;++ve)J[ve]=0;je=J.length;var Ve=Te?new Uint16Array(je):Zt(je);for(ve=0;ve<je;++ve)Ue[fe=J[ve]]++,le<fe&&(le=fe),Ve[ve]=0;for(Ue[0]=0,ve=1;ve<=le;++ve)Ue[ve+16]=Ke=Ke+Ue[ve-1]<<1;for(ve=0;ve<je;++ve)Ke=J[ve],Ke!=0&&(Ve[ve]=Ue[Ke+16]++);var ft=0;for(ve=0;ve<je;++ve)if(ft=J[ve],ft!=0)for(Ke=lt(Ve[ve],le)>>le-ft,Fe=(1<<le+4-ft)-1;Fe>=0;--Fe)pe[Ke|Fe<<ft]=ft&15|ve<<4;return le}var un=Te?new Uint16Array(512):Zt(512),Tn=Te?new Uint16Array(32):Zt(32);if(!Te){for(var hn=0;hn<512;++hn)un[hn]=0;for(hn=0;hn<32;++hn)Tn[hn]=0}(function(){for(var J=[],pe=0;pe<32;pe++)J.push(5);mn(J,Tn,32);var oe=[];for(pe=0;pe<=143;pe++)oe.push(8);for(;pe<=255;pe++)oe.push(9);for(;pe<=279;pe++)oe.push(7);for(;pe<=287;pe++)oe.push(8);mn(oe,un,288)})();var Bt=(function(){for(var pe=Te?new Uint8Array(32768):[],oe=0,le=0;oe<xe.length-1;++oe)for(;le<xe[oe+1];++le)pe[le]=oe;for(;le<32768;++le)pe[le]=29;var fe=Te?new Uint8Array(259):[];for(oe=0,le=0;oe<ne.length-1;++oe)for(;le<ne[oe+1];++le)fe[le]=oe;function ve(Ke,je){for(var Ue=0;Ue<Ke.length;){var Ve=Math.min(65535,Ke.length-Ue),ft=Ue+Ve==Ke.length;for(je.write_shift(1,+ft),je.write_shift(2,Ve),je.write_shift(2,~Ve&65535);Ve-- >0;)je[je.l++]=Ke[Ue++]}return je.l}function Fe(Ke,je){for(var Ue=0,Ve=0,ft=Te?new Uint16Array(32768):[];Ve<Ke.length;){var vt=Math.min(65535,Ke.length-Ve);if(vt<10){for(Ue=Qe(je,Ue,+(Ve+vt==Ke.length)),Ue&7&&(Ue+=8-(Ue&7)),je.l=Ue/8|0,je.write_shift(2,vt),je.write_shift(2,~vt&65535);vt-- >0;)je[je.l++]=Ke[Ve++];Ue=je.l*8;continue}Ue=Qe(je,Ue,+(Ve+vt==Ke.length)+2);for(var bt=0;vt-- >0;){var gt=Ke[Ve];bt=(bt<<5^gt)&32767;var wt=-1,Lt=0;if((wt=ft[bt])&&(wt|=Ve&-32768,wt>Ve&&(wt-=32768),wt<Ve))for(;Ke[wt+Lt]==Ke[Ve+Lt]&&Lt<250;)++Lt;if(Lt>2){gt=fe[Lt],gt<=22?Ue=At(je,Ue,Ie[gt+1]>>1)-1:(At(je,Ue,3),Ue+=5,At(je,Ue,Ie[gt-23]>>5),Ue+=3);var ni=gt<8?0:gt-4>>2;ni>0&&(Xt(je,Ue,Lt-ne[gt]),Ue+=ni),gt=pe[Ve-wt],Ue=At(je,Ue,Ie[gt]>>3),Ue-=3;var Dn=gt<4?0:gt-2>>1;Dn>0&&(Xt(je,Ue,Ve-wt-xe[gt]),Ue+=Dn);for(var ui=0;ui<Lt;++ui)ft[bt]=Ve&32767,bt=(bt<<5^Ke[Ve])&32767,++Ve;vt-=Lt-1}else gt<=143?gt=gt+48:Ue=Ct(je,Ue,1),Ue=At(je,Ue,Ie[gt]),ft[bt]=Ve&32767,++Ve}Ue=At(je,Ue,0)-1}return je.l=(Ue+7)/8|0,je.l}return function(je,Ue){return je.length<8?ve(je,Ue):Fe(je,Ue)}})();function gn(J){var pe=Ze(50+Math.floor(J.length*1.1)),oe=Bt(J,pe);return pe.slice(0,oe)}var jt=Te?new Uint16Array(32768):Zt(32768),Ci=Te?new Uint16Array(32768):Zt(32768),yn=Te?new Uint16Array(128):Zt(128),$t=1,an=1;function xn(J,pe){var oe=pt(J,pe)+257;pe+=5;var le=pt(J,pe)+1;pe+=5;var fe=he(J,pe)+4;pe+=4;for(var ve=0,Fe=Te?new Uint8Array(19):Zt(19),Ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],je=1,Ue=Te?new Uint8Array(8):Zt(8),Ve=Te?new Uint8Array(8):Zt(8),ft=Fe.length,vt=0;vt<fe;++vt)Fe[Y[vt]]=ve=_t(J,pe),je<ve&&(je=ve),Ue[ve]++,pe+=3;var bt=0;for(Ue[0]=0,vt=1;vt<=je;++vt)Ve[vt]=bt=bt+Ue[vt-1]<<1;for(vt=0;vt<ft;++vt)(bt=Fe[vt])!=0&&(Ke[vt]=Ve[bt]++);var gt=0;for(vt=0;vt<ft;++vt)if(gt=Fe[vt],gt!=0){bt=Ie[Ke[vt]]>>8-gt;for(var wt=(1<<7-gt)-1;wt>=0;--wt)yn[bt|wt<<gt]=gt&7|vt<<3}var Lt=[];for(je=1;Lt.length<oe+le;)switch(bt=yn[ht(J,pe)],pe+=bt&7,bt>>>=3){case 16:for(ve=3+yt(J,pe),pe+=2,bt=Lt[Lt.length-1];ve-- >0;)Lt.push(bt);break;case 17:for(ve=3+_t(J,pe),pe+=3;ve-- >0;)Lt.push(0);break;case 18:for(ve=11+ht(J,pe),pe+=7;ve-- >0;)Lt.push(0);break;default:Lt.push(bt),je<bt&&(je=bt);break}var ni=Lt.slice(0,oe),Dn=Lt.slice(oe);for(vt=oe;vt<286;++vt)ni[vt]=0;for(vt=le;vt<30;++vt)Dn[vt]=0;return $t=mn(ni,jt,286),an=mn(Dn,Ci,30),pe}function Yt(J,pe){if(J[0]==3&&!(J[1]&3))return[Id(pe),2];for(var oe=0,le=0,fe=tI(pe||1<<18),ve=0,Fe=fe.length>>>0,Ke=0,je=0;(le&1)==0;){if(le=_t(J,oe),oe+=3,le>>>1)le>>1==1?(Ke=9,je=5):(oe=xn(J,oe),Ke=$t,je=an);else{oe&7&&(oe+=8-(oe&7));var Ue=J[oe>>>3]|J[(oe>>>3)+1]<<8;if(oe+=32,Ue>0)for(!pe&&Fe<ve+Ue&&(fe=qt(fe,ve+Ue),Fe=fe.length);Ue-- >0;)fe[ve++]=J[oe>>>3],oe+=8;continue}for(;;){!pe&&Fe<ve+32767&&(fe=qt(fe,ve+32767),Fe=fe.length);var Ve=It(J,oe,Ke),ft=le>>>1==1?un[Ve]:jt[Ve];if(oe+=ft&15,ft>>>=4,(ft>>>8&255)===0)fe[ve++]=ft;else{if(ft==256)break;ft-=257;var vt=ft<8?0:ft-4>>2;vt>5&&(vt=0);var bt=ve+ne[ft];vt>0&&(bt+=It(J,oe,vt),oe+=vt),Ve=It(J,oe,je),ft=le>>>1==1?Tn[Ve]:Ci[Ve],oe+=ft&15,ft>>>=4;var gt=ft<4?0:ft-2>>1,wt=xe[ft];for(gt>0&&(wt+=It(J,oe,gt),oe+=gt),!pe&&Fe<bt&&(fe=qt(fe,bt+100),Fe=fe.length);ve<bt;)fe[ve]=fe[ve-wt],++ve}}}return pe?[fe,oe+7>>>3]:[fe.slice(0,ve),oe+7>>>3]}function Wn(J,pe){var oe=J.slice(J.l||0),le=Yt(oe,pe);return J.l+=le[1],le[0]}function en(J,pe){if(J)typeof console<"u"&&console.error(pe);else throw new Error(pe)}function tn(J,pe){var oe=J;Go(oe,0);var le=[],fe=[],ve={FileIndex:le,FullPaths:fe};F(ve,{root:pe.root});for(var Fe=oe.length-4;(oe[Fe]!=80||oe[Fe+1]!=75||oe[Fe+2]!=5||oe[Fe+3]!=6)&&Fe>=0;)--Fe;oe.l=Fe+4,oe.l+=4;var Ke=oe.read_shift(2);oe.l+=6;var je=oe.read_shift(4);for(oe.l=je,Fe=0;Fe<Ke;++Fe){oe.l+=20;var Ue=oe.read_shift(4),Ve=oe.read_shift(4),ft=oe.read_shift(2),vt=oe.read_shift(2),bt=oe.read_shift(2);oe.l+=8;var gt=oe.read_shift(4),wt=l(oe.slice(oe.l+ft,oe.l+ft+vt));oe.l+=ft+vt+bt;var Lt=oe.l;oe.l=gt+4,ti(oe,Ue,Ve,ve,wt),oe.l=Lt}return ve}function ti(J,pe,oe,le,fe){J.l+=2;var ve=J.read_shift(2),Fe=J.read_shift(2),Ke=a(J);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var je=J.read_shift(4),Ue=J.read_shift(4),Ve=J.read_shift(4),ft=J.read_shift(2),vt=J.read_shift(2),bt="",gt=0;gt<ft;++gt)bt+=String.fromCharCode(J[J.l++]);if(vt){var wt=l(J.slice(J.l,J.l+vt));(wt[21589]||{}).mt&&(Ke=wt[21589].mt),((fe||{})[21589]||{}).mt&&(Ke=fe[21589].mt)}J.l+=vt;var Lt=J.slice(J.l,J.l+Ue);switch(Fe){case 8:Lt=G(J,Ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var ni=!1;ve&8&&(je=J.read_shift(4),je==134695760&&(je=J.read_shift(4),ni=!0),Ue=J.read_shift(4),Ve=J.read_shift(4)),Ue!=pe&&en(ni,"Bad compressed size: "+pe+" != "+Ue),Ve!=oe&&en(ni,"Bad uncompressed size: "+oe+" != "+Ve),Lr(le,bt,Lt,{unsafe:!0,mt:Ke})}function Wt(J,pe){var oe=pe||{},le=[],fe=[],ve=Ze(1),Fe=oe.compression?8:0,Ke=0,je=0,Ue=0,Ve=0,ft=0,vt=J.FullPaths[0],bt=vt,gt=J.FileIndex[0],wt=[],Lt=0;for(je=1;je<J.FullPaths.length;++je)if(bt=J.FullPaths[je].slice(vt.length),gt=J.FileIndex[je],!(!gt.size||!gt.content||bt=="Sh33tJ5")){var ni=Ve,Dn=Ze(bt.length);for(Ue=0;Ue<bt.length;++Ue)Dn.write_shift(1,bt.charCodeAt(Ue)&127);Dn=Dn.slice(0,Dn.l),wt[ft]=Nse.buf(gt.content,0);var ui=gt.content;Fe==8&&(ui=W(ui)),ve=Ze(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,Ke),ve.write_shift(2,Fe),gt.mt?s(ve,gt.mt):ve.write_shift(4,0),ve.write_shift(-4,wt[ft]),ve.write_shift(4,ui.length),ve.write_shift(4,gt.content.length),ve.write_shift(2,Dn.length),ve.write_shift(2,0),Ve+=ve.length,le.push(ve),Ve+=Dn.length,le.push(Dn),Ve+=ui.length,le.push(ui),ve=Ze(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,Ke),ve.write_shift(2,Fe),ve.write_shift(4,0),ve.write_shift(-4,wt[ft]),ve.write_shift(4,ui.length),ve.write_shift(4,gt.content.length),ve.write_shift(2,Dn.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,ni),Lt+=ve.l,fe.push(ve),Lt+=Dn.length,fe.push(Dn),++ft}return ve=Ze(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,ft),ve.write_shift(2,ft),ve.write_shift(4,Lt),ve.write_shift(4,Ve),ve.write_shift(2,0),ha([ha(le),ha(fe),ve])}var Mt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function In(J,pe){if(J.ctype)return J.ctype;var oe=J.name||"",le=oe.match(/\.([^\.]+)$/);return le&&Mt[le[1]]||pe&&(le=(oe=pe).match(/[\.\\]([^\.\\])+$/),le&&Mt[le[1]])?Mt[le[1]]:"application/octet-stream"}function Wr(J){for(var pe=Xm(J),oe=[],le=0;le<pe.length;le+=76)oe.push(pe.slice(le,le+76));return oe.join(`\r
`)+`\r
`}function Dr(J){var pe=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var Ve=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+(Ve.length==1?"0"+Ve:Ve)});pe=pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pe.charAt(0)==`
`&&(pe="=0D"+pe.slice(1)),pe=pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],le=pe.split(`\r
`),fe=0;fe<le.length;++fe){var ve=le[fe];if(ve.length==0){oe.push("");continue}for(var Fe=0;Fe<ve.length;){var Ke=76,je=ve.slice(Fe,Fe+Ke);je.charAt(Ke-1)=="="?Ke--:je.charAt(Ke-2)=="="?Ke-=2:je.charAt(Ke-3)=="="&&(Ke-=3),je=ve.slice(Fe,Fe+Ke),Fe+=Ke,Fe<ve.length&&(je+="="),oe.push(je)}}return oe.join(`\r
`)}function ma(J){for(var pe=[],oe=0;oe<J.length;++oe){for(var le=J[oe];oe<=J.length&&le.charAt(le.length-1)=="=";)le=le.slice(0,le.length-1)+J[++oe];pe.push(le)}for(var fe=0;fe<pe.length;++fe)pe[fe]=pe[fe].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return ec(pe.join(`\r
`))}function Sr(J,pe,oe){for(var le="",fe="",ve="",Fe,Ke=0;Ke<10;++Ke){var je=pe[Ke];if(!je||je.match(/^\s*$/))break;var Ue=je.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":le=Ue[2].trim();break;case"content-type":ve=Ue[2].trim();break;case"content-transfer-encoding":fe=Ue[2].trim();break}}switch(++Ke,fe.toLowerCase()){case"base64":Fe=ec(ah(pe.slice(Ke).join("")));break;case"quoted-printable":Fe=ma(pe.slice(Ke));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+fe)}var Ve=Lr(J,le.slice(oe.length),Fe,{unsafe:!0});ve&&(Ve.ctype=ve)}function Kt(J,pe){if(Ne(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=pe&&pe.root||"",le=(Ei&&Buffer.isBuffer(J)?J.toString("binary"):Ne(J)).split(`\r
`),fe=0,ve="";for(fe=0;fe<le.length;++fe)if(ve=le[fe],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),oe||(oe=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),ve.slice(0,oe.length)!=oe););var Fe=(le[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var Ke="--"+(Fe[1]||""),je=[],Ue=[],Ve={FileIndex:je,FullPaths:Ue};F(Ve);var ft,vt=0;for(fe=0;fe<le.length;++fe){var bt=le[fe];bt!==Ke&&bt!==Ke+"--"||(vt++&&Sr(Ve,le.slice(ft,fe),oe),ft=fe)}return Ve}function Ua(J,pe){var oe=pe||{},le=oe.boundary||"SheetJS";le="------="+le;for(var fe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+le.slice(2)+'"',"","",""],ve=J.FullPaths[0],Fe=ve,Ke=J.FileIndex[0],je=1;je<J.FullPaths.length;++je)if(Fe=J.FullPaths[je].slice(ve.length),Ke=J.FileIndex[je],!(!Ke.size||!Ke.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Lt){return"_x"+Lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Lt){return"_u"+Lt.charCodeAt(0).toString(16)+"_"});for(var Ue=Ke.content,Ve=Ei&&Buffer.isBuffer(Ue)?Ue.toString("binary"):Ne(Ue),ft=0,vt=Math.min(1024,Ve.length),bt=0,gt=0;gt<=vt;++gt)(bt=Ve.charCodeAt(gt))>=32&&bt<128&&++ft;var wt=ft>=vt*4/5;fe.push(le),fe.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Fe),fe.push("Content-Transfer-Encoding: "+(wt?"quoted-printable":"base64")),fe.push("Content-Type: "+In(Ke,Fe)),fe.push(""),fe.push(wt?Dr(Ve):Wr(Ve))}return fe.push(le+`--\r
`),fe.join(`\r
`)}function _s(J){var pe={};return F(pe,J),pe}function Lr(J,pe,oe,le){var fe=le&&le.unsafe;fe||F(J);var ve=!fe&&Wi.find(J,pe);if(!ve){var Fe=J.FullPaths[0];pe.slice(0,Fe.length)==Fe?Fe=pe:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+pe).replace("//","/")),ve={name:r(pe),type:2},J.FileIndex.push(ve),J.FullPaths.push(Fe),fe||Wi.utils.cfb_gc(J)}return ve.content=oe,ve.size=oe?oe.length:0,le&&(le.CLSID&&(ve.clsid=le.CLSID),le.mt&&(ve.mt=le.mt),le.ct&&(ve.ct=le.ct)),ve}function is(J,pe){F(J);var oe=Wi.find(J,pe);if(oe){for(var le=0;le<J.FileIndex.length;++le)if(J.FileIndex[le]==oe)return J.FileIndex.splice(le,1),J.FullPaths.splice(le,1),!0}return!1}function di(J,pe,oe){F(J);var le=Wi.find(J,pe);if(le){for(var fe=0;fe<J.FileIndex.length;++fe)if(J.FileIndex[fe]==le)return J.FileIndex[fe].name=r(oe),J.FullPaths[fe]=oe,!0}return!1}function Si(J){N(J,!0)}return e.find=I,e.read=ae,e.parse=f,e.write=$e,e.writeFile=be,e.utils={cfb_new:_s,cfb_add:Lr,cfb_del:is,cfb_mov:di,cfb_gc:Si,ReadShift:wm,CheckField:LM,prep_blob:Go,bconcat:ha,use_zlib:k,_deflateRaw:gn,_inflateRaw:Wn,consts:ye},e})();function Rse(n){return typeof n=="string"?jy(n):Array.isArray(n)?tse(n):n}function C1(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=jy(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var i=t=="utf8"?Jm(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,n);if(typeof Blob<"u"){var r=new Blob([Rse(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,n);if(typeof saveAs<"u")return saveAs(r,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=n,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(n);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=A1(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+n)}function ga(n){for(var e=Object.keys(n),t=[],i=0;i<e.length;++i)Object.prototype.hasOwnProperty.call(n,e[i])&&t.push(e[i]);return t}function cI(n,e){for(var t=[],i=ga(n),r=0;r!==i.length;++r)t[n[i[r]][e]]==null&&(t[n[i[r]][e]]=i[r]);return t}function XS(n){for(var e=[],t=ga(n),i=0;i!==t.length;++i)e[n[t[i]]]=t[i];return e}function zy(n){for(var e=[],t=ga(n),i=0;i!==t.length;++i)e[n[t[i]]]=parseInt(t[i],10);return e}function Ise(n){for(var e=[],t=ga(n),i=0;i!==t.length;++i)e[n[t[i]]]==null&&(e[n[t[i]]]=[]),e[n[t[i]]].push(t[i]);return e}var Lv=new Date(1899,11,30,0,0,0);function Co(n,e){var t=n.getTime(),i=Lv.getTime()+(n.getTimezoneOffset()-Lv.getTimezoneOffset())*6e4;return(t-i)/(1440*60*1e3)}var mM=new Date,kse=Lv.getTime()+(mM.getTimezoneOffset()-Lv.getTimezoneOffset())*6e4,uI=mM.getTimezoneOffset();function _M(n){var e=new Date;return e.setTime(n*24*60*60*1e3+kse),e.getTimezoneOffset()!==uI&&e.setTime(e.getTime()+(e.getTimezoneOffset()-uI)*6e4),e}var hI=new Date("2017-02-19T19:06:09.000Z"),vM=isNaN(hI.getFullYear())?new Date("2/19/17"):hI,Dse=vM.getFullYear()==2017;function eo(n,e){var t=new Date(n);if(Dse)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(vM.getFullYear()==1917&&!isNaN(t.getFullYear())){var i=t.getFullYear();return n.indexOf(""+i)>-1||t.setFullYear(t.getFullYear()+100),t}var r=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Hy(n,e){if(Ei&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var i=[],r=0;r!=n.length;++r)i.push(String.fromCharCode(n[r]));return i.join("")}function No(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=No(n[t]));return e}function zr(n,e){for(var t="";t.length<e;)t+=n;return t}function Xu(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,i=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(i))||(i=i.replace(/[(](.*)[)]/,function(r,s){return t=-t,s}),!isNaN(e=Number(i)))?e/t:e}var Lse=["january","february","march","april","may","june","july","august","september","october","november","december"];function Qm(n){var e=new Date(n),t=new Date(NaN),i=e.getYear(),r=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&Lse.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return i<0||i>8099?t:(r>0||s>1)&&i!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Mn(n,e,t){if(n.FullPaths){if(typeof t=="string"){var i;return Ei?i=ph(t):i=nse(t),Wi.utils.cfb_add(n,e,i)}Wi.utils.cfb_add(n,e,t)}else n.file(e,t)}function QS(){return Wi.utils.cfb_new()}var ms=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Ose={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},JS=XS(Ose),ZS=/[&<>'"]/g,Pse=/[\u0000-\u0008\u000b-\u001f]/g;function Mi(n){var e=n+"";return e.replace(ZS,function(t){return JS[t]}).replace(Pse,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function fI(n){return Mi(n).replace(/ /g,"_x0020_")}var yM=/[\u0000-\u001f]/g;function Mse(n){var e=n+"";return e.replace(ZS,function(t){return JS[t]}).replace(/\n/g,"<br/>").replace(yM,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function Fse(n){var e=n+"";return e.replace(ZS,function(t){return JS[t]}).replace(yM,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function Bse(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function jse(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function vw(n){for(var e="",t=0,i=0,r=0,s=0,a=0,l=0;t<n.length;){if(i=n.charCodeAt(t++),i<128){e+=String.fromCharCode(i);continue}if(r=n.charCodeAt(t++),i>191&&i<224){a=(i&31)<<6,a|=r&63,e+=String.fromCharCode(a);continue}if(s=n.charCodeAt(t++),i<240){e+=String.fromCharCode((i&15)<<12|(r&63)<<6|s&63);continue}a=n.charCodeAt(t++),l=((i&7)<<18|(r&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function dI(n){var e=Id(2*n.length),t,i,r=1,s=0,a=0,l;for(i=0;i<n.length;i+=r)r=1,(l=n.charCodeAt(i))<128?t=l:l<224?(t=(l&31)*64+(n.charCodeAt(i+1)&63),r=2):l<240?(t=(l&15)*4096+(n.charCodeAt(i+1)&63)*64+(n.charCodeAt(i+2)&63),r=3):(r=4,t=(l&7)*262144+(n.charCodeAt(i+1)&63)*4096+(n.charCodeAt(i+2)&63)*64+(n.charCodeAt(i+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function pI(n){return ph(n,"binary").toString("utf8")}var s_="foo bar baz",xm=Ei&&(pI(s_)==vw(s_)&&pI||dI(s_)==vw(s_)&&dI)||vw,Jm=Ei?function(n){return ph(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,i=0,r=0;t<n.length;)switch(i=n.charCodeAt(t++),!0){case i<128:e.push(String.fromCharCode(i));break;case i<2048:e.push(String.fromCharCode(192+(i>>6))),e.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,r=n.charCodeAt(t++)-56320+(i<<10),e.push(String.fromCharCode(240+(r>>18&7))),e.push(String.fromCharCode(144+(r>>12&63))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)));break;default:e.push(String.fromCharCode(224+(i>>12))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)))}return e.join("")},Use=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var i=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<n.length;++r)i=i.replace(n[r][0],n[r][1]);return i}})(),xM=/(^\s|\s$|\n)/;function fa(n,e){return"<"+n+(e.match(xM)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Zm(n){return ga(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Et(n,e,t){return"<"+n+(t!=null?Zm(t):"")+(e!=null?(e.match(xM)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function Wb(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function Vse(n,e){switch(typeof n){case"string":var t=Et("vt:lpwstr",Mi(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Et((n|0)==n?"vt:i4":"vt:r8",Mi(String(n)));case"boolean":return Et("vt:bool",n?"true":"false")}if(n instanceof Date)return Et("vt:filetime",Wb(n));throw new Error("Unable to serialize "+n)}var Gs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],$o={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function zse(n,e){for(var t=1-2*(n[e+7]>>>7),i=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),r=n[e+6]&15,s=5;s>=0;--s)r=r*256+n[e+s];return i==2047?r==0?t*(1/0):NaN:(i==0?i=-1022:(i-=1023,r+=Math.pow(2,52)),t*Math.pow(2,i-52)*r)}function Hse(n,e,t){var i=(e<0||1/e==-1/0?1:0)<<7,r=0,s=0,a=i?-e:e;isFinite(a)?a==0?r=s=0:(r=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(e)?26985:0);for(var l=0;l<=5;++l,s/=256)n[t+l]=s&255;n[t+6]=(r&15)<<4|s&15,n[t+7]=r>>4|i}var gI=function(n){for(var e=[],t=10240,i=0;i<n[0].length;++i)if(n[0][i])for(var r=0,s=n[0][i].length;r<s;r+=t)e.push.apply(e,n[0][i].slice(r,r+t));return e},mI=Ei?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:ph(e)})):gI(n)}:gI,_I=function(n,e,t){for(var i=[],r=e;r<t;r+=2)i.push(String.fromCharCode(Zg(n,r)));return i.join("").replace(ym,"")},eT=Ei?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(ym,""):_I(n,e,t)}:_I,vI=function(n,e,t){for(var i=[],r=e;r<e+t;++r)i.push(("0"+n[r].toString(16)).slice(-2));return i.join("")},wM=Ei?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):vI(n,e,t)}:vI,yI=function(n,e,t){for(var i=[],r=e;r<t;r++)i.push(String.fromCharCode(V0(n,r)));return i.join("")},N1=Ei?function(e,t,i){return Buffer.isBuffer(e)?e.toString("utf8",t,i):yI(e,t,i)}:yI,bM=function(n,e){var t=Yo(n,e);return t>0?N1(n,e+4,e+4+t-1):""},EM=bM,SM=function(n,e){var t=Yo(n,e);return t>0?N1(n,e+4,e+4+t-1):""},TM=SM,AM=function(n,e){var t=2*Yo(n,e);return t>0?N1(n,e+4,e+4+t-1):""},CM=AM,NM=function(e,t){var i=Yo(e,t);return i>0?eT(e,t+4,t+4+i):""},RM=NM,IM=function(n,e){var t=Yo(n,e);return t>0?N1(n,e+4,e+4+t):""},kM=IM,DM=function(n,e){return zse(n,e)},Ov=DM,tT=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ei&&(EM=function(e,t){if(!Buffer.isBuffer(e))return bM(e,t);var i=e.readUInt32LE(t);return i>0?e.toString("utf8",t+4,t+4+i-1):""},TM=function(e,t){if(!Buffer.isBuffer(e))return SM(e,t);var i=e.readUInt32LE(t);return i>0?e.toString("utf8",t+4,t+4+i-1):""},CM=function(e,t){if(!Buffer.isBuffer(e))return AM(e,t);var i=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+i-1)},RM=function(e,t){if(!Buffer.isBuffer(e))return NM(e,t);var i=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+i)},kM=function(e,t){if(!Buffer.isBuffer(e))return IM(e,t);var i=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+i)},Ov=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):DM(e,t)},tT=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var V0=function(n,e){return n[e]},Zg=function(n,e){return n[e+1]*256+n[e]},qse=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},Yo=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},hd=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},Wse=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function wm(n,e){var t="",i,r,s=[],a,l,c,h;switch(e){case"dbcs":if(h=this.l,Ei&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(c=0;c<n;++c)t+=String.fromCharCode(Zg(this,h)),h+=2;n*=2;break;case"utf8":t=N1(this,this.l,this.l+n);break;case"utf16le":n*=2,t=eT(this,this.l,this.l+n);break;case"wstr":return wm.call(this,n,"dbcs");case"lpstr-ansi":t=EM(this,this.l),n=4+Yo(this,this.l);break;case"lpstr-cp":t=TM(this,this.l),n=4+Yo(this,this.l);break;case"lpwstr":t=CM(this,this.l),n=4+2*Yo(this,this.l);break;case"lpp4":n=4+Yo(this,this.l),t=RM(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+Yo(this,this.l),t=kM(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(a=V0(this,this.l+n++))!==0;)s.push(n_(a));t=s.join("");break;case"_wstr":for(n=0,t="";(a=Zg(this,this.l+n))!==0;)s.push(n_(a)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",h=this.l,c=0;c<n;++c){if(this.lens&&this.lens.indexOf(h)!==-1)return a=V0(this,h),this.l=h+1,l=wm.call(this,n-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(n_(Zg(this,h))),h+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,c=0;c!=n;++c){if(this.lens&&this.lens.indexOf(h)!==-1)return a=V0(this,h),this.l=h+1,l=wm.call(this,n-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(n_(V0(this,h))),h+=1}t=s.join("");break;default:switch(n){case 1:return i=V0(this,this.l),this.l++,i;case 2:return i=(e==="i"?qse:Zg)(this,this.l),this.l+=2,i;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(i=(n>0?hd:Wse)(this,this.l),this.l+=4,i):(r=Yo(this,this.l),this.l+=4,r);case 8:case-8:if(e==="f")return n==8?r=Ov(this,this.l):r=Ov([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;n=8;case 16:t=wM(this,this.l,n);break}}return this.l+=n,t}var Gse=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},$se=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},Yse=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function Kse(n,e,t){var i=0,r=0;if(t==="dbcs"){for(r=0;r!=e.length;++r)Yse(this,e.charCodeAt(r),this.l+2*r);i=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=e.length;++r)this[this.l+r]=e.charCodeAt(r)&255;i=e.length}else if(t==="hex"){for(;r<n;++r)this[this.l++]=parseInt(e.slice(2*r,2*r+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(r=0;r<Math.min(e.length,n);++r){var a=e.charCodeAt(r);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:i=1,this[this.l]=e&255;break;case 2:i=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:i=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:i=4,Gse(this,e,this.l);break;case 8:if(i=8,t==="f"){Hse(this,e,this.l);break}case 16:break;case-4:i=4,$se(this,e,this.l);break}return this.l+=i,this}function LM(n,e){var t=wM(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Go(n,e){n.l=e,n.read_shift=wm,n.chk=LM,n.write_shift=Kse}function eu(n,e){n.l+=e}function Ze(n){var e=Id(n);return Go(e,0),e}function Ao(){var n=[],e=Ei?256:2048,t=function(h){var f=Ze(h);return Go(f,0),f},i=t(e),r=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&n.push(i),i=null)},s=function(h){return i&&h<i.length-i.l?i:(r(),i=t(Math.max(h+1,e)))},a=function(){return r(),ha(n)},l=function(h){r(),i=h,i.l==null&&(i.l=i.length),s(e)};return{next:s,push:l,end:a,_bufs:n}}function dt(n,e,t,i){var r=+e,s;if(!isNaN(r)){i||(i=zhe[r].p||(t||[]).length||0),s=1+(r>=128?1:0)+1,i>=128&&++s,i>=16384&&++s,i>=2097152&&++s;var a=n.next(s);r<=127?a.write_shift(1,r):(a.write_shift(1,(r&127)+128),a.write_shift(1,r>>7));for(var l=0;l!=4;++l)if(i>=128)a.write_shift(1,(i&127)+128),i>>=7;else{a.write_shift(1,i);break}i>0&&tT(t)&&n.push(t)}}function bm(n,e,t){var i=No(n);if(e.s?(i.cRel&&(i.c+=e.s.c),i.rRel&&(i.r+=e.s.r)):(i.cRel&&(i.c+=e.c),i.rRel&&(i.r+=e.r)),!t||t.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function xI(n,e,t){var i=No(n);return i.s=bm(i.s,e.s,t),i.e=bm(i.e,e.s,t),i}function Em(n,e){if(n.cRel&&n.c<0)for(n=No(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=No(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Fi(n);return!n.cRel&&n.cRel!=null&&(t=Jse(t)),!n.rRel&&n.rRel!=null&&(t=Xse(t)),t}function yw(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ma(n.s.c)+":"+(n.e.cRel?"":"$")+Ma(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+da(n.s.r)+":"+(n.e.rRel?"":"$")+da(n.e.r):Em(n.s,e.biff)+":"+Em(n.e,e.biff)}function nT(n){return parseInt(Qse(n),10)-1}function da(n){return""+(n+1)}function Xse(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Qse(n){return n.replace(/\$(\d+)$/,"$1")}function iT(n){for(var e=Zse(n),t=0,i=0;i!==e.length;++i)t=26*t+e.charCodeAt(i)-64;return t-1}function Ma(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function Jse(n){return n.replace(/^([A-Z])/,"$$$1")}function Zse(n){return n.replace(/^\$([A-Z])/,"$1")}function eae(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ys(n){for(var e=0,t=0,i=0;i<n.length;++i){var r=n.charCodeAt(i);r>=48&&r<=57?e=10*e+(r-48):r>=65&&r<=90&&(t=26*t+(r-64))}return{c:t-1,r:e-1}}function Fi(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function tl(n){var e=n.indexOf(":");return e==-1?{s:Ys(n),e:Ys(n)}:{s:Ys(n.slice(0,e)),e:Ys(n.slice(e+1))}}function ps(n,e){return typeof e>"u"||typeof e=="number"?ps(n.s,n.e):(typeof n!="string"&&(n=Fi(n)),typeof e!="string"&&(e=Fi(e)),n==e?n:n+":"+e)}function fr(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,i=0,r=0,s=n.length;for(t=0;i<s&&!((r=n.charCodeAt(i)-64)<1||r>26);++i)t=26*t+r;for(e.s.c=--t,t=0;i<s&&!((r=n.charCodeAt(i)-48)<0||r>9);++i)t=10*t+r;if(e.s.r=--t,i===s||r!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++i,t=0;i!=s&&!((r=n.charCodeAt(i)-64)<1||r>26);++i)t=26*t+r;for(e.e.c=--t,t=0;i!=s&&!((r=n.charCodeAt(i)-48)<0||r>9);++i)t=10*t+r;return e.e.r=--t,e}function wI(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Cf(n.z,t?Co(e):e)}catch{}try{return n.w=Cf((n.XF||{}).numFmtId||(t?14:0),t?Co(e):e)}catch{return""+e}}function oh(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?R1[n.v]||n.v:e==null?wI(n,n.v):wI(n,e))}function Vd(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",i={};return i[t]=n,{SheetNames:[t],Sheets:i}}function OM(n,e,t){var i=t||{},r=n?Array.isArray(n):i.dense,s=n||(r?[]:{}),a=0,l=0;if(s&&i.origin!=null){if(typeof i.origin=="number")a=i.origin;else{var c=typeof i.origin=="string"?Ys(i.origin):i.origin;a=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=fr(s["!ref"]);h.s.c=f.s.c,h.s.r=f.s.r,h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),a==-1&&(h.e.r=a=f.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=e[p].length;++_)if(!(typeof e[p][_]>"u")){var m={v:e[p][_]},b=a+p,x=l+_;if(h.s.r>b&&(h.s.r=b),h.s.c>x&&(h.s.c=x),h.e.r<b&&(h.e.r=b),h.e.c<x&&(h.e.c=x),e[p][_]&&typeof e[p][_]=="object"&&!Array.isArray(e[p][_])&&!(e[p][_]instanceof Date))m=e[p][_];else if(Array.isArray(m.v)&&(m.f=e[p][_][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(i.nullError)m.t="e",m.v=0;else if(i.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=i.dateNF||qr[14],i.cellDates?(m.t="d",m.w=Cf(m.z,Co(m.v))):(m.t="n",m.v=Co(m.v),m.w=Cf(m.z,m.v))):m.t="s";if(r)s[b]||(s[b]=[]),s[b][x]&&s[b][x].z&&(m.z=s[b][x].z),s[b][x]=m;else{var E=Fi({c:x,r:b});s[E]&&s[E].z&&(m.z=s[E].z),s[E]=m}}}return h.s.c<1e7&&(s["!ref"]=ps(h)),s}function Hp(n,e){return OM(null,n,e)}function tae(n){return n.read_shift(4,"i")}function lc(n,e){return e||(e=Ze(4)),e.write_shift(4,n),e}function Fa(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Ks(n,e){var t=!1;return e==null&&(t=!0,e=Ze(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function nae(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function iae(n,e){return e||(e=Ze(4)),e.write_shift(2,0),e.write_shift(2,0),e}function rT(n,e){var t=n.l,i=n.read_shift(1),r=Fa(n),s=[],a={t:r,h:r};if((i&1)!==0){for(var l=n.read_shift(4),c=0;c!=l;++c)s.push(nae(n));a.r=s}else a.r=[{ich:0,ifnt:0}];return n.l=t+e,a}function rae(n,e){var t=!1;return e==null&&(t=!0,e=Ze(15+4*n.t.length)),e.write_shift(1,0),Ks(n.t,e),t?e.slice(0,e.l):e}var sae=rT;function aae(n,e){var t=!1;return e==null&&(t=!0,e=Ze(23+4*n.t.length)),e.write_shift(1,1),Ks(n.t,e),e.write_shift(4,1),iae({},e),t?e.slice(0,e.l):e}function Rl(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function zd(n,e){return e==null&&(e=Ze(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Hd(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function qd(n,e){return e==null&&(e=Ze(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var oae=Fa,PM=Ks;function sT(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function Pv(n,e){var t=!1;return e==null&&(t=!0,e=Ze(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var lae=Fa,Gb=sT,aT=Pv;function MM(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,i=e[0]&2;n.l+=4;var r=i===0?Ov([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):hd(e,0)>>2;return t?r/100:r}function FM(n,e){e==null&&(e=Ze(4));var t=0,i=0,r=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?i=1:r==(r|0)&&r>=-536870912&&r<1<<29&&(i=1,t=1),i)e.write_shift(-4,((t?r:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function BM(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function cae(n,e){return e||(e=Ze(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Wd=BM,qp=cae;function Wp(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function kd(n,e){return(e||Ze(8)).write_shift(8,n,"f")}function uae(n){var e={},t=n.read_shift(1),i=t>>>1,r=n.read_shift(1),s=n.read_shift(2,"i"),a=n.read_shift(1),l=n.read_shift(1),c=n.read_shift(1);switch(n.l++,i){case 0:e.auto=1;break;case 1:e.index=r;var h=yae[r];h&&(e.rgb=DI(h));break;case 2:e.rgb=DI([a,l,c]);break;case 3:e.theme=r;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Mv(n,e){if(e||(e=Ze(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var i=n.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),e.write_shift(1,parseInt(i.slice(0,2),16)),e.write_shift(1,parseInt(i.slice(2,4),16)),e.write_shift(1,parseInt(i.slice(4,6),16)),e.write_shift(1,255)}return e}function hae(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function fae(n,e){e||(e=Ze(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var jM=2,Wo=3,a_=11,Fv=19,o_=64,dae=65,pae=71,gae=4108,mae=4126,la=80,bI={1:{n:"CodePage",t:jM},2:{n:"Category",t:la},3:{n:"PresentationFormat",t:la},4:{n:"ByteCount",t:Wo},5:{n:"LineCount",t:Wo},6:{n:"ParagraphCount",t:Wo},7:{n:"SlideCount",t:Wo},8:{n:"NoteCount",t:Wo},9:{n:"HiddenCount",t:Wo},10:{n:"MultimediaClipCount",t:Wo},11:{n:"ScaleCrop",t:a_},12:{n:"HeadingPairs",t:gae},13:{n:"TitlesOfParts",t:mae},14:{n:"Manager",t:la},15:{n:"Company",t:la},16:{n:"LinksUpToDate",t:a_},17:{n:"CharacterCount",t:Wo},19:{n:"SharedDoc",t:a_},22:{n:"HyperlinksChanged",t:a_},23:{n:"AppVersion",t:Wo,p:"version"},24:{n:"DigSig",t:dae},26:{n:"ContentType",t:la},27:{n:"ContentStatus",t:la},28:{n:"Language",t:la},29:{n:"Version",t:la},255:{},2147483648:{n:"Locale",t:Fv},2147483651:{n:"Behavior",t:Fv},1919054434:{}},EI={1:{n:"CodePage",t:jM},2:{n:"Title",t:la},3:{n:"Subject",t:la},4:{n:"Author",t:la},5:{n:"Keywords",t:la},6:{n:"Comments",t:la},7:{n:"Template",t:la},8:{n:"LastAuthor",t:la},9:{n:"RevNumber",t:la},10:{n:"EditTime",t:o_},11:{n:"LastPrinted",t:o_},12:{n:"CreatedDate",t:o_},13:{n:"ModifiedDate",t:o_},14:{n:"PageCount",t:Wo},15:{n:"WordCount",t:Wo},16:{n:"CharCount",t:Wo},17:{n:"Thumbnail",t:pae},18:{n:"Application",t:la},19:{n:"DocSecurity",t:Wo},255:{},2147483648:{n:"Locale",t:Fv},2147483651:{n:"Behavior",t:Fv},1919054434:{}};function _ae(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var vae=_ae([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yae=No(vae),R1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},xae={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},l_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function UM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VM(n,e){var t=Ise(xae),i=[],r;i[i.length]=ms,i[i.length]=Et("Types",null,{xmlns:Gs.CT,"xmlns:xsd":Gs.xsd,"xmlns:xsi":Gs.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Et("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){n[c]&&n[c].length>0&&(r=n[c][0],i[i.length]=Et("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:l_[c][e.bookType]||l_[c].xlsx}))},a=function(c){(n[c]||[]).forEach(function(h){i[i.length]=Et("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:l_[c][e.bookType]||l_[c].xlsx})})},l=function(c){(n[c]||[]).forEach(function(h){i[i.length]=Et("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[c][0]})})};return s("workbooks"),a("sheets"),a("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),a("metadata"),l("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var vi={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function zM(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function lp(n){var e=[ms,Et("Relationships",null,{xmlns:Gs.RELS})];return ga(n["!id"]).forEach(function(t){e[e.length]=Et("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Li(n,e,t,i,r,s){if(r||(r={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,r.Id="rId"+e,r.Type=i,r.Target=t,[vi.HLINK,vi.XPATH,vi.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),n["!id"][r.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][r.Id]=r,n[("/"+r.Target).replace("//","/")]=r,e}function wae(n){var e=[ms];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function SI(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function bae(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Eae(n){var e=[ms];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(SI(n[t][0],n[t][1])),e.push(bae("",n[t][0]));return e.push(SI("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function HM(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Nv.version+"</meta:generator></office:meta></office:document-meta>"}var vd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function xw(n,e,t,i,r){r[n]!=null||e==null||e===""||(r[n]=e,e=Mi(e),i[i.length]=t?Et(n,e,t):fa(n,e))}function qM(n,e){var t=e||{},i=[ms,Et("cp:coreProperties",null,{"xmlns:cp":Gs.CORE_PROPS,"xmlns:dc":Gs.dc,"xmlns:dcterms":Gs.dcterms,"xmlns:dcmitype":Gs.dcmitype,"xmlns:xsi":Gs.xsi})],r={};if(!n&&!t.Props)return i.join("");n&&(n.CreatedDate!=null&&xw("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:Wb(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),n.ModifiedDate!=null&&xw("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:Wb(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var s=0;s!=vd.length;++s){var a=vd[s],l=t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:n?n[a[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&xw(a[0],l,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var cp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],WM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function GM(n){var e=[],t=Et;return n||(n={}),n.Application="SheetJS",e[e.length]=ms,e[e.length]=Et("Properties",null,{xmlns:Gs.EXT_PROPS,"xmlns:vt":Gs.vt}),cp.forEach(function(i){if(n[i[1]]!==void 0){var r;switch(i[2]){case"string":r=Mi(String(n[i[1]]));break;case"bool":r=n[i[1]]?"true":"false";break}r!==void 0&&(e[e.length]=t(i[0],r))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(i){return"<vt:lpstr>"+Mi(i)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function $M(n){var e=[ms,Et("Properties",null,{xmlns:Gs.CUST_PROPS,"xmlns:vt":Gs.vt})];if(!n)return e.join("");var t=1;return ga(n).forEach(function(r){++t,e[e.length]=Et("property",Vse(n[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Mi(r)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var TI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Sae(n,e){var t=[];return ga(TI).map(function(i){for(var r=0;r<vd.length;++r)if(vd[r][1]==i)return vd[r];for(r=0;r<cp.length;++r)if(cp[r][1]==i)return cp[r];throw i}).forEach(function(i){if(n[i[1]]!=null){var r=e&&e.Props&&e.Props[i[1]]!=null?e.Props[i[1]]:n[i[1]];switch(i[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),t.push(fa(TI[i[1]]||i[1],r))}}),Et("DocumentProperties",t.join(""),{xmlns:$o.o})}function Tae(n,e){var t=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return n&&ga(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var a=0;a<vd.length;++a)if(s==vd[a][1])return;for(a=0;a<cp.length;++a)if(s==cp[a][1])return;for(a=0;a<t.length;++a)if(s==t[a])return;var l=n[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),r.push(Et(fI(s),l,{"dt:dt":c}))}}),e&&ga(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var a=e[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a instanceof Date?(l="dateTime.tz",a=a.toISOString()):a=String(a),r.push(Et(fI(s),a,{"dt:dt":l}))}}),"<"+i+' xmlns="'+$o.o+'">'+r.join("")+"</"+i+">"}function Aae(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,i=t%Math.pow(2,32),r=(t-i)/Math.pow(2,32);i*=1e7,r*=1e7;var s=i/Math.pow(2,32)|0;s>0&&(i=i%Math.pow(2,32),r+=s);var a=Ze(8);return a.write_shift(4,i),a.write_shift(4,r),a}function AI(n,e){var t=Ze(4),i=Ze(4);switch(t.write_shift(4,n==80?31:n),n){case 3:i.write_shift(-4,e);break;case 5:i=Ze(8),i.write_shift(8,e,"f");break;case 11:i.write_shift(4,e?1:0);break;case 64:i=Aae(e);break;case 31:case 80:for(i=Ze(4+2*(e.length+1)+(e.length%2?0:2)),i.write_shift(4,e.length+1),i.write_shift(0,e,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return ha([t,i])}var YM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Cae(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function CI(n,e,t){var i=Ze(8),r=[],s=[],a=8,l=0,c=Ze(8),h=Ze(8);if(c.write_shift(4,2),c.write_shift(4,1200),h.write_shift(4,1),s.push(c),r.push(h),a+=8+c.length,!e){h=Ze(8),h.write_shift(4,0),r.unshift(h);var f=[Ze(4)];for(f[0].write_shift(4,n.length),l=0;l<n.length;++l){var p=n[l][0];for(c=Ze(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=ha(f),s.unshift(c),a+=8+c.length}for(l=0;l<n.length;++l)if(!(e&&!e[n[l][0]])&&!(YM.indexOf(n[l][0])>-1||WM.indexOf(n[l][0])>-1)&&n[l][1]!=null){var _=n[l][1],m=0;if(e){m=+e[n[l][0]];var b=t[m];if(b.p=="version"&&typeof _=="string"){var x=_.split(".");_=(+x[0]<<16)+(+x[1]||0)}c=AI(b.t,_)}else{var E=Cae(_);E==-1&&(E=31,_=String(_)),c=AI(E,_)}s.push(c),h=Ze(8),h.write_shift(4,e?m:2+l),r.push(h),a+=8+c.length}var A=8*(s.length+1);for(l=0;l<s.length;++l)r[l].write_shift(4,A),A+=s[l].length;return i.write_shift(4,a),i.write_shift(4,s.length),ha([i].concat(r).concat(s))}function NI(n,e,t,i,r,s){var a=Ze(r?68:48),l=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Wi.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,r?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,r?68:48);var c=CI(n,t,i);if(l.push(c),r){var h=CI(r,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+c.length),l.push(h)}return ha(l)}function Nae(n,e){e||(e=Ze(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function Rae(n,e){return n.read_shift(e)===1}function Xa(n,e){return e||(e=Ze(2)),e.write_shift(2,+!!n),e}function KM(n){return n.read_shift(2,"u")}function El(n,e){return e||(e=Ze(2)),e.write_shift(2,n),e}function XM(n,e,t){return t||(t=Ze(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function QM(n,e,t){var i=n.read_shift(t&&t.biff>=12?2:1),r="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(r="dbcs-cont")}else t.biff==12&&(r="wstr");t.biff>=2&&t.biff<=5&&(r="cpstr");var a=i?n.read_shift(i,r):"";return a}function Iae(n){var e=n.t||"",t=Ze(3);t.write_shift(2,e.length),t.write_shift(1,1);var i=Ze(2*e.length);i.write_shift(2*e.length,e,"utf16le");var r=[t,i];return ha(r)}function kae(n,e,t){var i;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var r=n.read_shift(1);return r===0?i=n.read_shift(e,"sbcs-cont"):i=n.read_shift(e,"dbcs-cont"),i}function Dae(n,e,t){var i=n.read_shift(t&&t.biff==2?1:2);return i===0?(n.l++,""):kae(n,i,t)}function Lae(n,e,t){if(t.biff>5)return Dae(n,e,t);var i=n.read_shift(1);return i===0?(n.l++,""):n.read_shift(i,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function JM(n,e,t){return t||(t=Ze(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function RI(n,e){e||(e=Ze(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function Oae(n){var e=Ze(512),t=0,i=n.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var r=i.indexOf("#"),s=r>-1?31:23;switch(i.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(t=0;t<a.length;++t)e.write_shift(4,a[t]);if(s==28)i=i.slice(1),RI(i,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));var l=r>-1?i.slice(0,r):i;for(e.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)e.write_shift(2,l.charCodeAt(t));e.write_shift(2,0),s&8&&RI(r>-1?i.slice(r+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));for(var c=0;i.slice(c*3,c*3+3)=="../"||i.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,i.length-3*c+1),t=0;t<i.length-3*c;++t)e.write_shift(1,i.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Dd(n,e,t,i){return i||(i=Ze(6)),i.write_shift(2,n),i.write_shift(2,e),i.write_shift(2,t||0),i}function Pae(n,e,t){var i=t.biff>8?4:2,r=n.read_shift(i),s=n.read_shift(i,"i"),a=n.read_shift(i,"i");return[r,s,a]}function Mae(n){var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(2),r=n.read_shift(2);return{s:{c:i,r:e},e:{c:r,r:t}}}function ZM(n,e){return e||(e=Ze(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function oT(n,e,t){var i=1536,r=16;switch(t.bookType){case"biff8":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ze(r);return s.write_shift(2,i),s.write_shift(2,e),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Fae(n,e){var t=!e||e.biff==8,i=Ze(t?112:54);for(i.write_shift(e.biff==8?2:1,7),t&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(t?0:536870912));i.l<i.length;)i.write_shift(1,t?0:32);return i}function Bae(n,e){var t=!e||e.biff>=8?2:1,i=Ze(8+t*n.name.length);i.write_shift(4,n.pos),i.write_shift(1,n.hs||0),i.write_shift(1,n.dt),i.write_shift(1,n.name.length),e.biff>=8&&i.write_shift(1,1),i.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function jae(n,e){var t=Ze(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var i=[],r=0;r<n.length;++r)i[r]=Iae(n[r]);var s=ha([t].concat(i));return s.parts=[t.length].concat(i.map(function(a){return a.length})),s}function Uae(){var n=Ze(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function Vae(n){var e=Ze(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function zae(n,e){var t=n.name||"Arial",i=e&&e.biff==5,r=i?15+t.length:16+2*t.length,s=Ze(r);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le"),s}function Hae(n,e,t,i){var r=Ze(10);return Dd(n,e,i,r),r.write_shift(4,t),r}function qae(n,e,t,i,r){var s=!r||r.biff==8,a=Ze(8+ +s+(1+s)*t.length);return Dd(n,e,i,a),a.write_shift(2,t.length),s&&a.write_shift(1,1),a.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),a}function Wae(n,e,t,i){var r=t&&t.biff==5;i||(i=Ze(r?3+e.length:5+2*e.length)),i.write_shift(2,n),i.write_shift(r?1:2,e.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le");var s=i.length>i.l?i.slice(0,i.l):i;return s.l==null&&(s.l=s.length),s}function Gae(n,e){var t=e.biff==8||!e.biff?4:2,i=Ze(2*t+6);return i.write_shift(t,n.s.r),i.write_shift(t,n.e.r+1),i.write_shift(2,n.s.c),i.write_shift(2,n.e.c+1),i.write_shift(2,0),i}function II(n,e,t,i){var r=t&&t.biff==5;i||(i=Ze(r?16:20)),i.write_shift(2,0),n.style?(i.write_shift(2,n.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,n.numFmtId||0),i.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&r&&(s|=1024),i.write_shift(4,s),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function $ae(n){var e=Ze(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Yae(n,e,t,i,r,s){var a=Ze(8);return Dd(n,e,i,a),XM(t,s,a),a}function Kae(n,e,t,i){var r=Ze(14);return Dd(n,e,i,r),kd(t,r),r}function Xae(n,e,t){if(t.biff<8)return Qae(n,e,t);for(var i=[],r=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)i.push(Pae(n,t.biff>8?12:6,t));if(n.l!=r)throw new Error("Bad ExternSheet: "+n.l+" != "+r);return i}function Qae(n,e,t){n[n.l+1]==3&&n[n.l]++;var i=QM(n,e,t);return i.charCodeAt(0)==3?i.slice(1):i}function Jae(n){var e=Ze(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)ZM(n[t],e);return e}function Zae(n){var e=Ze(24),t=Ys(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)e.write_shift(1,parseInt(i[r],16));return ha([e,Oae(n[1])])}function eoe(n){var e=n[1].Tooltip,t=Ze(10+2*(e.length+1));t.write_shift(2,2048);var i=Ys(n[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function toe(n){return n||(n=Ze(4)),n.write_shift(2,1),n.write_shift(2,1),n}function noe(n,e,t){if(!t.cellStyles)return eu(n,e);var i=t&&t.biff>=12?4:2,r=n.read_shift(i),s=n.read_shift(i),a=n.read_shift(i),l=n.read_shift(i),c=n.read_shift(2);i==2&&(n.l+=2);var h={s:r,e:s,w:a,ixfe:l,flags:c};return(t.biff>=5||!t.biff)&&(h.level=c>>8&7),h}function ioe(n,e){var t=Ze(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var i=0;return n.hidden&&(i|=1),t.write_shift(1,i),i=n.level||0,t.write_shift(1,i),t.write_shift(2,0),t}function roe(n){for(var e=Ze(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function soe(n,e,t){var i=Ze(15);return k1(i,n,e),i.write_shift(8,t,"f"),i}function aoe(n,e,t){var i=Ze(9);return k1(i,n,e),i.write_shift(2,t),i}var ooe=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=XS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(l,c){var h=[],f=Id(1);switch(c.type){case"base64":f=ec(ah(l));break;case"binary":f=ec(l);break;case"buffer":case"array":f=l;break}Go(f,0);var p=f.read_shift(1),_=!!(p&136),m=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,_=!0;break;case 49:m=!0,_=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var x=0,E=521;p==2&&(x=f.read_shift(2)),f.l+=3,p!=2&&(x=f.read_shift(4)),x>1048576&&(x=1e6),p!=2&&(E=f.read_shift(2));var A=f.read_shift(2),P=c.codepage||1252;p!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(P=n[f[f.l]]),f.l+=1,f.l+=2),b&&(f.l+=36);for(var L=[],j={},Q=Math.min(f.length,p==2?521:E-10-(m?264:0)),ae=b?32:11;f.l<Q&&f[f.l]!=13;)switch(j={},j.name=Rv.utils.decode(P,f.slice(f.l,f.l+ae)).replace(/[\u0000\r\n].*$/g,""),f.l+=ae,j.type=String.fromCharCode(f.read_shift(1)),p!=2&&!b&&(j.offset=f.read_shift(4)),j.len=f.read_shift(1),p==2&&(j.offset=f.read_shift(2)),j.dec=f.read_shift(1),j.name.length&&L.push(j),p!=2&&(f.l+=b?13:14),j.type){case"B":(!m||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(f[f.l]!==13&&(f.l=E-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=E;var F=0,R=0;for(h[0]=[],R=0;R!=L.length;++R)h[0][R]=L[R].name;for(;x-- >0;){if(f[f.l]===42){f.l+=A;continue}for(++f.l,h[++F]=[],R=0,R=0;R!=L.length;++R){var N=f.slice(f.l,f.l+L[R].len);f.l+=L[R].len,Go(N,0);var U=Rv.utils.decode(P,N);switch(L[R].type){case"C":U.trim().length&&(h[F][R]=U.replace(/\s+$/,""));break;case"D":U.length===8?h[F][R]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):h[F][R]=U;break;case"F":h[F][R]=parseFloat(U.trim());break;case"+":case"I":h[F][R]=b?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":h[F][R]=!0;break;case"N":case"F":h[F][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));h[F][R]="##MEMO##"+(b?parseInt(U.trim(),10):N.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(h[F][R]=+U||0);break;case"@":h[F][R]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":h[F][R]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":h[F][R]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[F][R]=-N.read_shift(-8,"f");break;case"B":if(m&&L[R].len==8){h[F][R]=N.read_shift(8,"f");break}case"G":case"P":N.l+=L[R].len;break;case"0":if(L[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+L[R].type)}}}if(p!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(h=h.slice(0,c.sheetRows)),c.DBF=L,h}function i(l,c){var h=c||{};h.dateNF||(h.dateNF="yyyymmdd");var f=Hp(t(l,h),h);return f["!cols"]=h.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete h.DBF,f}function r(l,c){try{return Vd(i(l,c),c)}catch(h){if(c&&c.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(l,c){var h=c||{};if(+h.codepage>=0&&Km(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var f=Ao(),p=zv(l,{header:1,raw:!0,cellDates:!0}),_=p[0],m=p.slice(1),b=l["!cols"]||[],x=0,E=0,A=0,P=1;for(x=0;x<_.length;++x){if(((b[x]||{}).DBF||{}).name){_[x]=b[x].DBF.name,++A;continue}if(_[x]!=null){if(++A,typeof _[x]=="number"&&(_[x]=_[x].toString(10)),typeof _[x]!="string")throw new Error("DBF Invalid column name "+_[x]+" |"+typeof _[x]+"|");if(_.indexOf(_[x])!==x){for(E=0;E<1024;++E)if(_.indexOf(_[x]+"_"+E)==-1){_[x]+="_"+E;break}}}}var L=fr(l["!ref"]),j=[],Q=[],ae=[];for(x=0;x<=L.e.c-L.s.c;++x){var F="",R="",N=0,U=[];for(E=0;E<m.length;++E)m[E][x]!=null&&U.push(m[E][x]);if(U.length==0||_[x]==null){j[x]="?";continue}for(E=0;E<U.length;++E){switch(typeof U[E]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=U[E]instanceof Date?"D":"C";break;default:R="C"}N=Math.max(N,String(U[E]).length),F=F&&F!=R?"C":R}N>250&&(N=250),R=((b[x]||{}).DBF||{}).type,R=="C"&&b[x].DBF.len>N&&(N=b[x].DBF.len),F=="B"&&R=="N"&&(F="N",ae[x]=b[x].DBF.dec,N=b[x].DBF.len),Q[x]=F=="C"||R=="N"?N:s[F]||0,P+=Q[x],j[x]=F}var I=f.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*A),I.write_shift(2,P),x=0;x<4;++x)I.write_shift(4,0);for(I.write_shift(4,0|(+e[tM]||3)<<8),x=0,E=0;x<_.length;++x)if(_[x]!=null){var M=f.next(32),z=(_[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,z,"sbcs"),M.write_shift(1,j[x]=="?"?"C":j[x],"sbcs"),M.write_shift(4,E),M.write_shift(1,Q[x]||s[j[x]]||0),M.write_shift(1,ae[x]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),E+=Q[x]||s[j[x]]||0}var de=f.next(264);for(de.write_shift(4,13),x=0;x<65;++x)de.write_shift(4,0);for(x=0;x<m.length;++x){var we=f.next(P);for(we.write_shift(1,0),E=0;E<_.length;++E)if(_[E]!=null)switch(j[E]){case"L":we.write_shift(1,m[x][E]==null?63:m[x][E]?84:70);break;case"B":we.write_shift(8,m[x][E]||0,"f");break;case"N":var ce="0";for(typeof m[x][E]=="number"&&(ce=m[x][E].toFixed(ae[E]||0)),A=0;A<Q[E]-ce.length;++A)we.write_shift(1,32);we.write_shift(1,ce,"sbcs");break;case"D":m[x][E]?(we.write_shift(4,("0000"+m[x][E].getFullYear()).slice(-4),"sbcs"),we.write_shift(2,("00"+(m[x][E].getMonth()+1)).slice(-2),"sbcs"),we.write_shift(2,("00"+m[x][E].getDate()).slice(-2),"sbcs")):we.write_shift(8,"00000000","sbcs");break;case"C":var ye=String(m[x][E]!=null?m[x][E]:"").slice(0,Q[E]);for(we.write_shift(1,ye,"sbcs"),A=0;A<Q[E]-ye.length;++A)we.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:r,to_sheet:i,from_sheet:a}})(),loe=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ga(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(_,m){var b=n[m];return typeof b=="number"?eI(b):b},i=function(_,m,b){var x=m.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return x==59?_:eI(x)};n["|"]=254;function r(_,m){switch(m.type){case"base64":return s(ah(_),m);case"binary":return s(_,m);case"buffer":return s(Ei&&Buffer.isBuffer(_)?_.toString("binary"):A1(_),m);case"array":return s(Hy(_),m)}throw new Error("Unrecognized type "+m.type)}function s(_,m){var b=_.split(/[\n\r]+/),x=-1,E=-1,A=0,P=0,L=[],j=[],Q=null,ae={},F=[],R=[],N=[],U=0,I;for(+m.codepage>=0&&Km(+m.codepage);A!==b.length;++A){U=0;var M=b[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(e,t),z=M.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),de=z[0],we;if(M.length>0)switch(de){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&j.push(M.slice(3).replace(/;;/g,";"));break;case"C":var ce=!1,ye=!1,be=!1,Ne=!1,$e=-1,se=-1;for(P=1;P<z.length;++P)switch(z[P].charAt(0)){case"A":break;case"X":E=parseInt(z[P].slice(1))-1,ye=!0;break;case"Y":for(x=parseInt(z[P].slice(1))-1,ye||(E=0),I=L.length;I<=x;++I)L[I]=[];break;case"K":we=z[P].slice(1),we.charAt(0)==='"'?we=we.slice(1,we.length-1):we==="TRUE"?we=!0:we==="FALSE"?we=!1:isNaN(Xu(we))?isNaN(Qm(we).getDate())||(we=eo(we)):(we=Xu(we),Q!==null&&dM(Q)&&(we=_M(we))),ce=!0;break;case"E":Ne=!0;var k=ale(z[P].slice(1),{r:x,c:E});L[x][E]=[L[x][E],k];break;case"S":be=!0,L[x][E]=[L[x][E],"S5S"];break;case"G":break;case"R":$e=parseInt(z[P].slice(1))-1;break;case"C":se=parseInt(z[P].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}if(ce&&(L[x][E]&&L[x][E].length==2?L[x][E][0]=we:L[x][E]=we,Q=null),be){if(Ne)throw new Error("SYLK shared formula cannot have own formula");var G=$e>-1&&L[$e][se];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");L[x][E][1]=ole(G[1],{r:x-$e,c:E-se})}break;case"F":var W=0;for(P=1;P<z.length;++P)switch(z[P].charAt(0)){case"X":E=parseInt(z[P].slice(1))-1,++W;break;case"Y":for(x=parseInt(z[P].slice(1))-1,I=L.length;I<=x;++I)L[I]=[];break;case"M":U=parseInt(z[P].slice(1))/20;break;case"F":break;case"G":break;case"P":Q=j[parseInt(z[P].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=z[P].slice(1).split(" "),I=parseInt(N[0],10);I<=parseInt(N[1],10);++I)U=parseInt(N[2],10),R[I-1]=U===0?{hidden:!0}:{wch:U},lT(R[I-1]);break;case"C":E=parseInt(z[P].slice(1))-1,R[E]||(R[E]={});break;case"R":x=parseInt(z[P].slice(1))-1,F[x]||(F[x]={}),U>0?(F[x].hpt=U,F[x].hpx=r7(U)):U===0&&(F[x].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}W<1&&(Q=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}}return F.length>0&&(ae["!rows"]=F),R.length>0&&(ae["!cols"]=R),m&&m.sheetRows&&(L=L.slice(0,m.sheetRows)),[L,ae]}function a(_,m){var b=r(_,m),x=b[0],E=b[1],A=Hp(x,m);return ga(E).forEach(function(P){A[P]=E[P]}),A}function l(_,m){return Vd(a(_,m),m)}function c(_,m,b,x){var E="C;Y"+(b+1)+";X"+(x+1)+";K";switch(_.t){case"n":E+=_.v||0,_.f&&!_.F&&(E+=";E"+uT(_.f,{r:b,c:x}));break;case"b":E+=_.v?"TRUE":"FALSE";break;case"e":E+=_.w||_.v;break;case"d":E+='"'+(_.w||_.v)+'"';break;case"s":E+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function h(_,m){m.forEach(function(b,x){var E="F;W"+(x+1)+" "+(x+1)+" ";b.hidden?E+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Bv(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=jv(b.wpx)),typeof b.wch=="number"&&(E+=Math.round(b.wch))),E.charAt(E.length-1)!=" "&&_.push(E)})}function f(_,m){m.forEach(function(b,x){var E="F;";b.hidden?E+="M0;":b.hpt?E+="M"+20*b.hpt+";":b.hpx&&(E+="M"+20*Uv(b.hpx)+";"),E.length>2&&_.push(E+"R"+(x+1))})}function p(_,m){var b=["ID;PWXL;N;E"],x=[],E=fr(_["!ref"]),A,P=Array.isArray(_),L=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),_["!cols"]&&h(b,_["!cols"]),_["!rows"]&&f(b,_["!rows"]),b.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var j=E.s.r;j<=E.e.r;++j)for(var Q=E.s.c;Q<=E.e.c;++Q){var ae=Fi({r:j,c:Q});A=P?(_[j]||[])[Q]:_[ae],!(!A||A.v==null&&(!A.f||A.F))&&x.push(c(A,_,j,Q))}return b.join(L)+L+x.join(L)+L+"E"+L}return{to_workbook:l,to_sheet:a,from_sheet:p}})(),coe=(function(){function n(s,a){switch(a.type){case"base64":return e(ah(s),a);case"binary":return e(s,a);case"buffer":return e(Ei&&Buffer.isBuffer(s)?s.toString("binary"):A1(s),a);case"array":return e(Hy(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var l=s.split(`
`),c=-1,h=-1,f=0,p=[];f!==l.length;++f){if(l[f].trim()==="BOT"){p[++c]=[],h=0;continue}if(!(c<0)){var _=l[f].trim().split(","),m=_[0],b=_[1];++f;for(var x=l[f]||"";(x.match(/["]/g)||[]).length&1&&f<l.length-1;)x+=`
`+l[++f];switch(x=x.trim(),+m){case-1:if(x==="BOT"){p[++c]=[],h=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?p[c][h]=!0:x==="FALSE"?p[c][h]=!1:isNaN(Xu(b))?isNaN(Qm(b).getDate())?p[c][h]=b:p[c][h]=eo(b):p[c][h]=Xu(b),++h;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),p[c][h++]=x!==""?x:null;break}if(x==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function t(s,a){return Hp(n(s,a),a)}function i(s,a){return Vd(t(s,a),a)}var r=(function(){var s=function(c,h,f,p,_){c.push(h),c.push(f+","+p),c.push('"'+_.replace(/"/g,'""')+'"')},a=function(c,h,f,p){c.push(h+","+f),c.push(h==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var h=[],f=fr(c["!ref"]),p,_=Array.isArray(c);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,f.e.r-f.s.r+1,""),s(h,"TUPLES",0,f.e.c-f.s.c+1,""),s(h,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){a(h,-1,0,"BOT");for(var b=f.s.c;b<=f.e.c;++b){var x=Fi({r:m,c:b});if(p=_?(c[m]||[])[b]:c[x],!p){a(h,1,0,"");continue}switch(p.t){case"n":var E=p.w;!E&&p.v!=null&&(E=p.v),E==null?p.f&&!p.F?a(h,1,0,"="+p.f):a(h,1,0,""):a(h,0,E,"V");break;case"b":a(h,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(h,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Cf(p.z||qr[14],Co(eo(p.v)))),a(h,0,p.w,"V");break;default:a(h,1,0,"")}}}a(h,-1,0,"EOD");var A=`\r
`,P=h.join(A);return P}})();return{to_workbook:i,to_sheet:t,from_sheet:r}})(),e7=(function(){function n(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(p,_){for(var m=p.split(`
`),b=-1,x=-1,E=0,A=[];E!==m.length;++E){var P=m[E].trim().split(":");if(P[0]==="cell"){var L=Ys(P[1]);if(A.length<=L.r)for(b=A.length;b<=L.r;++b)A[b]||(A[b]=[]);switch(b=L.r,x=L.c,P[2]){case"t":A[b][x]=n(P[3]);break;case"v":A[b][x]=+P[3];break;case"vtf":var j=P[P.length-1];case"vtc":switch(P[3]){case"nl":A[b][x]=!!+P[4];break;default:A[b][x]=+P[4];break}P[2]=="vtf"&&(A[b][x]=[A[b][x],j])}}}return _&&_.sheetRows&&(A=A.slice(0,_.sheetRows)),A}function i(p,_){return Hp(t(p,_),_)}function r(p,_){return Vd(i(p,_),_)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function h(p){if(!p||!p["!ref"])return"";for(var _=[],m=[],b,x="",E=tl(p["!ref"]),A=Array.isArray(p),P=E.s.r;P<=E.e.r;++P)for(var L=E.s.c;L<=E.e.c;++L)if(x=Fi({r:P,c:L}),b=A?(p[P]||[])[L]:p[x],!(!b||b.v==null||b.t==="z")){switch(m=["cell",x,"t"],b.t){case"s":case"str":m.push(e(b.v));break;case"n":b.f?(m[2]="vtf",m[3]="n",m[4]=b.v,m[5]=e(b.f)):(m[2]="v",m[3]=b.v);break;case"b":m[2]="vt"+(b.f?"f":"c"),m[3]="nl",m[4]=b.v?"1":"0",m[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var j=Co(eo(b.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=b.w||Cf(b.z||qr[14],j);break;case"e":continue}_.push(m.join(":"))}return _.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function f(p){return[s,a,l,a,h(p),c].join(`
`)}return{to_workbook:r,to_sheet:i,from_sheet:f}})(),uoe=(function(){function n(f,p,_,m,b){b.raw?p[_][m]=f:f===""||(f==="TRUE"?p[_][m]=!0:f==="FALSE"?p[_][m]=!1:isNaN(Xu(f))?isNaN(Qm(f).getDate())?p[_][m]=f:p[_][m]=eo(f):p[_][m]=Xu(f))}function e(f,p){var _=p||{},m=[];if(!f||f.length===0)return m;for(var b=f.split(/[\r\n]/),x=b.length-1;x>=0&&b[x].length===0;)--x;for(var E=10,A=0,P=0;P<=x;++P)A=b[P].indexOf(" "),A==-1?A=b[P].length:A++,E=Math.max(E,A);for(P=0;P<=x;++P){m[P]=[];var L=0;for(n(b[P].slice(0,E).trim(),m,P,L,_),L=1;L<=(b[P].length-E)/10+1;++L)n(b[P].slice(E+(L-1)*10,E+L*10).trim(),m,P,L,_)}return _.sheetRows&&(m=m.slice(0,_.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(f){for(var p={},_=!1,m=0,b=0;m<f.length;++m)(b=f.charCodeAt(m))==34?_=!_:!_&&b in t&&(p[b]=(p[b]||0)+1);b=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&b.push([p[m],m]);if(!b.length){p=i;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&b.push([p[m],m])}return b.sort(function(x,E){return x[0]-E[0]||i[x[1]]-i[E[1]]}),t[b.pop()[1]]||44}function s(f,p){var _=p||{},m="",b=_.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=r(f.slice(0,1024)):_&&_.FS?m=_.FS:m=r(f.slice(0,1024));var E=0,A=0,P=0,L=0,j=0,Q=m.charCodeAt(0),ae=!1,F=0,R=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var N=_.dateNF!=null?Ase(_.dateNF):null;function U(){var I=f.slice(L,j),M={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)M.t="z";else if(_.raw)M.t="s",M.v=I;else if(I.trim().length===0)M.t="s",M.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(M.t="s",M.v=I.slice(2,-1).replace(/""/g,'"')):lle(I)?(M.t="n",M.f=I.slice(1)):(M.t="s",M.v=I);else if(I=="TRUE")M.t="b",M.v=!0;else if(I=="FALSE")M.t="b",M.v=!1;else if(!isNaN(P=Xu(I)))M.t="n",_.cellText!==!1&&(M.w=I),M.v=P;else if(!isNaN(Qm(I).getDate())||N&&I.match(N)){M.z=_.dateNF||qr[14];var z=0;N&&I.match(N)&&(I=Cse(I,_.dateNF,I.match(N)||[]),z=1),_.cellDates?(M.t="d",M.v=eo(I,z)):(M.t="n",M.v=Co(eo(I,z))),_.cellText!==!1&&(M.w=Cf(M.z,M.v instanceof Date?Co(M.v):M.v)),_.cellNF||delete M.z}else M.t="s",M.v=I;if(M.t=="z"||(_.dense?(b[E]||(b[E]=[]),b[E][A]=M):b[Fi({c:A,r:E})]=M),L=j+1,R=f.charCodeAt(L),x.e.c<A&&(x.e.c=A),x.e.r<E&&(x.e.r=E),F==Q)++A;else if(A=0,++E,_.sheetRows&&_.sheetRows<=E)return!0}e:for(;j<f.length;++j)switch(F=f.charCodeAt(j)){case 34:R===34&&(ae=!ae);break;case Q:case 10:case 13:if(!ae&&U())break e;break}return j-L>0&&U(),b["!ref"]=ps(x),b}function a(f,p){return!(p&&p.PRN)||p.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,p):Hp(e(f,p),p)}function l(f,p){var _="",m=p.type=="string"?[0,0,0,0]:bfe(f,p);switch(p.type){case"base64":_=ah(f);break;case"binary":_=f;break;case"buffer":p.codepage==65001?_=f.toString("utf8"):p.codepage&&typeof Rv<"u"||(_=Ei&&Buffer.isBuffer(f)?f.toString("binary"):A1(f));break;case"array":_=Hy(f);break;case"string":_=f;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?_=xm(_.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?_=xm(_):p.type=="binary"&&typeof Rv<"u",_.slice(0,19)=="socialcalc:version:"?e7.to_sheet(p.type=="string"?_:xm(_),p):a(_,p)}function c(f,p){return Vd(l(f,p),p)}function h(f){for(var p=[],_=fr(f["!ref"]),m,b=Array.isArray(f),x=_.s.r;x<=_.e.r;++x){for(var E=[],A=_.s.c;A<=_.e.c;++A){var P=Fi({r:x,c:A});if(m=b?(f[x]||[])[A]:f[P],!m||m.v==null){E.push("          ");continue}for(var L=(m.w||(oh(m),m.w)||"").slice(0,10);L.length<10;)L+=" ";E.push(L+(A===0?" ":""))}p.push(E.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:h}})(),kI=(function(){function n(k,G,W){if(k){Go(k,k.l||0);for(var Y=W.Enum||$e;k.l<k.length;){var ne=k.read_shift(2),xe=Y[ne]||Y[65535],Ae=k.read_shift(2),Te=k.l+Ae,Ie=xe.f&&xe.f(k,Ae,W);if(k.l=Te,G(Ie,xe,ne))return}}}function e(k,G){switch(G.type){case"base64":return t(ec(ah(k)),G);case"binary":return t(ec(k),G);case"buffer":case"array":return t(k,G)}throw"Unsupported type "+G.type}function t(k,G){if(!k)return k;var W=G||{},Y=W.dense?[]:{},ne="Sheet1",xe="",Ae=0,Te={},Ie=[],et=[],lt={s:{r:0,c:0},e:{r:0,c:0}},yt=W.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)W.Enum=$e,n(k,function(ht,It,Qe){switch(Qe){case 0:W.vers=ht,ht>=4096&&(W.qpro=!0);break;case 6:lt=ht;break;case 204:ht&&(xe=ht);break;case 222:xe=ht;break;case 15:case 51:W.qpro||(ht[1].v=ht[1].v.slice(1));case 13:case 14:case 16:Qe==14&&(ht[2]&112)==112&&(ht[2]&15)>1&&(ht[2]&15)<15&&(ht[1].z=W.dateNF||qr[14],W.cellDates&&(ht[1].t="d",ht[1].v=_M(ht[1].v))),W.qpro&&ht[3]>Ae&&(Y["!ref"]=ps(lt),Te[ne]=Y,Ie.push(ne),Y=W.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Ae=ht[3],ne=xe||"Sheet"+(Ae+1),xe="");var Ct=W.dense?(Y[ht[0].r]||[])[ht[0].c]:Y[Fi(ht[0])];if(Ct){Ct.t=ht[1].t,Ct.v=ht[1].v,ht[1].z!=null&&(Ct.z=ht[1].z),ht[1].f!=null&&(Ct.f=ht[1].f);break}W.dense?(Y[ht[0].r]||(Y[ht[0].r]=[]),Y[ht[0].r][ht[0].c]=ht[1]):Y[Fi(ht[0])]=ht[1];break}},W);else if(k[2]==26||k[2]==14)W.Enum=se,k[2]==14&&(W.qpro=!0,k.l=0),n(k,function(ht,It,Qe){switch(Qe){case 204:ne=ht;break;case 22:ht[1].v=ht[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ht[3]>Ae&&(Y["!ref"]=ps(lt),Te[ne]=Y,Ie.push(ne),Y=W.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Ae=ht[3],ne="Sheet"+(Ae+1)),yt>0&&ht[0].r>=yt)break;W.dense?(Y[ht[0].r]||(Y[ht[0].r]=[]),Y[ht[0].r][ht[0].c]=ht[1]):Y[Fi(ht[0])]=ht[1],lt.e.c<ht[0].c&&(lt.e.c=ht[0].c),lt.e.r<ht[0].r&&(lt.e.r=ht[0].r);break;case 27:ht[14e3]&&(et[ht[14e3][0]]=ht[14e3][1]);break;case 1537:et[ht[0]]=ht[1],ht[0]==Ae&&(ne=ht[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(Y["!ref"]=ps(lt),Te[xe||ne]=Y,Ie.push(xe||ne),!et.length)return{SheetNames:Ie,Sheets:Te};for(var _t={},he=[],pt=0;pt<et.length;++pt)Te[Ie[pt]]?(he.push(et[pt]||Ie[pt]),_t[et[pt]]=Te[et[pt]]||Te[Ie[pt]]):(he.push(et[pt]),_t[et[pt]]={"!ref":"A1"});return{SheetNames:he,Sheets:_t}}function i(k,G){var W=G||{};if(+W.codepage>=0&&Km(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Ao(),ne=fr(k["!ref"]),xe=Array.isArray(k),Ae=[];St(Y,0,s(1030)),St(Y,6,c(ne));for(var Te=Math.min(ne.e.r,8191),Ie=ne.s.r;Ie<=Te;++Ie)for(var et=da(Ie),lt=ne.s.c;lt<=ne.e.c;++lt){Ie===ne.s.r&&(Ae[lt]=Ma(lt));var yt=Ae[lt]+et,_t=xe?(k[Ie]||[])[lt]:k[yt];if(!(!_t||_t.t=="z"))if(_t.t=="n")(_t.v|0)==_t.v&&_t.v>=-32768&&_t.v<=32767?St(Y,13,m(Ie,lt,_t.v)):St(Y,14,x(Ie,lt,_t.v));else{var he=oh(_t);St(Y,15,p(Ie,lt,he.slice(0,239)))}}return St(Y,1),Y.end()}function r(k,G){var W=G||{};if(+W.codepage>=0&&Km(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Ao();St(Y,0,a(k));for(var ne=0,xe=0;ne<k.SheetNames.length;++ne)(k.Sheets[k.SheetNames[ne]]||{})["!ref"]&&St(Y,27,Ne(k.SheetNames[ne],xe++));var Ae=0;for(ne=0;ne<k.SheetNames.length;++ne){var Te=k.Sheets[k.SheetNames[ne]];if(!(!Te||!Te["!ref"])){for(var Ie=fr(Te["!ref"]),et=Array.isArray(Te),lt=[],yt=Math.min(Ie.e.r,8191),_t=Ie.s.r;_t<=yt;++_t)for(var he=da(_t),pt=Ie.s.c;pt<=Ie.e.c;++pt){_t===Ie.s.r&&(lt[pt]=Ma(pt));var ht=lt[pt]+he,It=et?(Te[_t]||[])[pt]:Te[ht];if(!(!It||It.t=="z"))if(It.t=="n")St(Y,23,U(_t,pt,Ae,It.v));else{var Qe=oh(It);St(Y,22,F(_t,pt,Ae,Qe.slice(0,239)))}}++Ae}}return St(Y,1),Y.end()}function s(k){var G=Ze(2);return G.write_shift(2,k),G}function a(k){var G=Ze(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var W=0,Y=0,ne=0,xe=0;xe<k.SheetNames.length;++xe){var Ae=k.SheetNames[xe],Te=k.Sheets[Ae];if(!(!Te||!Te["!ref"])){++ne;var Ie=tl(Te["!ref"]);W<Ie.e.r&&(W=Ie.e.r),Y<Ie.e.c&&(Y=Ie.e.c)}}return W>8191&&(W=8191),G.write_shift(2,W),G.write_shift(1,ne),G.write_shift(1,Y),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(k,G,W){var Y={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&W.qpro?(Y.s.c=k.read_shift(1),k.l++,Y.s.r=k.read_shift(2),Y.e.c=k.read_shift(1),k.l++,Y.e.r=k.read_shift(2),Y):(Y.s.c=k.read_shift(2),Y.s.r=k.read_shift(2),G==12&&W.qpro&&(k.l+=2),Y.e.c=k.read_shift(2),Y.e.r=k.read_shift(2),G==12&&W.qpro&&(k.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function c(k){var G=Ze(8);return G.write_shift(2,k.s.c),G.write_shift(2,k.s.r),G.write_shift(2,k.e.c),G.write_shift(2,k.e.r),G}function h(k,G,W){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(Y[0].c=k.read_shift(1),Y[3]=k.read_shift(1),Y[0].r=k.read_shift(2),k.l+=2):(Y[2]=k.read_shift(1),Y[0].c=k.read_shift(2),Y[0].r=k.read_shift(2)),Y}function f(k,G,W){var Y=k.l+G,ne=h(k,G,W);if(ne[1].t="s",W.vers==20768){k.l++;var xe=k.read_shift(1);return ne[1].v=k.read_shift(xe,"utf8"),ne}return W.qpro&&k.l++,ne[1].v=k.read_shift(Y-k.l,"cstr"),ne}function p(k,G,W){var Y=Ze(7+W.length);Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,k),Y.write_shift(1,39);for(var ne=0;ne<Y.length;++ne){var xe=W.charCodeAt(ne);Y.write_shift(1,xe>=128?95:xe)}return Y.write_shift(1,0),Y}function _(k,G,W){var Y=h(k,G,W);return Y[1].v=k.read_shift(2,"i"),Y}function m(k,G,W){var Y=Ze(7);return Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,k),Y.write_shift(2,W,"i"),Y}function b(k,G,W){var Y=h(k,G,W);return Y[1].v=k.read_shift(8,"f"),Y}function x(k,G,W){var Y=Ze(13);return Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,k),Y.write_shift(8,W,"f"),Y}function E(k,G,W){var Y=k.l+G,ne=h(k,G,W);if(ne[1].v=k.read_shift(8,"f"),W.qpro)k.l=Y;else{var xe=k.read_shift(2);j(k.slice(k.l,k.l+xe),ne),k.l+=xe}return ne}function A(k,G,W){var Y=G&32768;return G&=-32769,G=(Y?k:0)+(G>=8192?G-16384:G),(Y?"":"$")+(W?Ma(G):da(G))}var P={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},L=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(k,G){Go(k,0);for(var W=[],Y=0,ne="",xe="",Ae="",Te="";k.l<k.length;){var Ie=k[k.l++];switch(Ie){case 0:W.push(k.read_shift(8,"f"));break;case 1:xe=A(G[0].c,k.read_shift(2),!0),ne=A(G[0].r,k.read_shift(2),!1),W.push(xe+ne);break;case 2:{var et=A(G[0].c,k.read_shift(2),!0),lt=A(G[0].r,k.read_shift(2),!1);xe=A(G[0].c,k.read_shift(2),!0),ne=A(G[0].r,k.read_shift(2),!1),W.push(et+lt+":"+xe+ne)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(k.read_shift(2));break;case 6:{for(var yt="";Ie=k[k.l++];)yt+=String.fromCharCode(Ie);W.push('"'+yt.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:Te=W.pop(),Ae=W.pop(),W.push(["AND","OR"][Ie-20]+"("+Ae+","+Te+")");break;default:if(Ie<32&&L[Ie])Te=W.pop(),Ae=W.pop(),W.push(Ae+L[Ie]+Te);else if(P[Ie]){if(Y=P[Ie][1],Y==69&&(Y=k[k.l++]),Y>W.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+W.join("|")+"|");return}var _t=W.slice(-Y);W.length-=Y,W.push(P[Ie][0]+"("+_t.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}W.length==1?G[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function Q(k){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=k.read_shift(2),G[3]=k[k.l++],G[0].c=k[k.l++],G}function ae(k,G){var W=Q(k);return W[1].t="s",W[1].v=k.read_shift(G-4,"cstr"),W}function F(k,G,W,Y){var ne=Ze(6+Y.length);ne.write_shift(2,k),ne.write_shift(1,W),ne.write_shift(1,G),ne.write_shift(1,39);for(var xe=0;xe<Y.length;++xe){var Ae=Y.charCodeAt(xe);ne.write_shift(1,Ae>=128?95:Ae)}return ne.write_shift(1,0),ne}function R(k,G){var W=Q(k);W[1].v=k.read_shift(2);var Y=W[1].v>>1;if(W[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return W[1].v=Y,W}function N(k,G){var W=Q(k),Y=k.read_shift(4),ne=k.read_shift(4),xe=k.read_shift(2);if(xe==65535)return Y===0&&ne===3221225472?(W[1].t="e",W[1].v=15):Y===0&&ne===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var Ae=xe&32768;return xe=(xe&32767)-16446,W[1].v=(1-Ae*2)*(ne*Math.pow(2,xe+32)+Y*Math.pow(2,xe)),W}function U(k,G,W,Y){var ne=Ze(14);if(ne.write_shift(2,k),ne.write_shift(1,W),ne.write_shift(1,G),Y==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var xe=0,Ae=0,Te=0,Ie=0;return Y<0&&(xe=1,Y=-Y),Ae=Math.log2(Y)|0,Y/=Math.pow(2,Ae-31),Ie=Y>>>0,(Ie&2147483648)==0&&(Y/=2,++Ae,Ie=Y>>>0),Y-=Ie,Ie|=2147483648,Ie>>>=0,Y*=Math.pow(2,32),Te=Y>>>0,ne.write_shift(4,Te),ne.write_shift(4,Ie),Ae+=16383+(xe?32768:0),ne.write_shift(2,Ae),ne}function I(k,G){var W=N(k);return k.l+=G-14,W}function M(k,G){var W=Q(k),Y=k.read_shift(4);return W[1].v=Y>>6,W}function z(k,G){var W=Q(k),Y=k.read_shift(8,"f");return W[1].v=Y,W}function de(k,G){var W=z(k);return k.l+=G-10,W}function we(k,G){return k[k.l+G-1]==0?k.read_shift(G,"cstr"):""}function ce(k,G){var W=k[k.l++];W>G-1&&(W=G-1);for(var Y="";Y.length<W;)Y+=String.fromCharCode(k[k.l++]);return Y}function ye(k,G,W){if(!(!W.qpro||G<21)){var Y=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var ne=k.read_shift(G-21,"cstr");return[Y,ne]}}function be(k,G){for(var W={},Y=k.l+G;k.l<Y;){var ne=k.read_shift(2);if(ne==14e3){for(W[ne]=[0,""],W[ne][0]=k.read_shift(2);k[k.l];)W[ne][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return W}function Ne(k,G){var W=Ze(5+k.length);W.write_shift(2,14e3),W.write_shift(2,G);for(var Y=0;Y<k.length;++Y){var ne=k.charCodeAt(Y);W[W.l++]=ne>127?95:ne}return W[W.l++]=0,W}var $e={0:{n:"BOF",f:KM},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:b},15:{n:"LABEL",f},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:we},222:{n:"SHEETNAMELP",f:ce},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ae},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:be},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:de},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:we},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ye},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:r,to_workbook:e}})(),hoe=/^\s|\s$|[\t\n\r]/;function t7(n,e){if(!e.bookSST)return"";var t=[ms];t[t.length]=Et("sst",null,{xmlns:zp[0],count:n.Count,uniqueCount:n.Unique});for(var i=0;i!=n.length;++i)if(n[i]!=null){var r=n[i],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),r.t.match(hoe)&&(s+=' xml:space="preserve"'),s+=">"+Mi(r.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function foe(n){return[n.read_shift(4),n.read_shift(4)]}function doe(n,e){return e||(e=Ze(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var poe=rae;function goe(n){var e=Ao();dt(e,159,doe(n));for(var t=0;t<n.length;++t)dt(e,19,poe(n[t]));return dt(e,160),e.end()}function moe(n){for(var e=[],t=n.split(""),i=0;i<t.length;++i)e[i]=t[i].charCodeAt(0);return e}function n7(n){var e=0,t,i=moe(n),r=i.length+1,s,a,l,c,h;for(t=Id(r),t[0]=i.length,s=1;s!=r;++s)t[s]=i[s-1];for(s=r-1;s>=0;--s)a=t[s],l=(e&16384)===0?0:1,c=e<<1&32767,h=l|c,e=h^a;return e^52811}var _oe=(function(){function n(r,s){switch(s.type){case"base64":return e(ah(r),s);case"binary":return e(r,s);case"buffer":return e(Ei&&Buffer.isBuffer(r)?r.toString("binary"):A1(r),s);case"array":return e(Hy(r),s)}throw new Error("Unrecognized type "+s.type)}function e(r,s){var a=s||{},l=a.dense?[]:{},c=r.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,p){Array.isArray(l)&&(l[p]=[]);for(var _=/\\\w+\b/g,m=0,b,x=-1;b=_.exec(f);){switch(b[0]){case"\\cell":var E=f.slice(m,_.lastIndex-b[0].length);if(E[0]==" "&&(E=E.slice(1)),++x,E.length){var A={v:E,t:"s"};Array.isArray(l)?l[p][x]=A:l[Fi({r:p,c:x})]=A}break}m=_.lastIndex}x>h.e.c&&(h.e.c=x)}),l["!ref"]=ps(h),l}function t(r,s){return Vd(n(r,s),s)}function i(r){for(var s=["{\\rtf1\\ansi"],a=fr(r["!ref"]),l,c=Array.isArray(r),h=a.s.r;h<=a.e.r;++h){s.push("\\trowd\\trautofit1");for(var f=a.s.c;f<=a.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=a.s.c;f<=a.e.c;++f){var p=Fi({r:h,c:f});l=c?(r[h]||[])[f]:r[p],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(oh(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:i}})();function DI(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var voe=6,Qu=voe;function Bv(n){return Math.floor((n+Math.round(128/Qu)/256)*Qu)}function jv(n){return Math.floor((n-5)/Qu*100+.5)/100}function $b(n){return Math.round((n*Qu+5)/Qu*256)/256}function lT(n){n.width?(n.wpx=Bv(n.width),n.wch=jv(n.wpx),n.MDW=Qu):n.wpx?(n.wch=jv(n.wpx),n.width=$b(n.wch),n.MDW=Qu):typeof n.wch=="number"&&(n.width=$b(n.wch),n.wpx=Bv(n.width),n.MDW=Qu),n.customWidth&&delete n.customWidth}var yoe=96,i7=yoe;function Uv(n){return n*96/i7}function r7(n){return n*i7/96}function xoe(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&(e[e.length]=Et("numFmt",null,{numFmtId:i,formatCode:Mi(n[i])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Et("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function woe(n){var e=[];return e[e.length]=Et("cellXfs",null),n.forEach(function(t){e[e.length]=Et("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Et("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function s7(n,e){var t=[ms,Et("styleSheet",null,{xmlns:zp[0],"xmlns:vt":Gs.vt})],i;return n.SSF&&(i=xoe(n.SSF))!=null&&(t[t.length]=i),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=woe(e.cellXfs))&&(t[t.length]=i),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function boe(n,e){var t=n.read_shift(2),i=Fa(n);return[t,i]}function Eoe(n,e,t){t||(t=Ze(6+4*e.length)),t.write_shift(2,n),Ks(e,t);var i=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),i}function Soe(n,e,t){var i={};i.sz=n.read_shift(2)/20;var r=hae(n);r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1);var s=n.read_shift(2);switch(s===700&&(i.bold=1),n.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var a=n.read_shift(1);a!=0&&(i.underline=a);var l=n.read_shift(1);l>0&&(i.family=l);var c=n.read_shift(1);switch(c>0&&(i.charset=c),n.l++,i.color=uae(n),n.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Fa(n),i}function Toe(n,e){e||(e=Ze(153)),e.write_shift(2,n.sz*20),fae(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),Mv(n.color,e);var i=0;return i=2,e.write_shift(1,i),Ks(n.name,e),e.length>e.l?e.slice(0,e.l):e}var Aoe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ww,Coe=eu;function LI(n,e){e||(e=Ze(84)),ww||(ww=XS(Aoe));var t=ww[n.patternType];t==null&&(t=40),e.write_shift(4,t);var i=0;if(t!=40)for(Mv({auto:1},e),Mv({auto:1},e);i<12;++i)e.write_shift(4,0);else{for(;i<4;++i)e.write_shift(4,0);for(;i<12;++i)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Noe(n,e){var t=n.l+e,i=n.read_shift(2),r=n.read_shift(2);return n.l=t,{ixfe:i,numFmtId:r}}function a7(n,e,t){t||(t=Ze(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var i=0;return t.write_shift(1,i),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function zg(n,e){return e||(e=Ze(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Roe=eu;function Ioe(n,e){return e||(e=Ze(51)),e.write_shift(1,0),zg(null,e),zg(null,e),zg(null,e),zg(null,e),zg(null,e),e.length>e.l?e.slice(0,e.l):e}function koe(n,e){return e||(e=Ze(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Pv(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Doe(n,e,t){var i=Ze(2052);return i.write_shift(4,n),Pv(e,i),Pv(t,i),i.length>i.l?i.slice(0,i.l):i}function Loe(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&++t}),t!=0&&(dt(n,615,lc(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&dt(n,44,Eoe(r,e[r]))}),dt(n,616))}}function Ooe(n){var e=1;dt(n,611,lc(e)),dt(n,43,Toe({sz:12,color:{theme:1},name:"Calibri",family:2})),dt(n,612)}function Poe(n){var e=2;dt(n,603,lc(e)),dt(n,45,LI({patternType:"none"})),dt(n,45,LI({patternType:"gray125"})),dt(n,604)}function Moe(n){var e=1;dt(n,613,lc(e)),dt(n,46,Ioe()),dt(n,614)}function Foe(n){var e=1;dt(n,626,lc(e)),dt(n,47,a7({numFmtId:0},65535)),dt(n,627)}function Boe(n,e){dt(n,617,lc(e.length)),e.forEach(function(t){dt(n,47,a7(t,0))}),dt(n,618)}function joe(n){var e=1;dt(n,619,lc(e)),dt(n,48,koe({xfId:0,name:"Normal"})),dt(n,620)}function Uoe(n){var e=0;dt(n,505,lc(e)),dt(n,506)}function Voe(n){var e=0;dt(n,508,Doe(e,"TableStyleMedium9","PivotStyleMedium4")),dt(n,509)}function zoe(n,e){var t=Ao();return dt(t,278),Loe(t,n.SSF),Ooe(t),Poe(t),Moe(t),Foe(t),Boe(t,e.cellXfs),joe(t),Uoe(t),Voe(t),dt(t,279),t.end()}function o7(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[ms];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Hoe(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Fa(n)}}function qoe(n){var e=Ze(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Ks(n.name,e),e.slice(0,e.l)}function Woe(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function Goe(n){var e=Ze(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function $oe(n,e){var t=Ze(8+2*e.length);return t.write_shift(4,n),Ks(e,t),t.slice(0,t.l)}function Yoe(n){return n.l+=4,n.read_shift(4)!=0}function Koe(n,e){var t=Ze(8);return t.write_shift(4,n),t.write_shift(4,1),t}function Xoe(){var n=Ao();return dt(n,332),dt(n,334,lc(1)),dt(n,335,qoe({name:"XLDAPR",version:12e4,flags:3496657072})),dt(n,336),dt(n,339,$oe(1,"XLDAPR")),dt(n,52),dt(n,35,lc(514)),dt(n,4096,lc(0)),dt(n,4097,El(1)),dt(n,36),dt(n,53),dt(n,340),dt(n,337,Koe(1)),dt(n,51,Goe([[1,0]])),dt(n,338),dt(n,333),n.end()}function l7(){var n=[ms];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function Qoe(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Fi(t);var i=n.read_shift(1);return i&2&&(e.l="1"),i&8&&(e.a="1"),e}var $0=1024;function c7(n,e){for(var t=[21600,21600],i=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),r=[Et("xml",null,{"xmlns:v":$o.v,"xmlns:o":$o.o,"xmlns:x":$o.x,"xmlns:mv":$o.mv}).replace(/\/>/,">"),Et("o:shapelayout",Et("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Et("v:shapetype",[Et("v:stroke",null,{joinstyle:"miter"}),Et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:i})];$0<n*1e3;)$0+=1e3;return e.forEach(function(s){var a=Ys(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Et("v:fill",c,l),f={on:"t",obscured:"t"};++$0,r=r.concat(["<v:shape"+Zm({id:"_x0000_s"+$0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Et("v:shadow",null,f),Et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fa("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),fa("x:AutoFill","False"),fa("x:Row",String(a.r)),fa("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function u7(n){var e=[ms,Et("comments",null,{xmlns:zp[0]})],t=[];return e.push("<authors>"),n.forEach(function(i){i[1].forEach(function(r){var s=Mi(r.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),r.T&&r.ID&&t.indexOf("tc="+r.ID)==-1&&(t.push("tc="+r.ID),e.push("<author>tc="+r.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(i){var r=0,s=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=t.indexOf("tc="+i[1][0].ID):i[1].forEach(function(c){c.a&&(r=t.indexOf(Mi(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),s.length<=1)e.push(fa("t",Mi(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)a+=`Reply:
    `+s[l]+`
`;e.push(fa("t",Mi(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Joe(n,e,t){var i=[ms,Et("ThreadedComments",null,{xmlns:Gs.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(r){var s="";(r[1]||[]).forEach(function(a,l){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var c={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,a.ID=c.id,a.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),i.push(Et("threadedComment",fa("text",a.t||""),c))})}),i.push("</ThreadedComments>"),i.join("")}function Zoe(n){var e=[ms,Et("personList",null,{xmlns:Gs.TCMNT,"xmlns:x":zp[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,i){e.push(Et("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function ele(n){var e={};e.iauthor=n.read_shift(4);var t=Wd(n);return e.rfx=t.s,e.ref=Fi(t.s),n.l+=16,e}function tle(n,e){return e==null&&(e=Ze(36)),e.write_shift(4,n[1].iauthor),qp(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var nle=Fa;function ile(n){return Ks(n.slice(0,54))}function rle(n){var e=Ao(),t=[];return dt(e,628),dt(e,630),n.forEach(function(i){i[1].forEach(function(r){t.indexOf(r.a)>-1||(t.push(r.a.slice(0,54)),dt(e,632,ile(r.a)))})}),dt(e,631),dt(e,633),n.forEach(function(i){i[1].forEach(function(r){r.iauthor=t.indexOf(r.a);var s={s:Ys(i[0]),e:Ys(i[0])};dt(e,635,tle([s,r])),r.t&&r.t.length>0&&dt(e,637,aae(r)),dt(e,636),delete r.iauthor})}),dt(e,634),dt(e,629),e.end()}function sle(n,e){e.FullPaths.forEach(function(t,i){if(i!=0){var r=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&Wi.utils.cfb_add(n,r,e.FileIndex[i].content)}})}var h7=["xlsb","xlsm","xlam","biff8","xla"],ale=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(i,r,s,a){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,f=a.length>0?parseInt(a,10)|0:0;return l?f+=e.c:--f,c?h+=e.r:--h,r+(l?"":"$")+Ma(f)+(c?"":"$")+da(h)}return function(r,s){return e=s,r.replace(n,t)}})(),cT=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,uT=(function(){return function(e,t){return e.replace(cT,function(i,r,s,a,l,c){var h=iT(a)-(s?0:t.c),f=nT(c)-(l?0:t.r),p=f==0?"":l?f+1:"["+f+"]",_=h==0?"":s?h+1:"["+h+"]";return r+"R"+p+"C"+_})}})();function ole(n,e){return n.replace(cT,function(t,i,r,s,a,l){return i+(r=="$"?r+s:Ma(iT(s)+e.c))+(a=="$"?a+l:da(nT(l)+e.r))})}function lle(n){return n.length!=1}function us(n){n.l+=1}function Nf(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function f7(n,e,t){var i=2;if(t){if(t.biff>=2&&t.biff<=5)return d7(n);t.biff==12&&(i=4)}var r=n.read_shift(i),s=n.read_shift(i),a=Nf(n),l=Nf(n);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function d7(n){var e=Nf(n),t=Nf(n),i=n.read_shift(1),r=n.read_shift(1);return{s:{r:e[0],c:i,cRel:e[1],rRel:e[2]},e:{r:t[0],c:r,cRel:t[1],rRel:t[2]}}}function cle(n,e,t){if(t.biff<8)return d7(n);var i=n.read_shift(t.biff==12?4:2),r=n.read_shift(t.biff==12?4:2),s=Nf(n),a=Nf(n);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:a[0],cRel:a[1],rRel:a[2]}}}function p7(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return ule(n);var i=n.read_shift(t&&t.biff==12?4:2),r=Nf(n);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function ule(n){var e=Nf(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function hle(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function fle(n,e,t){var i=t&&t.biff?t.biff:8;if(i>=2&&i<=5)return dle(n);var r=n.read_shift(i>=12?4:2),s=n.read_shift(2),a=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;r>524287;)r-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r,c:s,cRel:a,rRel:l}}function dle(n){var e=n.read_shift(2),t=n.read_shift(1),i=(e&32768)>>15,r=(e&16384)>>14;return e&=16383,i==1&&e>=8192&&(e=e-16384),r==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:r,rRel:i}}function ple(n,e,t){var i=(n[n.l++]&96)>>5,r=f7(n,t.biff>=2&&t.biff<=5?6:8,t);return[i,r]}function gle(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var a=f7(n,s,t);return[i,r,a]}function mle(n,e,t){var i=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[i]}function _le(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[i,r]}function vle(n,e,t){var i=(n[n.l++]&96)>>5,r=cle(n,e-1,t);return[i,r]}function yle(n,e,t){var i=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[i]}function OI(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function xle(n,e,t){n.l+=2;for(var i=n.read_shift(t&&t.biff==2?1:2),r=[],s=0;s<=i;++s)r.push(n.read_shift(t&&t.biff==2?1:2));return r}function wle(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=2,[i,n.read_shift(t&&t.biff==2?1:2)]}function ble(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=2,[i,n.read_shift(t&&t.biff==2?1:2)]}function Ele(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Sle(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[i]}function g7(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Tle(n){return n.read_shift(2),g7(n)}function Ale(n){return n.read_shift(2),g7(n)}function Cle(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=p7(n,0,t);return[i,r]}function Nle(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=fle(n,0,t);return[i,r]}function Rle(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=p7(n,0,t);return[i,r,s]}function Ile(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=n.read_shift(t&&t.biff<=3?1:2);return[Ice[r],v7[r],i]}function kle(n,e,t){var i=n[n.l++],r=n.read_shift(1),s=t&&t.biff<=3?[i==88?-1:0,n.read_shift(1)]:Dle(n);return[r,(s[0]===0?v7:Rce)[s[1]]]}function Dle(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Lle(n,e,t){n.l+=t&&t.biff==2?3:4}function Ole(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var i=n.read_shift(2),r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function Ple(n){return n.l++,R1[n.read_shift(1)]}function Mle(n){return n.l++,n.read_shift(2)}function Fle(n){return n.l++,n.read_shift(1)!==0}function Ble(n){return n.l++,Wp(n)}function jle(n,e,t){return n.l++,QM(n,e-1,t)}function Ule(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Rae(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=R1[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Wp(n);break;case 2:t[1]=Lae(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Vle(n,e,t){for(var i=n.read_shift(t.biff==12?4:2),r=[],s=0;s!=i;++s)r.push((t.biff==12?Wd:Mae)(n));return r}function zle(n,e,t){var i=0,r=0;t.biff==12?(i=n.read_shift(4),r=n.read_shift(4)):(r=1+n.read_shift(1),i=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--i,--r==0&&(r=256));for(var s=0,a=[];s!=i&&(a[s]=[]);++s)for(var l=0;l!=r;++l)a[s][l]=Ule(n,t.biff);return a}function Hle(n,e,t){var i=n.read_shift(1)>>>5&3,r=!t||t.biff>=8?4:2,s=n.read_shift(r);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[i,0,s]}function qle(n,e,t){if(t.biff==5)return Wle(n);var i=n.read_shift(1)>>>5&3,r=n.read_shift(2),s=n.read_shift(4);return[i,r,s]}function Wle(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var i=n.read_shift(2);return n.l+=12,[e,t,i]}function Gle(n,e,t){var i=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function $le(n,e,t){var i=n.read_shift(1)>>>5&3,r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function Yle(n,e,t){var i=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[i]}function Kle(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[i,r]}var Xle=eu,Qle=eu,Jle=eu;function I1(n,e,t){return n.l+=2,[hle(n)]}function hT(n){return n.l+=6,[]}var Zle=I1,ece=hT,tce=hT,nce=I1;function m7(n){return n.l+=2,[KM(n),n.read_shift(2)&1]}var ice=I1,rce=m7,sce=hT,ace=I1,oce=I1,lce=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cce(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(4),r=n.read_shift(2),s=n.read_shift(2),a=lce[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:i,c:r,C:s}}function uce(n){return n.l+=2,[n.read_shift(4)]}function hce(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function fce(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function dce(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function pce(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function gce(n){return n.l+=4,[0,0]}var PI={1:{n:"PtgExp",f:Ole},2:{n:"PtgTbl",f:Jle},3:{n:"PtgAdd",f:us},4:{n:"PtgSub",f:us},5:{n:"PtgMul",f:us},6:{n:"PtgDiv",f:us},7:{n:"PtgPower",f:us},8:{n:"PtgConcat",f:us},9:{n:"PtgLt",f:us},10:{n:"PtgLe",f:us},11:{n:"PtgEq",f:us},12:{n:"PtgGe",f:us},13:{n:"PtgGt",f:us},14:{n:"PtgNe",f:us},15:{n:"PtgIsect",f:us},16:{n:"PtgUnion",f:us},17:{n:"PtgRange",f:us},18:{n:"PtgUplus",f:us},19:{n:"PtgUminus",f:us},20:{n:"PtgPercent",f:us},21:{n:"PtgParen",f:us},22:{n:"PtgMissArg",f:us},23:{n:"PtgStr",f:jle},26:{n:"PtgSheet",f:hce},27:{n:"PtgEndSheet",f:fce},28:{n:"PtgErr",f:Ple},29:{n:"PtgBool",f:Fle},30:{n:"PtgInt",f:Mle},31:{n:"PtgNum",f:Ble},32:{n:"PtgArray",f:yle},33:{n:"PtgFunc",f:Ile},34:{n:"PtgFuncVar",f:kle},35:{n:"PtgName",f:Hle},36:{n:"PtgRef",f:Cle},37:{n:"PtgArea",f:ple},38:{n:"PtgMemArea",f:Gle},39:{n:"PtgMemErr",f:Xle},40:{n:"PtgMemNoMem",f:Qle},41:{n:"PtgMemFunc",f:$le},42:{n:"PtgRefErr",f:Yle},43:{n:"PtgAreaErr",f:mle},44:{n:"PtgRefN",f:Nle},45:{n:"PtgAreaN",f:vle},46:{n:"PtgMemAreaN",f:dce},47:{n:"PtgMemNoMemN",f:pce},57:{n:"PtgNameX",f:qle},58:{n:"PtgRef3d",f:Rle},59:{n:"PtgArea3d",f:gle},60:{n:"PtgRefErr3d",f:Kle},61:{n:"PtgAreaErr3d",f:_le},255:{}},mce={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_ce={1:{n:"PtgElfLel",f:m7},2:{n:"PtgElfRw",f:ace},3:{n:"PtgElfCol",f:Zle},6:{n:"PtgElfRwV",f:oce},7:{n:"PtgElfColV",f:nce},10:{n:"PtgElfRadical",f:ice},11:{n:"PtgElfRadicalS",f:sce},13:{n:"PtgElfColS",f:ece},15:{n:"PtgElfColSV",f:tce},16:{n:"PtgElfRadicalLel",f:rce},25:{n:"PtgList",f:cce},29:{n:"PtgSxName",f:uce},255:{}},vce={0:{n:"PtgAttrNoop",f:gce},1:{n:"PtgAttrSemi",f:Sle},2:{n:"PtgAttrIf",f:ble},4:{n:"PtgAttrChoose",f:xle},8:{n:"PtgAttrGoto",f:wle},16:{n:"PtgAttrSum",f:Lle},32:{n:"PtgAttrBaxcel",f:OI},33:{n:"PtgAttrBaxcel",f:OI},64:{n:"PtgAttrSpace",f:Tle},65:{n:"PtgAttrSpaceSemi",f:Ale},128:{n:"PtgAttrIfError",f:Ele},255:{}};function yce(n,e,t,i){if(i.biff<8)return eu(n,e);for(var r=n.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=zle(n,0,i),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=Vle(n,t[a][1],i),s.push(t[a][2]);break;case"PtgExp":i&&i.biff==12&&(t[a][1][1]=n.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=r-n.l,e!==0&&s.push(eu(n,e)),s}function xce(n,e,t){for(var i=n.l+e,r,s,a=[];i!=n.l;)e=i-n.l,s=n[n.l],r=PI[s]||PI[mce[s]],(s===24||s===25)&&(r=(s===24?_ce:vce)[n[n.l+1]]),!r||!r.f?eu(n,e):a.push([r.n,r.f(n,e,t)]);return a}function wce(n){for(var e=[],t=0;t<n.length;++t){for(var i=n[t],r=[],s=0;s<i.length;++s){var a=i[s];if(a)switch(a[0]){case 2:r.push('"'+a[1].replace(/"/g,'""')+'"');break;default:r.push(a[1])}else r.push("")}e.push(r.join(","))}return e.join(";")}var bce={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ece(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function _7(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var i=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!i)return"SH33TJSERR1";var r="";if(t.biff>8)switch(n[i[0]][0]){case 357:return r=i[1]==-1?"#REF":n.SheetNames[i[1]],i[1]==i[2]?r:r+":"+n.SheetNames[i[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[i[0]][0];case 355:default:return"SH33TJSSRC"+n[i[0]][0]}switch(n[i[0]][0][0]){case 1025:return r=i[1]==-1?"#REF":n.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+n.SheetNames[i[2]];case 14849:return n[i[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[i[0]][0][3]?(r=i[1]==-1?"#REF":n[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+n[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function MI(n,e,t){var i=_7(n,e,t);return i=="#REF"?i:Ece(i,t)}function Tp(n,e,t,i,r){var s=r&&r.biff||8,a={s:{c:0,r:0}},l=[],c,h,f,p=0,_=0,m,b="";if(!n[0]||!n[0][0])return"";for(var x=-1,E="",A=0,P=n[0].length;A<P;++A){var L=n[0][A];switch(L[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),h=l.pop(),x>=0){switch(n[0][x][1][0]){case 0:E=zr(" ",n[0][x][1][1]);break;case 1:E=zr("\r",n[0][x][1][1]);break;default:if(E="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][x][1][0])}h=h+E,x=-1}l.push(h+bce[L[0]]+c);break;case"PtgIsect":c=l.pop(),h=l.pop(),l.push(h+" "+c);break;case"PtgUnion":c=l.pop(),h=l.pop(),l.push(h+","+c);break;case"PtgRange":c=l.pop(),h=l.pop(),l.push(h+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=bm(L[1][1],a,r),l.push(Em(f,s));break;case"PtgRefN":f=t?bm(L[1][1],t,r):L[1][1],l.push(Em(f,s));break;case"PtgRef3d":p=L[1][1],f=bm(L[1][2],a,r),b=MI(i,p,r),l.push(b+"!"+Em(f,s));break;case"PtgFunc":case"PtgFuncVar":var j=L[1][0],Q=L[1][1];j||(j=0),j&=127;var ae=j==0?[]:l.slice(-j);l.length-=j,Q==="User"&&(Q=ae.shift()),l.push(Q+"("+ae.join(",")+")");break;case"PtgBool":l.push(L[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(L[1]);break;case"PtgNum":l.push(String(L[1]));break;case"PtgStr":l.push('"'+L[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(L[1]);break;case"PtgAreaN":m=xI(L[1][1],t?{s:t}:a,r),l.push(yw(m,r));break;case"PtgArea":m=xI(L[1][1],a,r),l.push(yw(m,r));break;case"PtgArea3d":p=L[1][1],m=L[1][2],b=MI(i,p,r),l.push(b+"!"+yw(m,r));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=L[1][2];var F=(i.names||[])[_-1]||(i[0]||[])[_],R=F?F.Name:"SH33TJSNAME"+String(_);R&&R.slice(0,6)=="_xlfn."&&!r.xlfn&&(R=R.slice(6)),l.push(R);break;case"PtgNameX":var N=L[1][1];_=L[1][2];var U;if(r.biff<=5)N<0&&(N=-N),i[N]&&(U=i[N][_]);else{var I="";if(((i[N]||[])[0]||[])[0]==14849||(((i[N]||[])[0]||[])[0]==1025?i[N][_]&&i[N][_].itab>0&&(I=i.SheetNames[i[N][_].itab-1]+"!"):I=i.SheetNames[_-1]+"!"),i[N]&&i[N][_])I+=i[N][_].Name;else if(i[0]&&i[0][_])I+=i[0][_].Name;else{var M=(_7(i,N,r)||"").split(";;");M[_-1]?I=M[_-1]:I+="SH33TJSERRX"}l.push(I);break}U||(U={Name:"SH33TJSERRY"}),l.push(U.Name);break;case"PtgParen":var z="(",de=")";if(x>=0){switch(E="",n[0][x][1][0]){case 2:z=zr(" ",n[0][x][1][1])+z;break;case 3:z=zr("\r",n[0][x][1][1])+z;break;case 4:de=zr(" ",n[0][x][1][1])+de;break;case 5:de=zr("\r",n[0][x][1][1])+de;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][x][1][0])}x=-1}l.push(z+l.pop()+de);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:L[1][1],r:L[1][0]};var we={c:t.c,r:t.r};if(i.sharedf[Fi(f)]){var ce=i.sharedf[Fi(f)];l.push(Tp(ce,a,we,i,r))}else{var ye=!1;for(c=0;c!=i.arrayf.length;++c)if(h=i.arrayf[c],!(f.c<h[0].s.c||f.c>h[0].e.c)&&!(f.r<h[0].s.r||f.r>h[0].e.r)){l.push(Tp(h[1],a,we,i,r)),ye=!0;break}ye||l.push(L[1])}break;case"PtgArray":l.push("{"+wce(L[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+L[1].idx+"[#"+L[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(L));default:throw new Error("Unrecognized Formula Token: "+String(L))}var be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&x>=0&&be.indexOf(n[0][A][0])==-1){L=n[0][x];var Ne=!0;switch(L[1][0]){case 4:Ne=!1;case 0:E=zr(" ",L[1][1]);break;case 5:Ne=!1;case 1:E=zr("\r",L[1][1]);break;default:if(E="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+L[1][0])}l.push((Ne?E:"")+l.pop()+(Ne?"":E)),x=-1}}if(l.length>1&&r.WTF)throw new Error("bad formula stack");return l[0]}function Sce(n){if(n==null){var e=Ze(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return kd(n);return kd(0)}function Tce(n,e,t,i,r){var s=Dd(e,t,r),a=Sce(n.v),l=Ze(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var h=Ze(n.bf.length),f=0;f<n.bf.length;++f)h[f]=n.bf[f];var p=ha([s,a,l,h]);return p}function qy(n,e,t){var i=n.read_shift(4),r=xce(n,i,t),s=n.read_shift(4),a=s>0?yce(n,s,r,t):null;return[r,a]}var Ace=qy,Wy=qy,Cce=qy,Nce=qy,Rce={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},v7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Ice={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function kce(n){var e="of:="+n.replace(cT,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Dce(n){return n.replace(/\./,"!")}var Sm=typeof Map<"u";function fT(n,e,t){var i=0,r=n.length;if(t){if(Sm?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=Sm?t.get(e):t[e];i<s.length;++i)if(n[s[i]].t===e)return n.Count++,s[i]}}else for(;i<r;++i)if(n[i].t===e)return n.Count++,i;return n[r]={t:e},n.Count++,n.Unique++,t&&(Sm?(t.has(e)||t.set(e,[]),t.get(e).push(r)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(r))),r}function Gy(n,e){var t={min:n+1,max:n+1},i=-1;return e.MDW&&(Qu=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?i=jv(e.wpx):e.wch!=null&&(i=e.wch),i>-1?(t.width=$b(i),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function y7(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Ff(n,e,t){var i=t.revssf[e.z!=null?e.z:"General"],r=60,s=n.length;if(i==null&&t.ssf){for(;r<392;++r)if(t.ssf[r]==null){pM(e.z,r),t.ssf[r]=e.z,t.revssf[e.z]=i=r;break}}for(r=0;r!=s;++r)if(n[r].numFmtId===i)return r;return n[s]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Lce(n,e,t){if(n&&n["!ref"]){var i=fr(n["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function Oce(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+ps(n[t])+'"/>';return e+"</mergeCells>"}function Pce(n,e,t,i,r){var s=!1,a={},l=null;if(i.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}s=!0,a.codeName=Jm(Mi(c))}if(n&&n["!outline"]){var h={summaryBelow:1,summaryRight:1};n["!outline"].above&&(h.summaryBelow=0),n["!outline"].left&&(h.summaryRight=0),l=(l||"")+Et("outlinePr",null,h)}!s&&!l||(r[r.length]=Et("sheetPr",l,a))}var Mce=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Fce=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Bce(n){var e={sheet:1};return Mce.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Fce.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=n7(n.password).toString(16).toUpperCase()),Et("sheetProtection",null,e)}function jce(n){return y7(n),Et("pageMargins",null,n)}function Uce(n,e){for(var t=["<cols>"],i,r=0;r!=e.length;++r)(i=e[r])&&(t[t.length]=Et("col",null,Gy(r,i)));return t[t.length]="</cols>",t.join("")}function Vce(n,e,t,i){var r=typeof n.ref=="string"?n.ref:ps(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,a=tl(r);a.s.r==a.e.r&&(a.e.r=tl(e["!ref"]).e.r,r=ps(a));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==i){c.Ref="'"+t.SheetNames[i]+"'!"+r;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+t.SheetNames[i]+"'!"+r}),Et("autoFilter",null,{ref:r})}function zce(n,e,t,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),Et("sheetViews",Et("sheetView",null,r),{})}function Hce(n,e,t,i){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var r="",s=n.t,a=n.v;if(n.t!=="z")switch(n.t){case"b":r=n.v?"1":"0";break;case"n":r=""+n.v;break;case"e":r=R1[n.v];break;case"d":i&&i.cellDates?r=eo(n.v,-1).toISOString():(n=No(n),n.t="n",r=""+(n.v=Co(eo(n.v)))),typeof n.z>"u"&&(n.z=qr[14]);break;default:r=n.v;break}var l=fa("v",Mi(r)),c={r:e},h=Ff(i.cellXfs,n,i);switch(h!==0&&(c.s=h),n.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){l=fa("v",""+fT(i.Strings,n.v,i.revStrings)),c.t="s";break}c.t="str";break}if(n.t!=s&&(n.t=s,n.v=a),typeof n.f=="string"&&n.f){var f=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;l=Et("f",Mi(n.f),f)+(n.v!=null?l:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(c.cm=1),Et("c",l,c)}function qce(n,e,t,i){var r=[],s=[],a=fr(n["!ref"]),l="",c,h="",f=[],p=0,_=0,m=n["!rows"],b=Array.isArray(n),x={r:h},E,A=-1;for(_=a.s.c;_<=a.e.c;++_)f[_]=Ma(_);for(p=a.s.r;p<=a.e.r;++p){for(s=[],h=da(p),_=a.s.c;_<=a.e.c;++_){c=f[_]+h;var P=b?(n[p]||[])[_]:n[c];P!==void 0&&(l=Hce(P,c,n,e))!=null&&s.push(l)}(s.length>0||m&&m[p])&&(x={r:h},m&&m[p]&&(E=m[p],E.hidden&&(x.hidden=1),A=-1,E.hpx?A=Uv(E.hpx):E.hpt&&(A=E.hpt),A>-1&&(x.ht=A,x.customHeight=1),E.level&&(x.outlineLevel=E.level)),r[r.length]=Et("row",s.join(""),x))}if(m)for(;p<m.length;++p)m&&m[p]&&(x={r:p+1},E=m[p],E.hidden&&(x.hidden=1),A=-1,E.hpx?A=Uv(E.hpx):E.hpt&&(A=E.hpt),A>-1&&(x.ht=A,x.customHeight=1),E.level&&(x.outlineLevel=E.level),r[r.length]=Et("row","",x));return r.join("")}function x7(n,e,t,i){var r=[ms,Et("worksheet",null,{xmlns:zp[0],"xmlns:r":Gs.r})],s=t.SheetNames[n],a=0,l="",c=t.Sheets[s];c==null&&(c={});var h=c["!ref"]||"A1",f=fr(h);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),h=ps(f)}i||(i={}),c["!comments"]=[];var p=[];Pce(c,t,n,e,r),r[r.length]=Et("dimension",null,{ref:h}),r[r.length]=zce(c,e,n,t),e.sheetFormat&&(r[r.length]=Et("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(r[r.length]=Uce(c,c["!cols"])),r[a=r.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=qce(c,e),l.length>0&&(r[r.length]=l)),r.length>a+1&&(r[r.length]="</sheetData>",r[a]=r[a].replace("/>",">")),c["!protect"]&&(r[r.length]=Bce(c["!protect"])),c["!autofilter"]!=null&&(r[r.length]=Vce(c["!autofilter"],c,t,n)),c["!merges"]!=null&&c["!merges"].length>0&&(r[r.length]=Oce(c["!merges"]));var _=-1,m,b=-1;return c["!links"].length>0&&(r[r.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(m={ref:x[0]},x[1].Target.charAt(0)!="#"&&(b=Li(i,-1,Mi(x[1].Target).replace(/#.*$/,""),vi.HLINK),m["r:id"]="rId"+b),(_=x[1].Target.indexOf("#"))>-1&&(m.location=Mi(x[1].Target.slice(_+1))),x[1].Tooltip&&(m.tooltip=Mi(x[1].Tooltip)),r[r.length]=Et("hyperlink",null,m))}),r[r.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(r[r.length]=jce(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(r[r.length]=fa("ignoredErrors",Et("ignoredError",null,{numberStoredAsText:1,sqref:h}))),p.length>0&&(b=Li(i,-1,"../drawings/drawing"+(n+1)+".xml",vi.DRAW),r[r.length]=Et("drawing",null,{"r:id":"rId"+b}),c["!drawing"]=p),c["!comments"].length>0&&(b=Li(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",vi.VML),r[r.length]=Et("legacyDrawing",null,{"r:id":"rId"+b}),c["!legacy"]=b),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Wce(n,e){var t={},i=n.l+e;t.r=n.read_shift(4),n.l+=4;var r=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=i,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=r/20),t}function Gce(n,e,t){var i=Ze(145),r=(t["!rows"]||[])[n]||{};i.write_shift(4,n),i.write_shift(4,0);var s=320;r.hpx?s=Uv(r.hpx)*20:r.hpt&&(s=r.hpt*20),i.write_shift(2,s),i.write_shift(1,0);var a=0;r.level&&(a|=r.level),r.hidden&&(a|=16),(r.hpx||r.hpt)&&(a|=32),i.write_shift(1,a),i.write_shift(1,0);var l=0,c=i.l;i.l+=4;for(var h={r:n,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var p=-1,_=-1,m=f<<10;m<f+1<<10;++m){h.c=m;var b=Array.isArray(t)?(t[h.r]||[])[h.c]:t[Fi(h)];b&&(p<0&&(p=m),_=m)}p<0||(++l,i.write_shift(4,p),i.write_shift(4,_))}var x=i.l;return i.l=c,i.write_shift(4,l),i.l=x,i.length>i.l?i.slice(0,i.l):i}function $ce(n,e,t,i){var r=Gce(i,t,e);(r.length>17||(e["!rows"]||[])[i])&&dt(n,0,r)}var Yce=Wd,Kce=qp;function Xce(){}function Qce(n,e){var t={},i=n[n.l];return++n.l,t.above=!(i&64),t.left=!(i&128),n.l+=18,t.name=oae(n),t}function Jce(n,e,t){t==null&&(t=Ze(84+4*n.length));var i=192;e&&(e.above&&(i&=-65),e.left&&(i&=-129)),t.write_shift(1,i);for(var r=1;r<3;++r)t.write_shift(1,0);return Mv({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),PM(n,t),t.slice(0,t.l)}function Zce(n){var e=Rl(n);return[e]}function eue(n,e,t){return t==null&&(t=Ze(8)),zd(e,t)}function tue(n){var e=Hd(n);return[e]}function nue(n,e,t){return t==null&&(t=Ze(4)),qd(e,t)}function iue(n){var e=Rl(n),t=n.read_shift(1);return[e,t,"b"]}function rue(n,e,t){return t==null&&(t=Ze(9)),zd(e,t),t.write_shift(1,n.v?1:0),t}function sue(n){var e=Hd(n),t=n.read_shift(1);return[e,t,"b"]}function aue(n,e,t){return t==null&&(t=Ze(5)),qd(e,t),t.write_shift(1,n.v?1:0),t}function oue(n){var e=Rl(n),t=n.read_shift(1);return[e,t,"e"]}function lue(n,e,t){return t==null&&(t=Ze(9)),zd(e,t),t.write_shift(1,n.v),t}function cue(n){var e=Hd(n),t=n.read_shift(1);return[e,t,"e"]}function uue(n,e,t){return t==null&&(t=Ze(8)),qd(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function hue(n){var e=Rl(n),t=n.read_shift(4);return[e,t,"s"]}function fue(n,e,t){return t==null&&(t=Ze(12)),zd(e,t),t.write_shift(4,e.v),t}function due(n){var e=Hd(n),t=n.read_shift(4);return[e,t,"s"]}function pue(n,e,t){return t==null&&(t=Ze(8)),qd(e,t),t.write_shift(4,e.v),t}function gue(n){var e=Rl(n),t=Wp(n);return[e,t,"n"]}function mue(n,e,t){return t==null&&(t=Ze(16)),zd(e,t),kd(n.v,t),t}function _ue(n){var e=Hd(n),t=Wp(n);return[e,t,"n"]}function vue(n,e,t){return t==null&&(t=Ze(12)),qd(e,t),kd(n.v,t),t}function yue(n){var e=Rl(n),t=MM(n);return[e,t,"n"]}function xue(n,e,t){return t==null&&(t=Ze(12)),zd(e,t),FM(n.v,t),t}function wue(n){var e=Hd(n),t=MM(n);return[e,t,"n"]}function bue(n,e,t){return t==null&&(t=Ze(8)),qd(e,t),FM(n.v,t),t}function Eue(n){var e=Rl(n),t=rT(n);return[e,t,"is"]}function Sue(n){var e=Rl(n),t=Fa(n);return[e,t,"str"]}function Tue(n,e,t){return t==null&&(t=Ze(12+4*n.v.length)),zd(e,t),Ks(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Aue(n){var e=Hd(n),t=Fa(n);return[e,t,"str"]}function Cue(n,e,t){return t==null&&(t=Ze(8+4*n.v.length)),qd(e,t),Ks(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Nue(n,e,t){var i=n.l+e,r=Rl(n);r.r=t["!row"];var s=n.read_shift(1),a=[r,s,"b"];if(t.cellFormula){n.l+=2;var l=Wy(n,i-n.l,t);a[3]=Tp(l,null,r,t.supbooks,t)}else n.l=i;return a}function Rue(n,e,t){var i=n.l+e,r=Rl(n);r.r=t["!row"];var s=n.read_shift(1),a=[r,s,"e"];if(t.cellFormula){n.l+=2;var l=Wy(n,i-n.l,t);a[3]=Tp(l,null,r,t.supbooks,t)}else n.l=i;return a}function Iue(n,e,t){var i=n.l+e,r=Rl(n);r.r=t["!row"];var s=Wp(n),a=[r,s,"n"];if(t.cellFormula){n.l+=2;var l=Wy(n,i-n.l,t);a[3]=Tp(l,null,r,t.supbooks,t)}else n.l=i;return a}function kue(n,e,t){var i=n.l+e,r=Rl(n);r.r=t["!row"];var s=Fa(n),a=[r,s,"str"];if(t.cellFormula){n.l+=2;var l=Wy(n,i-n.l,t);a[3]=Tp(l,null,r,t.supbooks,t)}else n.l=i;return a}var Due=Wd,Lue=qp;function Oue(n,e){return e==null&&(e=Ze(4)),e.write_shift(4,n),e}function Pue(n,e){var t=n.l+e,i=Wd(n),r=sT(n),s=Fa(n),a=Fa(n),l=Fa(n);n.l=t;var c={rfx:i,relId:r,loc:s,display:l};return a&&(c.Tooltip=a),c}function Mue(n,e){var t=Ze(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));qp({s:Ys(n[0]),e:Ys(n[0])},t),aT("rId"+e,t);var i=n[1].Target.indexOf("#"),r=i==-1?"":n[1].Target.slice(i+1);return Ks(r||"",t),Ks(n[1].Tooltip||"",t),Ks("",t),t.slice(0,t.l)}function Fue(){}function Bue(n,e,t){var i=n.l+e,r=BM(n),s=n.read_shift(1),a=[r];if(a[2]=s,t.cellFormula){var l=Ace(n,i-n.l,t);a[1]=l}else n.l=i;return a}function jue(n,e,t){var i=n.l+e,r=Wd(n),s=[r];if(t.cellFormula){var a=Nce(n,i-n.l,t);s[1]=a,n.l=i}else n.l=i;return s}function Uue(n,e,t){t==null&&(t=Ze(18));var i=Gy(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(i.width||10)*256),t.write_shift(4,0);var r=0;return e.hidden&&(r|=1),typeof i.width=="number"&&(r|=2),e.level&&(r|=e.level<<8),t.write_shift(2,r),t}var w7=["left","right","top","bottom","header","footer"];function Vue(n){var e={};return w7.forEach(function(t){e[t]=Wp(n)}),e}function zue(n,e){return e==null&&(e=Ze(48)),y7(n),w7.forEach(function(t){kd(n[t],e)}),e}function Hue(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function que(n,e,t){t==null&&(t=Ze(30));var i=924;return(((e||{}).Views||[])[0]||{}).RTL&&(i|=32),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Wue(n){var e=Ze(24);return e.write_shift(4,4),e.write_shift(4,1),qp(n,e),e}function Gue(n,e){return e==null&&(e=Ze(66)),e.write_shift(2,n.password?n7(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function $ue(){}function Yue(){}function Kue(n,e,t,i,r,s,a){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=No(e),e.z=e.z||qr[14],e.v=Co(eo(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r:t,c:i};switch(c.s=Ff(r.cellXfs,e,r),e.l&&s["!links"].push([Fi(c),e.l]),e.c&&s["!comments"].push([Fi(c),e.c]),e.t){case"s":case"str":return r.bookSST?(l=fT(r.Strings,e.v,r.revStrings),c.t="s",c.v=l,a?dt(n,18,pue(e,c)):dt(n,7,fue(e,c))):(c.t="str",a?dt(n,17,Cue(e,c)):dt(n,6,Tue(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?dt(n,13,bue(e,c)):dt(n,2,xue(e,c)):a?dt(n,16,vue(e,c)):dt(n,5,mue(e,c)),!0;case"b":return c.t="b",a?dt(n,15,aue(e,c)):dt(n,4,rue(e,c)),!0;case"e":return c.t="e",a?dt(n,14,uue(e,c)):dt(n,3,lue(e,c)),!0}return a?dt(n,12,nue(e,c)):dt(n,1,eue(e,c)),!0}function Xue(n,e,t,i){var r=fr(e["!ref"]||"A1"),s,a="",l=[];dt(n,145);var c=Array.isArray(e),h=r.e.r;e["!rows"]&&(h=Math.max(r.e.r,e["!rows"].length-1));for(var f=r.s.r;f<=h;++f){a=da(f),$ce(n,e,r,f);var p=!1;if(f<=r.e.r)for(var _=r.s.c;_<=r.e.c;++_){f===r.s.r&&(l[_]=Ma(_)),s=l[_]+a;var m=c?(e[f]||[])[_]:e[s];if(!m){p=!1;continue}p=Kue(n,m,f,_,i,e,p)}}dt(n,146)}function Que(n,e){!e||!e["!merges"]||(dt(n,177,Oue(e["!merges"].length)),e["!merges"].forEach(function(t){dt(n,176,Lue(t))}),dt(n,178))}function Jue(n,e){!e||!e["!cols"]||(dt(n,390),e["!cols"].forEach(function(t,i){t&&dt(n,60,Uue(i,t))}),dt(n,391))}function Zue(n,e){!e||!e["!ref"]||(dt(n,648),dt(n,649,Wue(fr(e["!ref"]))),dt(n,650))}function ehe(n,e,t){e["!links"].forEach(function(i){if(i[1].Target){var r=Li(t,-1,i[1].Target.replace(/#.*$/,""),vi.HLINK);dt(n,494,Mue(i,r))}}),delete e["!links"]}function the(n,e,t,i){if(e["!comments"].length>0){var r=Li(i,-1,"../drawings/vmlDrawing"+(t+1)+".vml",vi.VML);dt(n,551,aT("rId"+r)),e["!legacy"]=r}}function nhe(n,e,t,i){if(e["!autofilter"]){var r=e["!autofilter"],s=typeof r.ref=="string"?r.ref:ps(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,l=tl(s);l.s.r==l.e.r&&(l.e.r=tl(e["!ref"]).e.r,s=ps(l));for(var c=0;c<a.length;++c){var h=a[c];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==i){h.Ref="'"+t.SheetNames[i]+"'!"+s;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+t.SheetNames[i]+"'!"+s}),dt(n,161,qp(fr(s))),dt(n,162)}}function ihe(n,e,t){dt(n,133),dt(n,137,que(e,t)),dt(n,138),dt(n,134)}function rhe(n,e){e["!protect"]&&dt(n,535,Gue(e["!protect"]))}function she(n,e,t,i){var r=Ao(),s=t.SheetNames[n],a=t.Sheets[s]||{},l=s;try{t&&t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}var c=fr(a["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],dt(r,129),(t.vbaraw||a["!outline"])&&dt(r,147,Jce(l,a["!outline"])),dt(r,148,Kce(c)),ihe(r,a,t.Workbook),Jue(r,a),Xue(r,a,n,e),rhe(r,a),nhe(r,a,t,n),Que(r,a),ehe(r,a,i),a["!margins"]&&dt(r,476,zue(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Zue(r,a),the(r,a,n,i),dt(r,130),r.end()}function ahe(n,e){n.l+=10;var t=Fa(n);return{name:t}}var ohe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function lhe(n){return!n.Workbook||!n.Workbook.WBProps?"false":jse(n.Workbook.WBProps.date1904)?"true":"false"}var che="][*?/\\".split("");function b7(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return che.forEach(function(i){if(n.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function uhe(n,e,t){n.forEach(function(i,r){b7(i);for(var s=0;s<r;++s)if(i==n[s])throw new Error("Duplicate Sheet Name: "+i);if(t){var a=e&&e[r]&&e[r].CodeName||i;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function hhe(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];uhe(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)Lce(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function E7(n){var e=[ms];e[e.length]=Et("workbook",null,{xmlns:zp[0],"xmlns:r":Gs.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(ohe.forEach(function(l){n.Workbook.WBProps[l[0]]!=null&&n.Workbook.WBProps[l[0]]!=l[1]&&(i[l[0]]=n.Workbook.WBProps[l[0]])}),n.Workbook.WBProps.CodeName&&(i.codeName=n.Workbook.WBProps.CodeName,delete i.CodeName)),e[e.length]=Et("workbookPr",null,i);var r=n.Workbook&&n.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!r[s]||!r[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var a={name:Mi(n.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=Et("sheet",null,a)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Et("definedName",Mi(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function fhe(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=Gb(n),t.name=Fa(n),t}function dhe(n,e){return e||(e=Ze(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),aT(n.strRelID,e),Ks(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function phe(n,e){var t={},i=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var r=e>8?Fa(n):"";return r.length>0&&(t.CodeName=r),t.autoCompressPictures=!!(i&65536),t.backupFile=!!(i&64),t.checkCompatibility=!!(i&4096),t.date1904=!!(i&1),t.filterPrivacy=!!(i&8),t.hidePivotFieldList=!!(i&1024),t.promptedSolutions=!!(i&16),t.publishItems=!!(i&2048),t.refreshAllConnections=!!(i&262144),t.saveExternalLinkValues=!!(i&128),t.showBorderUnselectedTables=!!(i&4),t.showInkAnnotation=!!(i&32),t.showObjects=["all","placeholders","none"][i>>13&3],t.showPivotChartFilter=!!(i&32768),t.updateLinks=["userSet","never","always"][i>>8&3],t}function ghe(n,e){e||(e=Ze(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),PM(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function mhe(n,e,t){var i=n.l+e;n.l+=4,n.l+=1;var r=n.read_shift(4),s=lae(n),a=Cce(n,0,t),l=sT(n);n.l=i;var c={Name:s,Ptg:a};return r<268435455&&(c.Sheet=r),l&&(c.Comment=l),c}function _he(n,e){dt(n,143);for(var t=0;t!=e.SheetNames.length;++t){var i=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,r={Hidden:i,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};dt(n,156,dhe(r))}dt(n,144)}function vhe(n,e){e||(e=Ze(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Ks("SheetJS",e),Ks(Nv.version,e),Ks(Nv.version,e),Ks("7262",e),e.length>e.l?e.slice(0,e.l):e}function yhe(n,e){e||(e=Ze(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function xhe(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,i=0,r=-1,s=-1;i<t.length;++i)!t[i]||!t[i].Hidden&&r==-1?r=i:t[i].Hidden==1&&s==-1&&(s=i);s>r||(dt(n,135),dt(n,158,yhe(r)),dt(n,136))}}function whe(n,e){var t=Ao();return dt(t,131),dt(t,128,vhe()),dt(t,153,ghe(n.Workbook&&n.Workbook.WBProps||null)),xhe(t,n),_he(t,n),dt(t,132),t.end()}function bhe(n,e,t){return(e.slice(-4)===".bin"?whe:E7)(n)}function Ehe(n,e,t,i,r){return(e.slice(-4)===".bin"?she:x7)(n,t,i,r)}function She(n,e,t){return(e.slice(-4)===".bin"?zoe:s7)(n,t)}function The(n,e,t){return(e.slice(-4)===".bin"?goe:t7)(n,t)}function Ahe(n,e,t){return(e.slice(-4)===".bin"?rle:u7)(n)}function Che(n){return(n.slice(-4)===".bin"?Xoe:l7)()}function Nhe(n,e){var t=[];return n.Props&&t.push(Sae(n.Props,e)),n.Custprops&&t.push(Tae(n.Props,n.Custprops)),t.join("")}function Rhe(){return""}function Ihe(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(i,r){var s=[];s.push(Et("NumberFormat",null,{"ss:Format":Mi(qr[i.numFmtId])}));var a={"ss:ID":"s"+(21+r)};t.push(Et("Style",s.join(""),a))}),Et("Styles",t.join(""))}function S7(n){return Et("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+uT(n.Ref,{r:0,c:0})})}function khe(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],i=0;i<e.length;++i){var r=e[i];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||t.push(S7(r)))}return Et("Names",t.join(""))}function Dhe(n,e,t,i){if(!n||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,s=[],a=0;a<r.length;++a){var l=r[a];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||s.push(S7(l)))}return s.join("")}function Lhe(n,e,t,i){if(!n)return"";var r=[];if(n["!margins"]&&(r.push("<PageSetup>"),n["!margins"].header&&r.push(Et("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&r.push(Et("Footer",null,{"x:Margin":n["!margins"].footer})),r.push(Et("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[t])if(i.Workbook.Sheets[t].Hidden)r.push(Et("Visible",i.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(i.Workbook.Sheets[s]&&!i.Workbook.Sheets[s].Hidden);++s);s==t&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),n["!protect"]&&(r.push(fa("ProtectContents","True")),n["!protect"].objects&&r.push(fa("ProtectObjects","True")),n["!protect"].scenarios&&r.push(fa("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?r.push(fa("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&r.push(fa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){n["!protect"][a[0]]&&r.push("<"+a[1]+"/>")})),r.length==0?"":Et("WorksheetOptions",r.join(""),{xmlns:$o.x})}function Ohe(n){return n.map(function(e){var t=Bse(e.t||""),i=Et("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Et("Comment",i,{"ss:Author":e.a})}).join("")}function Phe(n,e,t,i,r,s,a){if(!n||n.v==null&&n.f==null)return"";var l={};if(n.f&&(l["ss:Formula"]="="+Mi(uT(n.f,a))),n.F&&n.F.slice(0,e.length)==e){var c=Ys(n.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(n.l&&n.l.Target&&(l["ss:HRef"]=Mi(n.l.Target),n.l.Tooltip&&(l["x:HRefScreenTip"]=Mi(n.l.Tooltip))),t["!merges"])for(var h=t["!merges"],f=0;f!=h.length;++f)h[f].s.c!=a.c||h[f].s.r!=a.r||(h[f].e.c>h[f].s.c&&(l["ss:MergeAcross"]=h[f].e.c-h[f].s.c),h[f].e.r>h[f].s.r&&(l["ss:MergeDown"]=h[f].e.r-h[f].s.r));var p="",_="";switch(n.t){case"z":if(!i.sheetStubs)return"";break;case"n":p="Number",_=String(n.v);break;case"b":p="Boolean",_=n.v?"1":"0";break;case"e":p="Error",_=R1[n.v];break;case"d":p="DateTime",_=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||qr[14]);break;case"s":p="String",_=Fse(n.v||"");break}var m=Ff(i.cellXfs,n,i);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=a.c+1;var b=n.v!=null?_:"",x=n.t=="z"?"":'<Data ss:Type="'+p+'">'+b+"</Data>";return(n.c||[]).length>0&&(x+=Ohe(n.c)),Et("Cell",x,l)}function Mhe(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=r7(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Fhe(n,e,t,i){if(!n["!ref"])return"";var r=fr(n["!ref"]),s=n["!merges"]||[],a=0,l=[];n["!cols"]&&n["!cols"].forEach(function(E,A){lT(E);var P=!!E.width,L=Gy(A,E),j={"ss:Index":A+1};P&&(j["ss:Width"]=Bv(L.width)),E.hidden&&(j["ss:Hidden"]="1"),l.push(Et("Column",null,j))});for(var c=Array.isArray(n),h=r.s.r;h<=r.e.r;++h){for(var f=[Mhe(h,(n["!rows"]||[])[h])],p=r.s.c;p<=r.e.c;++p){var _=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>p)&&!(s[a].s.r>h)&&!(s[a].e.c<p)&&!(s[a].e.r<h)){(s[a].s.c!=p||s[a].s.r!=h)&&(_=!0);break}if(!_){var m={r:h,c:p},b=Fi(m),x=c?(n[h]||[])[p]:n[b];f.push(Phe(x,b,n,e,t,i,m))}}f.push("</Row>"),f.length>2&&l.push(f.join(""))}return l.join("")}function Bhe(n,e,t){var i=[],r=t.SheetNames[n],s=t.Sheets[r],a=s?Dhe(s,e,n,t):"";return a.length>0&&i.push("<Names>"+a+"</Names>"),a=s?Fhe(s,e,n,t):"",a.length>0&&i.push("<Table>"+a+"</Table>"),i.push(Lhe(s,e,n,t)),i.join("")}function jhe(n,e){e||(e={}),n.SSF||(n.SSF=No(qr)),n.SSF&&(Vy(),Uy(n.SSF),e.revssf=zy(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Ff(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(Nhe(n,e)),t.push(Rhe()),t.push(""),t.push("");for(var i=0;i<n.SheetNames.length;++i)t.push(Et("Worksheet",Bhe(i,e,n),{"ss:Name":Mi(n.SheetNames[i])}));return t[2]=Ihe(n,e),t[3]=khe(n),ms+Et("Workbook",t.join(""),{xmlns:$o.ss,"xmlns:o":$o.o,"xmlns:x":$o.x,"xmlns:ss":$o.ss,"xmlns:dt":$o.dt,"xmlns:html":$o.html})}var bw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Uhe(n,e){var t=[],i=[],r=[],s=0,a,l=cI(bI,"n"),c=cI(EI,"n");if(n.Props)for(a=ga(n.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(l,a[s])?t:Object.prototype.hasOwnProperty.call(c,a[s])?i:r).push([a[s],n.Props[a[s]]]);if(n.Custprops)for(a=ga(n.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(l,a[s])?t:Object.prototype.hasOwnProperty.call(c,a[s])?i:r).push([a[s],n.Custprops[a[s]]]);var h=[];for(s=0;s<r.length;++s)YM.indexOf(r[s][0])>-1||WM.indexOf(r[s][0])>-1||r[s][1]!=null&&h.push(r[s]);i.length&&Wi.utils.cfb_add(e,"/SummaryInformation",NI(i,bw.SI,c,EI)),(t.length||h.length)&&Wi.utils.cfb_add(e,"/DocumentSummaryInformation",NI(t,bw.DSI,l,bI,h.length?h:null,bw.UDI))}function Vhe(n,e){var t=e||{},i=Wi.utils.cfb_new({root:"R"}),r="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":r="/Workbook",t.biff=8;break;case"biff5":r="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Wi.utils.cfb_add(i,r,T7(n,t)),t.biff==8&&(n.Props||n.Custprops)&&Uhe(n,i),t.biff==8&&n.vbaraw&&sle(i,Wi.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),i}var zhe={0:{f:Wce},1:{f:Zce},2:{f:yue},3:{f:oue},4:{f:iue},5:{f:gue},6:{f:Sue},7:{f:hue},8:{f:kue},9:{f:Iue},10:{f:Nue},11:{f:Rue},12:{f:tue},13:{f:wue},14:{f:cue},15:{f:sue},16:{f:_ue},17:{f:Aue},18:{f:due},19:{f:rT},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:mhe},40:{},42:{},43:{f:Soe},44:{f:boe},45:{f:Coe},46:{f:Roe},47:{f:Noe},48:{},49:{f:tae},50:{},51:{f:Woe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:noe},62:{f:Eue},63:{f:Qoe},64:{f:$ue},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:eu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Hue},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Qce},148:{f:Yce,p:16},151:{f:Fue},152:{},153:{f:phe},154:{},155:{},156:{f:fhe},157:{},158:{},159:{T:1,f:foe},160:{T:-1},161:{T:1,f:Wd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Due},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Hoe},336:{T:-1},337:{f:Yoe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Gb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Xae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Bue},427:{f:jue},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Vue},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Xce},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Pue},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Gb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nle},633:{T:1},634:{T:-1},635:{T:1,f:ele},636:{T:-1},637:{f:sae},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ahe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Yue},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function St(n,e,t,i){var r=e;if(!isNaN(r)){var s=i||(t||[]).length||0,a=n.next(4);a.write_shift(2,r),a.write_shift(2,s),s>0&&tT(t)&&n.push(t)}}function Hhe(n,e,t,i){var r=(t||[]).length||0;if(r<=8224)return St(n,e,t,r);var s=e;if(!isNaN(s)){for(var a=t.parts||[],l=0,c=0,h=0;h+(a[l]||8224)<=8224;)h+=a[l]||8224,l++;var f=n.next(4);for(f.write_shift(2,s),f.write_shift(2,h),n.push(t.slice(c,c+h)),c+=h;c<r;){for(f=n.next(4),f.write_shift(2,60),h=0;h+(a[l]||8224)<=8224;)h+=a[l]||8224,l++;f.write_shift(2,h),n.push(t.slice(c,c+h)),c+=h}}}function k1(n,e,t){return n||(n=Ze(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function qhe(n,e,t,i){var r=Ze(9);return k1(r,n,e),XM(t,i||"b",r),r}function Whe(n,e,t){var i=Ze(8+2*t.length);return k1(i,n,e),i.write_shift(1,t.length),i.write_shift(t.length,t,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function Ghe(n,e,t,i){if(e.v!=null)switch(e.t){case"d":case"n":var r=e.t=="d"?Co(eo(e.v)):e.v;r==(r|0)&&r>=0&&r<65536?St(n,2,aoe(t,i,r)):St(n,3,soe(t,i,r));return;case"b":case"e":St(n,5,qhe(t,i,e.v,e.t));return;case"s":case"str":St(n,4,Whe(t,i,(e.v||"").slice(0,255)));return}St(n,1,k1(null,t,i))}function $he(n,e,t,i){var r=Array.isArray(e),s=fr(e["!ref"]||"A1"),a,l="",c=[];if(s.e.c>255||s.e.r>16383){if(i.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=ps(s)}for(var h=s.s.r;h<=s.e.r;++h){l=da(h);for(var f=s.s.c;f<=s.e.c;++f){h===s.s.r&&(c[f]=Ma(f)),a=c[f]+l;var p=r?(e[h]||[])[f]:e[a];p&&Ghe(n,p,h,f)}}}function Yhe(n,e){for(var t=e||{},i=Ao(),r=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(r=s);if(r==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return St(i,t.biff==4?1033:t.biff==3?521:9,oT(n,16,t)),$he(i,n.Sheets[n.SheetNames[r]],r,t),St(i,10),i.end()}function Khe(n,e,t){St(n,49,zae({sz:12,name:"Arial"},t))}function Xhe(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&St(n,1054,Wae(r,e[r],t))})}function Qhe(n,e){var t=Ze(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),St(n,2151,t),t=Ze(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),ZM(fr(e["!ref"]||"A1"),t),t.write_shift(4,4),St(n,2152,t)}function Jhe(n,e){for(var t=0;t<16;++t)St(n,224,II({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(i){St(n,224,II(i,0,e))})}function Zhe(n,e){for(var t=0;t<e["!links"].length;++t){var i=e["!links"][t];St(n,440,Zae(i)),i[1].Tooltip&&St(n,2048,eoe(i))}delete e["!links"]}function efe(n,e){if(e){var t=0;e.forEach(function(i,r){++t<=256&&i&&St(n,125,ioe(Gy(r,i),r))})}}function tfe(n,e,t,i,r){var s=16+Ff(r.cellXfs,e,r);if(e.v==null&&!e.bf){St(n,513,Dd(t,i,s));return}if(e.bf)St(n,6,Tce(e,t,i,r,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Co(eo(e.v)):e.v;St(n,515,Kae(t,i,a,s));break;case"b":case"e":St(n,517,Yae(t,i,e.v,s,r,e.t));break;case"s":case"str":if(r.bookSST){var l=fT(r.Strings,e.v,r.revStrings);St(n,253,Hae(t,i,l,s))}else St(n,516,qae(t,i,(e.v||"").slice(0,255),s,r));break;default:St(n,513,Dd(t,i,s))}}function nfe(n,e,t){var i=Ao(),r=t.SheetNames[n],s=t.Sheets[r]||{},a=(t||{}).Workbook||{},l=(a.Sheets||[])[n]||{},c=Array.isArray(s),h=e.biff==8,f,p="",_=[],m=fr(s["!ref"]||"A1"),b=h?65536:16384;if(m.e.c>255||m.e.r>=b){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,b-1)}St(i,2057,oT(t,16,e)),St(i,13,El(1)),St(i,12,El(100)),St(i,15,Xa(!0)),St(i,17,Xa(!1)),St(i,16,kd(.001)),St(i,95,Xa(!0)),St(i,42,Xa(!1)),St(i,43,Xa(!1)),St(i,130,El(1)),St(i,128,$ae()),St(i,131,Xa(!1)),St(i,132,Xa(!1)),h&&efe(i,s["!cols"]),St(i,512,Gae(m,e)),h&&(s["!links"]=[]);for(var x=m.s.r;x<=m.e.r;++x){p=da(x);for(var E=m.s.c;E<=m.e.c;++E){x===m.s.r&&(_[E]=Ma(E)),f=_[E]+p;var A=c?(s[x]||[])[E]:s[f];A&&(tfe(i,A,x,E,e),h&&A.l&&s["!links"].push([f,A.l]))}}var P=l.CodeName||l.name||r;return h&&St(i,574,Vae((a.Views||[])[0])),h&&(s["!merges"]||[]).length&&St(i,229,Jae(s["!merges"])),h&&Zhe(i,s),St(i,442,JM(P)),h&&Qhe(i,s),St(i,10),i.end()}function ife(n,e,t){var i=Ao(),r=(n||{}).Workbook||{},s=r.Sheets||[],a=r.WBProps||{},l=t.biff==8,c=t.biff==5;if(St(i,2057,oT(n,5,t)),t.bookType=="xla"&&St(i,135),St(i,225,l?El(1200):null),St(i,193,Nae(2)),c&&St(i,191),c&&St(i,192),St(i,226),St(i,92,Fae("SheetJS",t)),St(i,66,El(l?1200:1252)),l&&St(i,353,El(0)),l&&St(i,448),St(i,317,roe(n.SheetNames.length)),l&&n.vbaraw&&St(i,211),l&&n.vbaraw){var h=a.CodeName||"ThisWorkbook";St(i,442,JM(h))}St(i,156,El(17)),St(i,25,Xa(!1)),St(i,18,Xa(!1)),St(i,19,El(0)),l&&St(i,431,Xa(!1)),l&&St(i,444,El(0)),St(i,61,Uae()),St(i,64,Xa(!1)),St(i,141,El(0)),St(i,34,Xa(lhe(n)=="true")),St(i,14,Xa(!0)),l&&St(i,439,Xa(!1)),St(i,218,El(0)),Khe(i,n,t),Xhe(i,n.SSF,t),Jhe(i,t),l&&St(i,352,Xa(!1));var f=i.end(),p=Ao();l&&St(p,140,toe()),l&&t.Strings&&Hhe(p,252,jae(t.Strings)),St(p,10);var _=p.end(),m=Ao(),b=0,x=0;for(x=0;x<n.SheetNames.length;++x)b+=(l?12:11)+(l?2:1)*n.SheetNames[x].length;var E=f.length+b+_.length;for(x=0;x<n.SheetNames.length;++x){var A=s[x]||{};St(m,133,Bae({pos:E,hs:A.Hidden||0,dt:0,name:n.SheetNames[x]},t)),E+=e[x].length}var P=m.end();if(b!=P.length)throw new Error("BS8 "+b+" != "+P.length);var L=[];return f.length&&L.push(f),P.length&&L.push(P),_.length&&L.push(_),ha(L)}function rfe(n,e){var t=e||{},i=[];n&&!n.SSF&&(n.SSF=No(qr)),n&&n.SSF&&(Vy(),Uy(n.SSF),t.revssf=zy(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dT(t),t.cellXfs=[],Ff(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var r=0;r<n.SheetNames.length;++r)i[i.length]=nfe(r,t,n);return i.unshift(ife(n,i,t)),ha(i)}function T7(n,e){for(var t=0;t<=n.SheetNames.length;++t){var i=n.Sheets[n.SheetNames[t]];if(!(!i||!i["!ref"])){var r=tl(i["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return rfe(n,e);case 4:case 3:case 2:return Yhe(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function sfe(n,e,t,i){for(var r=n["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var l=0,c=0,h=0;h<r.length;++h)if(!(r[h].s.r>t||r[h].s.c>a)&&!(r[h].e.r<t||r[h].e.c<a)){if(r[h].s.r<t||r[h].s.c<a){l=-1;break}l=r[h].e.r-r[h].s.r+1,c=r[h].e.c-r[h].s.c+1;break}if(!(l<0)){var f=Fi({r:t,c:a}),p=i.dense?(n[t]||[])[a]:n[f],_=p&&p.v!=null&&(p.h||Mse(p.w||(oh(p),p.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),i.editable?_='<span contenteditable="true">'+_+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+p.l.Target+'">'+_+"</a>")),m.id=(i.id||"sjs")+"-"+f,s.push(Et("td",_,m))}}var b="<tr>";return b+s.join("")+"</tr>"}var afe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ofe="</body></html>";function lfe(n,e,t){var i=[];return i.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function A7(n,e){var t=e||{},i=t.header!=null?t.header:afe,r=t.footer!=null?t.footer:ofe,s=[i],a=tl(n["!ref"]);t.dense=Array.isArray(n),s.push(lfe(n,a,t));for(var l=a.s.r;l<=a.e.r;++l)s.push(sfe(n,a,l,t));return s.push("</table>"+r),s.join("")}function C7(n,e,t){var i=t||{},r=0,s=0;if(i.origin!=null)if(typeof i.origin=="number")r=i.origin;else{var a=typeof i.origin=="string"?Ys(i.origin):i.origin;r=a.r,s=a.c}var l=e.getElementsByTagName("tr"),c=Math.min(i.sheetRows||1e7,l.length),h={s:{r:0,c:0},e:{r,c:s}};if(n["!ref"]){var f=tl(n["!ref"]);h.s.r=Math.min(h.s.r,f.s.r),h.s.c=Math.min(h.s.c,f.s.c),h.e.r=Math.max(h.e.r,f.e.r),h.e.c=Math.max(h.e.c,f.e.c),r==-1&&(h.e.r=r=f.e.r+1)}var p=[],_=0,m=n["!rows"]||(n["!rows"]=[]),b=0,x=0,E=0,A=0,P=0,L=0;for(n["!cols"]||(n["!cols"]=[]);b<l.length&&x<c;++b){var j=l[b];if(FI(j)){if(i.display)continue;m[x]={hidden:!0}}var Q=j.children;for(E=A=0;E<Q.length;++E){var ae=Q[E];if(!(i.display&&FI(ae))){var F=ae.hasAttribute("data-v")?ae.getAttribute("data-v"):ae.hasAttribute("v")?ae.getAttribute("v"):Use(ae.innerHTML),R=ae.getAttribute("data-z")||ae.getAttribute("z");for(_=0;_<p.length;++_){var N=p[_];N.s.c==A+s&&N.s.r<x+r&&x+r<=N.e.r&&(A=N.e.c+1-s,_=-1)}L=+ae.getAttribute("colspan")||1,((P=+ae.getAttribute("rowspan")||1)>1||L>1)&&p.push({s:{r:x+r,c:A+s},e:{r:x+r+(P||1)-1,c:A+s+(L||1)-1}});var U={t:"s",v:F},I=ae.getAttribute("data-t")||ae.getAttribute("t")||"";F!=null&&(F.length==0?U.t=I||"z":i.raw||F.trim().length==0||I=="s"||(F==="TRUE"?U={t:"b",v:!0}:F==="FALSE"?U={t:"b",v:!1}:isNaN(Xu(F))?isNaN(Qm(F).getDate())||(U={t:"d",v:eo(F)},i.cellDates||(U={t:"n",v:Co(U.v)}),U.z=i.dateNF||qr[14]):U={t:"n",v:Xu(F)})),U.z===void 0&&R!=null&&(U.z=R);var M="",z=ae.getElementsByTagName("A");if(z&&z.length)for(var de=0;de<z.length&&!(z[de].hasAttribute("href")&&(M=z[de].getAttribute("href"),M.charAt(0)!="#"));++de);M&&M.charAt(0)!="#"&&(U.l={Target:M}),i.dense?(n[x+r]||(n[x+r]=[]),n[x+r][A+s]=U):n[Fi({c:A+s,r:x+r})]=U,h.e.c<A+s&&(h.e.c=A+s),A+=L}}++x}return p.length&&(n["!merges"]=(n["!merges"]||[]).concat(p)),h.e.r=Math.max(h.e.r,x-1+r),n["!ref"]=ps(h),x>=c&&(n["!fullref"]=ps((h.e.r=l.length-b+x-1+r,h))),n}function N7(n,e){var t=e||{},i=t.dense?[]:{};return C7(i,n,e)}function cfe(n,e){return Vd(N7(n,e),e)}function FI(n){var e="",t=ufe(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function ufe(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var hfe=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Zm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return ms+e}})(),BI=(function(){var n=function(s){return Mi(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,i=function(s,a,l){var c=[];c.push('      <table:table table:name="'+Mi(a.SheetNames[l])+`" table:style-name="ta1">
`);var h=0,f=0,p=tl(s["!ref"]||"A1"),_=s["!merges"]||[],m=0,b=Array.isArray(s);if(s["!cols"])for(f=0;f<=p.e.c;++f)c.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var x="",E=s["!rows"]||[];for(h=0;h<p.s.r;++h)x=E[h]?' table:style-name="ro'+E[h].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;h<=p.e.r;++h){for(x=E[h]?' table:style-name="ro'+E[h].ods+'"':"",c.push("        <table:table-row"+x+`>
`),f=0;f<p.s.c;++f)c.push(e);for(;f<=p.e.c;++f){var A=!1,P={},L="";for(m=0;m!=_.length;++m)if(!(_[m].s.c>f)&&!(_[m].s.r>h)&&!(_[m].e.c<f)&&!(_[m].e.r<h)){(_[m].s.c!=f||_[m].s.r!=h)&&(A=!0),P["table:number-columns-spanned"]=_[m].e.c-_[m].s.c+1,P["table:number-rows-spanned"]=_[m].e.r-_[m].s.r+1;break}if(A){c.push(t);continue}var j=Fi({r:h,c:f}),Q=b?(s[h]||[])[f]:s[j];if(Q&&Q.f&&(P["table:formula"]=Mi(kce(Q.f)),Q.F&&Q.F.slice(0,j.length)==j)){var ae=tl(Q.F);P["table:number-matrix-columns-spanned"]=ae.e.c-ae.s.c+1,P["table:number-matrix-rows-spanned"]=ae.e.r-ae.s.r+1}if(!Q){c.push(e);continue}switch(Q.t){case"b":L=Q.v?"TRUE":"FALSE",P["office:value-type"]="boolean",P["office:boolean-value"]=Q.v?"true":"false";break;case"n":L=Q.w||String(Q.v||0),P["office:value-type"]="float",P["office:value"]=Q.v||0;break;case"s":case"str":L=Q.v==null?"":Q.v,P["office:value-type"]="string";break;case"d":L=Q.w||eo(Q.v).toISOString(),P["office:value-type"]="date",P["office:date-value"]=eo(Q.v).toISOString(),P["table:style-name"]="ce1";break;default:c.push(e);continue}var F=n(L);if(Q.l&&Q.l.Target){var R=Q.l.Target;R=R.charAt(0)=="#"?"#"+Dce(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),F=Et("text:a",F,{"xlink:href":R.replace(/&/g,"&amp;")})}c.push("          "+Et("table:table-cell",Et("text:p",F,{}),P)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},r=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;a.SheetNames.map(function(h){return a.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var f=0;f<h["!cols"].length;++f)if(h["!cols"][f]){var p=h["!cols"][f];if(p.width==null&&p.wpx==null&&p.wch==null)continue;lT(p),p.ods=l;var _=h["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+_+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;a.SheetNames.map(function(h){return a.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var f=0;f<h["!rows"].length;++f)if(h["!rows"][f]){h["!rows"][f].ods=c;var p=h["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,l){var c=[ms],h=Zm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Zm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+h+f+`>
`),c.push(HM().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+h+`>
`),r(c,a),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=a.SheetNames.length;++p)c.push(i(a.Sheets[a.SheetNames[p]],a,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function R7(n,e){if(e.bookType=="fods")return BI(n,e);var t=QS(),i="",r=[],s=[];return i="mimetype",Mn(t,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",Mn(t,i,BI(n,e)),r.push([i,"text/xml"]),s.push([i,"ContentFile"]),i="styles.xml",Mn(t,i,hfe(n,e)),r.push([i,"text/xml"]),s.push([i,"StylesFile"]),i="meta.xml",Mn(t,i,ms+HM()),r.push([i,"text/xml"]),s.push([i,"MetadataFile"]),i="manifest.rdf",Mn(t,i,Eae(s)),r.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",Mn(t,i,wae(r)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Vv(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ffe(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):ec(Jm(n))}function dfe(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var i=0;i<e.length;++i)if(n[t+i]!=e[i])continue e;return!0}return!1}function Rf(n){var e=n.reduce(function(r,s){return r+s.length},0),t=new Uint8Array(e),i=0;return n.forEach(function(r){t.set(r,i),i+=r.length}),t}function pfe(n,e,t){var i=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,r=t/Math.pow(10,i-6176);n[e+15]|=i>>7,n[e+14]|=(i&127)<<1;for(var s=0;r>=1;++s,r/=256)n[e+s]=r&255;n[e+15]|=t>=0?0:128}function e1(n,e){var t=e?e[0]:0,i=n[t]&127;e:if(n[t++]>=128&&(i|=(n[t]&127)<<7,n[t++]<128||(i|=(n[t]&127)<<14,n[t++]<128)||(i|=(n[t]&127)<<21,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),i}function Di(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function up(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Ns(n){for(var e=[],t=[0];t[0]<n.length;){var i=t[0],r=e1(n,t),s=r&7;r=Math.floor(r/8);var a=0,l;if(r==0)break;switch(s){case 0:{for(var c=t[0];n[t[0]++]>=128;);l=n.slice(c,t[0])}break;case 5:a=4,l=n.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,l=n.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=e1(n,t),l=n.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(i))}var h={data:l,type:s};e[r]==null?e[r]=[h]:e[r].push(h)}return e}function oa(n){var e=[];return n.forEach(function(t,i){t.forEach(function(r){r.data&&(e.push(Di(i*8+r.type)),r.type==2&&e.push(Di(r.data.length)),e.push(r.data))})}),Rf(e)}function Ql(n){for(var e,t=[],i=[0];i[0]<n.length;){var r=e1(n,i),s=Ns(n.slice(i[0],i[0]+r));i[0]+=r;var a={id:up(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ns(l.data),h=up(c[3][0].data);a.messages.push({meta:c,data:n.slice(i[0],i[0]+h)}),i[0]+=h}),(e=s[3])!=null&&e[0]&&(a.merge=up(s[3][0].data)>>>0>0),t.push(a)}return t}function L0(n){var e=[];return n.forEach(function(t){var i=[];i[1]=[{data:Di(t.id),type:0}],i[2]=[],t.merge!=null&&(i[3]=[{data:Di(+!!t.merge),type:0}]);var r=[];t.messages.forEach(function(a){r.push(a.data),a.meta[3]=[{type:0,data:Di(a.data.length)}],i[2].push({data:oa(a.meta),type:2})});var s=oa(i);e.push(Di(s.length)),e.push(s),r.forEach(function(a){return e.push(a)})}),Rf(e)}function gfe(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],i=e1(e,t),r=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var l=a-59;a=e[t[0]],l>1&&(a|=e[t[0]+1]<<8),l>2&&(a|=e[t[0]+2]<<16),l>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=l}r.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var c=0,h=0;if(s==1?(h=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),r=[Rf(r)],c==0)throw new Error("Invalid offset 0");if(c>r[0].length)throw new Error("Invalid offset beyond length");if(h>=c)for(r.push(r[0].slice(-c)),h-=c;h>=r[r.length-1].length;)r.push(r[r.length-1]),h-=r[r.length-1].length;r.push(r[0].slice(-c,-c+h))}}var f=Rf(r);if(f.length!=i)throw new Error("Unexpected length: ".concat(f.length," != ").concat(i));return f}function Jl(n){for(var e=[],t=0;t<n.length;){var i=n[t++],r=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(gfe(i,n.slice(t,t+r))),t+=r}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Rf(e)}function O0(n){for(var e=[],t=0;t<n.length;){var i=Math.min(n.length-t,268435455),r=new Uint8Array(4);e.push(r);var s=Di(i),a=s.length;e.push(s),i<=60?(a++,e.push(new Uint8Array([i-1<<2]))):i<=256?(a+=2,e.push(new Uint8Array([240,i-1&255]))):i<=65536?(a+=3,e.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(a+=4,e.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(a+=5,e.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),e.push(n.slice(t,t+i)),a+=i,r[0]=0,r[1]=a&255,r[2]=a>>8&255,r[3]=a>>16&255,t+=i}return Rf(e)}function Ew(n,e){var t=new Uint8Array(32),i=Vv(t),r=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,pfe(t,r,n.v),s|=1,r+=16;break;case"b":t[1]=6,i.setFloat64(r,n.v?1:0,!0),s|=2,r+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,i.setUint32(r,e.indexOf(n.v),!0),s|=8,r+=4;break;default:throw"unsupported cell type "+n.t}return i.setUint32(8,s,!0),t.slice(0,r)}function Sw(n,e){var t=new Uint8Array(32),i=Vv(t),r=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,i.setFloat64(r,n.v,!0),s|=32,r+=8;break;case"b":t[2]=6,i.setFloat64(r,n.v?1:0,!0),s|=32,r+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,i.setUint32(r,e.indexOf(n.v),!0),s|=16,r+=4;break;default:throw"unsupported cell type "+n.t}return i.setUint32(4,s,!0),t.slice(0,r)}function $h(n){var e=Ns(n);return e1(e[1][0].data)}function mfe(n,e,t){var i,r,s,a;if(!((i=n[6])!=null&&i[0])||!((r=n[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var l=((a=(s=n[8])==null?void 0:s[0])==null?void 0:a.data)&&up(n[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,h=Vv(n[7][0].data),f=0,p=[],_=Vv(n[4][0].data),m=0,b=[],x=0;x<e.length;++x){if(e[x]==null){h.setUint16(x*2,65535,!0),_.setUint16(x*2,65535);continue}h.setUint16(x*2,f,!0),_.setUint16(x*2,m,!0);var E,A;switch(typeof e[x]){case"string":E=Ew({t:"s",v:e[x]},t),A=Sw({t:"s",v:e[x]},t);break;case"number":E=Ew({t:"n",v:e[x]},t),A=Sw({t:"n",v:e[x]},t);break;case"boolean":E=Ew({t:"b",v:e[x]},t),A=Sw({t:"b",v:e[x]},t);break;default:throw new Error("Unsupported value "+e[x])}p.push(E),f+=E.length,b.push(A),m+=A.length,++c}for(n[2][0].data=Di(c);x<n[7][0].data.length/2;++x)h.setUint16(x*2,65535,!0),_.setUint16(x*2,65535,!0);return n[6][0].data=Rf(p),n[3][0].data=Rf(b),c}function _fe(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=tl(t["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(ps(i)));var s=zv(t,{range:i,header:1}),a=["~Sh33tJ5~"];s.forEach(function(G){return G.forEach(function(W){typeof W=="string"&&a.push(W)})});var l={},c=[],h=Wi.read(e.numbers,{type:"base64"});h.FileIndex.map(function(G,W){return[G,h.FullPaths[W]]}).forEach(function(G){var W=G[0],Y=G[1];if(W.type==2&&W.name.match(/\.iwa/)){var ne=W.content,xe=Jl(ne),Ae=Ql(xe);Ae.forEach(function(Te){c.push(Te.id),l[Te.id]={deps:[],location:Y,type:up(Te.messages[0].meta[1][0].data)}})}}),c.sort(function(G,W){return G-W});var f=c.filter(function(G){return G>1}).map(function(G){return[G,Di(G)]});h.FileIndex.map(function(G,W){return[G,h.FullPaths[W]]}).forEach(function(G){var W=G[0];if(G[1],!!W.name.match(/\.iwa/)){var Y=Ql(Jl(W.content));Y.forEach(function(ne){ne.messages.forEach(function(xe){f.forEach(function(Ae){ne.messages.some(function(Te){return up(Te.meta[1][0].data)!=11006&&dfe(Te.data,Ae[1])})&&l[Ae[0]].deps.push(ne.id)})})})}});for(var p=Wi.find(h,l[1].location),_=Ql(Jl(p.content)),m,b=0;b<_.length;++b){var x=_[b];x.id==1&&(m=x)}var E=$h(Ns(m.messages[0].data)[1][0].data);for(p=Wi.find(h,l[E].location),_=Ql(Jl(p.content)),b=0;b<_.length;++b)x=_[b],x.id==E&&(m=x);for(E=$h(Ns(m.messages[0].data)[2][0].data),p=Wi.find(h,l[E].location),_=Ql(Jl(p.content)),b=0;b<_.length;++b)x=_[b],x.id==E&&(m=x);for(E=$h(Ns(m.messages[0].data)[2][0].data),p=Wi.find(h,l[E].location),_=Ql(Jl(p.content)),b=0;b<_.length;++b)x=_[b],x.id==E&&(m=x);var A=Ns(m.messages[0].data);{A[6][0].data=Di(i.e.r+1),A[7][0].data=Di(i.e.c+1);var P=$h(A[46][0].data),L=Wi.find(h,l[P].location),j=Ql(Jl(L.content));{for(var Q=0;Q<j.length&&j[Q].id!=P;++Q);if(j[Q].id!=P)throw"Bad ColumnRowUIDMapArchive";var ae=Ns(j[Q].messages[0].data);ae[1]=[],ae[2]=[],ae[3]=[];for(var F=0;F<=i.e.c;++F){var R=[];R[1]=R[2]=[{type:0,data:Di(F+420690)}],ae[1].push({type:2,data:oa(R)}),ae[2].push({type:0,data:Di(F)}),ae[3].push({type:0,data:Di(F)})}ae[4]=[],ae[5]=[],ae[6]=[];for(var N=0;N<=i.e.r;++N)R=[],R[1]=R[2]=[{type:0,data:Di(N+726270)}],ae[4].push({type:2,data:oa(R)}),ae[5].push({type:0,data:Di(N)}),ae[6].push({type:0,data:Di(N)});j[Q].messages[0].data=oa(ae)}L.content=O0(L0(j)),L.size=L.content.length,delete A[46];var U=Ns(A[4][0].data);{U[7][0].data=Di(i.e.r+1);var I=Ns(U[1][0].data),M=$h(I[2][0].data);L=Wi.find(h,l[M].location),j=Ql(Jl(L.content));{if(j[0].id!=M)throw"Bad HeaderStorageBucket";var z=Ns(j[0].messages[0].data);for(N=0;N<s.length;++N){var de=Ns(z[2][0].data);de[1][0].data=Di(N),de[4][0].data=Di(s[N].length),z[2][N]={type:z[2][0].type,data:oa(de)}}j[0].messages[0].data=oa(z)}L.content=O0(L0(j)),L.size=L.content.length;var we=$h(U[2][0].data);L=Wi.find(h,l[we].location),j=Ql(Jl(L.content));{if(j[0].id!=we)throw"Bad HeaderStorageBucket";for(z=Ns(j[0].messages[0].data),F=0;F<=i.e.c;++F)de=Ns(z[2][0].data),de[1][0].data=Di(F),de[4][0].data=Di(i.e.r+1),z[2][F]={type:z[2][0].type,data:oa(de)};j[0].messages[0].data=oa(z)}L.content=O0(L0(j)),L.size=L.content.length;var ce=$h(U[4][0].data);(function(){for(var G=Wi.find(h,l[ce].location),W=Ql(Jl(G.content)),Y,ne=0;ne<W.length;++ne){var xe=W[ne];xe.id==ce&&(Y=xe)}var Ae=Ns(Y.messages[0].data);{Ae[3]=[];var Te=[];a.forEach(function(lt,yt){Te[1]=[{type:0,data:Di(yt)}],Te[2]=[{type:0,data:Di(1)}],Te[3]=[{type:2,data:ffe(lt)}],Ae[3].push({type:2,data:oa(Te)})})}Y.messages[0].data=oa(Ae);var Ie=L0(W),et=O0(Ie);G.content=et,G.size=G.content.length})();var ye=Ns(U[3][0].data);{var be=ye[1][0];delete ye[2];var Ne=Ns(be.data);{var $e=$h(Ne[2][0].data);(function(){for(var G=Wi.find(h,l[$e].location),W=Ql(Jl(G.content)),Y,ne=0;ne<W.length;++ne){var xe=W[ne];xe.id==$e&&(Y=xe)}var Ae=Ns(Y.messages[0].data);{delete Ae[6],delete ye[7];var Te=new Uint8Array(Ae[5][0].data);Ae[5]=[];for(var Ie=0,et=0;et<=i.e.r;++et){var lt=Ns(Te);Ie+=mfe(lt,s[et],a),lt[1][0].data=Di(et),Ae[5].push({data:oa(lt),type:2})}Ae[1]=[{type:0,data:Di(i.e.c+1)}],Ae[2]=[{type:0,data:Di(i.e.r+1)}],Ae[3]=[{type:0,data:Di(Ie)}],Ae[4]=[{type:0,data:Di(i.e.r+1)}]}Y.messages[0].data=oa(Ae);var yt=L0(W),_t=O0(yt);G.content=_t,G.size=G.content.length})()}be.data=oa(Ne)}U[3][0].data=oa(ye)}A[4][0].data=oa(U)}m.messages[0].data=oa(A);var se=L0(_),k=O0(se);return p.content=k,p.size=p.content.length,h}function vfe(n){return function(t){for(var i=0;i!=n.length;++i){var r=n[i];t[r[0]]===void 0&&(t[r[0]]=r[1]),r[2]==="n"&&(t[r[0]]=Number(t[r[0]]))}}}function dT(n){vfe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function yfe(n,e){return e.bookType=="ods"?R7(n,e):e.bookType=="numbers"?_fe(n,e):e.bookType=="xlsb"?xfe(n,e):wfe(n,e)}function xfe(n,e){$0=1024,n&&!n.SSF&&(n.SSF=No(qr)),n&&n.SSF&&(Vy(),Uy(n.SSF),e.revssf=zy(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Sm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",i=h7.indexOf(e.bookType)>-1,r=UM();dT(e=e||{});var s=QS(),a="",l=0;if(e.cellXfs=[],Ff(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",Mn(s,a,qM(n.Props,e)),r.coreprops.push(a),Li(e.rels,2,a,vi.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&c.push(n.SheetNames[h]);n.Props.SheetNames=c}for(n.Props.Worksheets=n.Props.SheetNames.length,Mn(s,a,GM(n.Props)),r.extprops.push(a),Li(e.rels,3,a,vi.EXT_PROPS),n.Custprops!==n.Props&&ga(n.Custprops||{}).length>0&&(a="docProps/custom.xml",Mn(s,a,$M(n.Custprops)),r.custprops.push(a),Li(e.rels,4,a,vi.CUST_PROPS)),l=1;l<=n.SheetNames.length;++l){var f={"!id":{}},p=n.Sheets[n.SheetNames[l-1]],_=(p||{})["!type"]||"sheet";switch(_){case"chart":default:a="xl/worksheets/sheet"+l+"."+t,Mn(s,a,Ehe(l-1,a,e,n,f)),r.sheets.push(a),Li(e.wbrels,-1,"worksheets/sheet"+l+"."+t,vi.WS[0])}if(p){var m=p["!comments"],b=!1,x="";m&&m.length>0&&(x="xl/comments"+l+"."+t,Mn(s,x,Ahe(m,x)),r.comments.push(x),Li(f,-1,"../comments"+l+"."+t,vi.CMNT),b=!0),p["!legacy"]&&b&&Mn(s,"xl/drawings/vmlDrawing"+l+".vml",c7(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&Mn(s,zM(a),lp(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,Mn(s,a,The(e.Strings,a,e)),r.strs.push(a),Li(e.wbrels,-1,"sharedStrings."+t,vi.SST)),a="xl/workbook."+t,Mn(s,a,bhe(n,a)),r.workbooks.push(a),Li(e.rels,1,a,vi.WB),a="xl/theme/theme1.xml",Mn(s,a,o7(n.Themes,e)),r.themes.push(a),Li(e.wbrels,-1,"theme/theme1.xml",vi.THEME),a="xl/styles."+t,Mn(s,a,She(n,a,e)),r.styles.push(a),Li(e.wbrels,-1,"styles."+t,vi.STY),n.vbaraw&&i&&(a="xl/vbaProject.bin",Mn(s,a,n.vbaraw),r.vba.push(a),Li(e.wbrels,-1,"vbaProject.bin",vi.VBA)),a="xl/metadata."+t,Mn(s,a,Che(a)),r.metadata.push(a),Li(e.wbrels,-1,"metadata."+t,vi.XLMETA),Mn(s,"[Content_Types].xml",VM(r,e)),Mn(s,"_rels/.rels",lp(e.rels)),Mn(s,"xl/_rels/workbook."+t+".rels",lp(e.wbrels)),delete e.revssf,delete e.ssf,s}function wfe(n,e){$0=1024,n&&!n.SSF&&(n.SSF=No(qr)),n&&n.SSF&&(Vy(),Uy(n.SSF),e.revssf=zy(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Sm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",i=h7.indexOf(e.bookType)>-1,r=UM();dT(e=e||{});var s=QS(),a="",l=0;if(e.cellXfs=[],Ff(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",Mn(s,a,qM(n.Props,e)),r.coreprops.push(a),Li(e.rels,2,a,vi.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&c.push(n.SheetNames[h]);n.Props.SheetNames=c}n.Props.Worksheets=n.Props.SheetNames.length,Mn(s,a,GM(n.Props)),r.extprops.push(a),Li(e.rels,3,a,vi.EXT_PROPS),n.Custprops!==n.Props&&ga(n.Custprops||{}).length>0&&(a="docProps/custom.xml",Mn(s,a,$M(n.Custprops)),r.custprops.push(a),Li(e.rels,4,a,vi.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,l=1;l<=n.SheetNames.length;++l){var p={"!id":{}},_=n.Sheets[n.SheetNames[l-1]],m=(_||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+l+"."+t,Mn(s,a,x7(l-1,e,n,p)),r.sheets.push(a),Li(e.wbrels,-1,"worksheets/sheet"+l+"."+t,vi.WS[0])}if(_){var b=_["!comments"],x=!1,E="";if(b&&b.length>0){var A=!1;b.forEach(function(P){P[1].forEach(function(L){L.T==!0&&(A=!0)})}),A&&(E="xl/threadedComments/threadedComment"+l+"."+t,Mn(s,E,Joe(b,f,e)),r.threadedcomments.push(E),Li(p,-1,"../threadedComments/threadedComment"+l+"."+t,vi.TCMNT)),E="xl/comments"+l+"."+t,Mn(s,E,u7(b)),r.comments.push(E),Li(p,-1,"../comments"+l+"."+t,vi.CMNT),x=!0}_["!legacy"]&&x&&Mn(s,"xl/drawings/vmlDrawing"+l+".vml",c7(l,_["!comments"])),delete _["!comments"],delete _["!legacy"]}p["!id"].rId1&&Mn(s,zM(a),lp(p))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,Mn(s,a,t7(e.Strings,e)),r.strs.push(a),Li(e.wbrels,-1,"sharedStrings."+t,vi.SST)),a="xl/workbook."+t,Mn(s,a,E7(n)),r.workbooks.push(a),Li(e.rels,1,a,vi.WB),a="xl/theme/theme1.xml",Mn(s,a,o7(n.Themes,e)),r.themes.push(a),Li(e.wbrels,-1,"theme/theme1.xml",vi.THEME),a="xl/styles."+t,Mn(s,a,s7(n,e)),r.styles.push(a),Li(e.wbrels,-1,"styles."+t,vi.STY),n.vbaraw&&i&&(a="xl/vbaProject.bin",Mn(s,a,n.vbaraw),r.vba.push(a),Li(e.wbrels,-1,"vbaProject.bin",vi.VBA)),a="xl/metadata."+t,Mn(s,a,l7()),r.metadata.push(a),Li(e.wbrels,-1,"metadata."+t,vi.XLMETA),f.length>1&&(a="xl/persons/person.xml",Mn(s,a,Zoe(f)),r.people.push(a),Li(e.wbrels,-1,"persons/person.xml",vi.PEOPLE)),Mn(s,"[Content_Types].xml",VM(r,e)),Mn(s,"_rels/.rels",lp(e.rels)),Mn(s,"xl/_rels/workbook."+t+".rels",lp(e.wbrels)),delete e.revssf,delete e.ssf,s}function bfe(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=ah(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function I7(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return C1(e.file,Wi.write(n,{type:Ei?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Wi.write(n,e)}function Efe(n,e){var t=No(e||{}),i=yfe(n,t);return Sfe(i,t)}function Sfe(n,e){var t={},i=Ei?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=i;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=i;break;default:throw new Error("Unrecognized type "+e.type)}var r=n.FullPaths?Wi.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof r=="string"){if(e.type=="binary"||e.type=="base64")return r;r=new Uint8Array(jy(r))}return e.password&&typeof encrypt_agile<"u"?I7(encrypt_agile(r,e.password),e):e.type==="file"?C1(e.file,r):e.type=="string"?xm(r):r}function Tfe(n,e){var t=e||{},i=Vhe(n,t);return I7(i,t)}function jc(n,e,t){t||(t="");var i=t+n;switch(e.type){case"base64":return Xm(Jm(i));case"binary":return Jm(i);case"string":return n;case"file":return C1(e.file,i,"utf8");case"buffer":return Ei?ph(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):jc(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Afe(n,e){switch(e.type){case"base64":return Xm(n);case"binary":return n;case"string":return n;case"file":return C1(e.file,n,"binary");case"buffer":return Ei?ph(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function c_(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",i=0;i<n.length;++i)t+=String.fromCharCode(n[i]);return e.type=="base64"?Xm(t):e.type=="string"?xm(t):t;case"file":return C1(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function k7(n,e){ese(),hhe(n);var t=No(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var i=k7(n,t);return t.type="array",jy(i)}var r=0;if(t.sheet&&(typeof t.sheet=="number"?r=t.sheet:r=n.SheetNames.indexOf(t.sheet),!n.SheetNames[r]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return jc(jhe(n,t),t);case"slk":case"sylk":return jc(loe.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"htm":case"html":return jc(A7(n.Sheets[n.SheetNames[r]],t),t);case"txt":return Afe(D7(n.Sheets[n.SheetNames[r]],t),t);case"csv":return jc(pT(n.Sheets[n.SheetNames[r]],t),t,"\uFEFF");case"dif":return jc(coe.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"dbf":return c_(ooe.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"prn":return jc(uoe.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"rtf":return jc(_oe.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"eth":return jc(e7.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"fods":return jc(R7(n,t),t);case"wk1":return c_(kI.sheet_to_wk1(n.Sheets[n.SheetNames[r]],t),t);case"wk3":return c_(kI.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),c_(T7(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Tfe(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Efe(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Cfe(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function Nfe(n,e,t){var i={};return i.type="file",i.file=e,Cfe(i),k7(n,i)}function Rfe(n,e,t,i,r,s,a,l){var c=da(t),h=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,_=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:t,enumerable:!1})}catch{_.__rowNum__=t}else _.__rowNum__=t;if(!a||n[t])for(var m=e.s.c;m<=e.e.c;++m){var b=a?n[t][m]:n[i[m]+c];if(b===void 0||b.t===void 0){if(h===void 0)continue;s[m]!=null&&(_[s[m]]=h);continue}var x=b.v;switch(b.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(s[m]!=null){if(x==null)if(b.t=="e"&&x===null)_[s[m]]=null;else if(h!==void 0)_[s[m]]=h;else if(f&&x===null)_[s[m]]=null;else continue;else _[s[m]]=f&&(b.t!=="n"||b.t==="n"&&l.rawNumbers!==!1)?x:oh(b,x,l);x!=null&&(p=!1)}}return{row:_,isempty:p}}function zv(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},i=0,r=1,s=[],a=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},f=h.range!=null?h.range:n["!ref"];switch(h.header===1?i=1:h.header==="A"?i=2:Array.isArray(h.header)?i=3:h.header==null&&(i=0),typeof f){case"string":c=fr(f);break;case"number":c=fr(n["!ref"]),c.s.r=f;break;default:c=f}i>0&&(r=0);var p=da(c.s.r),_=[],m=[],b=0,x=0,E=Array.isArray(n),A=c.s.r,P=0,L={};E&&!n[A]&&(n[A]=[]);var j=h.skipHidden&&n["!cols"]||[],Q=h.skipHidden&&n["!rows"]||[];for(P=c.s.c;P<=c.e.c;++P)if(!(j[P]||{}).hidden)switch(_[P]=Ma(P),t=E?n[A][P]:n[_[P]+p],i){case 1:s[P]=P-c.s.c;break;case 2:s[P]=_[P];break;case 3:s[P]=h.header[P-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),l=a=oh(t,null,h),x=L[a]||0,!x)L[a]=1;else{do l=a+"_"+x++;while(L[l]);L[a]=x,L[l]=1}s[P]=l}for(A=c.s.r+r;A<=c.e.r;++A)if(!(Q[A]||{}).hidden){var ae=Rfe(n,c,A,_,i,s,E,h);(ae.isempty===!1||(i===1?h.blankrows!==!1:h.blankrows))&&(m[b++]=ae.row)}return m.length=b,m}var jI=/"/g;function Ife(n,e,t,i,r,s,a,l){for(var c=!0,h=[],f="",p=da(t),_=e.s.c;_<=e.e.c;++_)if(i[_]){var m=l.dense?(n[t]||[])[_]:n[i[_]+p];if(m==null)f="";else if(m.v!=null){c=!1,f=""+(l.rawNumbers&&m.t=="n"?m.v:oh(m,null,l));for(var b=0,x=0;b!==f.length;++b)if((x=f.charCodeAt(b))===r||x===s||x===34||l.forceQuotes){f='"'+f.replace(jI,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(c=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(jI,'""')+'"')):f="";h.push(f)}return l.blankrows===!1&&c?null:h.join(a)}function pT(n,e){var t=[],i=e??{};if(n==null||n["!ref"]==null)return"";var r=fr(n["!ref"]),s=i.FS!==void 0?i.FS:",",a=s.charCodeAt(0),l=i.RS!==void 0?i.RS:`
`,c=l.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),f="",p=[];i.dense=Array.isArray(n);for(var _=i.skipHidden&&n["!cols"]||[],m=i.skipHidden&&n["!rows"]||[],b=r.s.c;b<=r.e.c;++b)(_[b]||{}).hidden||(p[b]=Ma(b));for(var x=0,E=r.s.r;E<=r.e.r;++E)(m[E]||{}).hidden||(f=Ife(n,r,E,p,a,c,s,i),f!=null&&(i.strip&&(f=f.replace(h,"")),(f||i.blankrows!==!1)&&t.push((x++?l:"")+f)));return delete i.dense,t.join("")}function D7(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=pT(n,e);return t}function kfe(n){var e="",t,i="";if(n==null||n["!ref"]==null)return[];var r=fr(n["!ref"]),s="",a=[],l,c=[],h=Array.isArray(n);for(l=r.s.c;l<=r.e.c;++l)a[l]=Ma(l);for(var f=r.s.r;f<=r.e.r;++f)for(s=da(f),l=r.s.c;l<=r.e.c;++l)if(e=a[l]+s,t=h?(n[f]||[])[l]:n[e],i="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;i=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)i=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)i=""+t.v;else if(t.t=="b")i=t.v?"TRUE":"FALSE";else if(t.w!==void 0)i="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?i="'"+t.v:i=""+t.v}}c[c.length]=e+"="+i}return c}function L7(n,e,t){var i=t||{},r=+!i.skipHeader,s=n||{},a=0,l=0;if(s&&i.origin!=null)if(typeof i.origin=="number")a=i.origin;else{var c=typeof i.origin=="string"?Ys(i.origin):i.origin;a=c.r,l=c.c}var h,f={s:{c:0,r:0},e:{c:l,r:a+e.length-1+r}};if(s["!ref"]){var p=fr(s["!ref"]);f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),a==-1&&(a=p.e.r+1,f.e.r=a+e.length-1+r)}else a==-1&&(a=0,f.e.r=e.length-1+r);var _=i.header||[],m=0;e.forEach(function(x,E){ga(x).forEach(function(A){(m=_.indexOf(A))==-1&&(_[m=_.length]=A);var P=x[A],L="z",j="",Q=Fi({c:l+m,r:a+E+r});h=t1(s,Q),P&&typeof P=="object"&&!(P instanceof Date)?s[Q]=P:(typeof P=="number"?L="n":typeof P=="boolean"?L="b":typeof P=="string"?L="s":P instanceof Date?(L="d",i.cellDates||(L="n",P=Co(P)),j=i.dateNF||qr[14]):P===null&&i.nullError&&(L="e",P=0),h?(h.t=L,h.v=P,delete h.w,delete h.R,j&&(h.z=j)):s[Q]=h={t:L,v:P},j&&(h.z=j))})}),f.e.c=Math.max(f.e.c,l+_.length-1);var b=da(a);if(r)for(m=0;m<_.length;++m)s[Ma(m+l)+b]={t:"s",v:_[m]};return s["!ref"]=ps(f),s}function Dfe(n,e){return L7(null,n,e)}function t1(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var i=Ys(e);return n[i.r]||(n[i.r]=[]),n[i.r][i.c]||(n[i.r][i.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?t1(n,Fi(e)):t1(n,Fi({r:e,c:t||0}))}function Lfe(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Ofe(){return{SheetNames:[],Sheets:{}}}function Pfe(n,e,t,i){var r=1;if(!t)for(;r<=65535&&n.SheetNames.indexOf(t="Sheet"+r)!=-1;++r,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);r=s&&+s[2]||0;var a=s&&s[1]||t;for(++r;r<=65535&&n.SheetNames.indexOf(t=a+r)!=-1;++r);}if(b7(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Mfe(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var i=Lfe(n,e);switch(n.Workbook.Sheets[i]||(n.Workbook.Sheets[i]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[i].Hidden=t}function Ffe(n,e){return n.z=e,n}function O7(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Bfe(n,e,t){return O7(n,"#"+e,t)}function jfe(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Ufe(n,e,t,i){for(var r=typeof e!="string"?e:fr(e),s=typeof e=="string"?e:ps(e),a=r.s.r;a<=r.e.r;++a)for(var l=r.s.c;l<=r.e.c;++l){var c=t1(n,a,l);c.t="n",c.F=s,delete c.v,a==r.s.r&&l==r.s.c&&(c.f=t,i&&(c.D=!0))}return n}var Tw={encode_col:Ma,encode_row:da,encode_cell:Fi,encode_range:ps,decode_col:iT,decode_row:nT,split_cell:eae,decode_cell:Ys,decode_range:tl,format_cell:oh,sheet_add_aoa:OM,sheet_add_json:L7,sheet_add_dom:C7,aoa_to_sheet:Hp,json_to_sheet:Dfe,table_to_sheet:N7,table_to_book:cfe,sheet_to_csv:pT,sheet_to_txt:D7,sheet_to_json:zv,sheet_to_html:A7,sheet_to_formulae:kfe,sheet_to_row_object_array:zv,sheet_get_cell:t1,book_new:Ofe,book_append_sheet:Pfe,book_set_sheet_visibility:Mfe,cell_set_number_format:Ffe,cell_set_hyperlink:O7,cell_set_internal_link:Bfe,cell_add_comment:jfe,sheet_set_array_formula:Ufe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};Dy.register(...QO);function Vfe(){const[n,e]=Le.useState(""),[t,i]=Le.useState(""),[r,s]=Le.useState(0),[a,l]=Le.useState(0),[c,h]=Le.useState(0),[f,p]=Le.useState([]),[_,m]=Le.useState([]),[b,x]=Le.useState(null);Le.useEffect(()=>{E()},[]),Le.useEffect(()=>{_.length>0&&A(f.length>0?f:_)},[f,_]);const E=async()=>{const R=Ko(er,"contracts"),N=Jh(R),I=(await $u(N)).docs.map(M=>({id:M.id,...M.data(),startDate:M.data().startDate,returnDate:M.data().returnDate,amount:M.data().totalCost,client:M.data().clientName,status:M.data().status}));m(I),p(I)},A=R=>{const N=R.reduce((ce,ye)=>ce+ye.amount,0),U=R.filter(ce=>ce.status==="Rentado").length,I=R.reduce((ce,ye)=>ye.status==="Rentado"?ce+ye.materials.reduce((be,Ne)=>be+Ne.quantity,0):ce,0);s(N),l(U),h(I);const M={},z=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];R.forEach(ce=>{const be=new Date(ce.startDate).getMonth();M[be]?M[be]+=ce.amount:M[be]=ce.amount});const de=Array(12).fill(0);for(const ce in M)de[ce]=M[ce];const we=document.getElementById("incomeChart");if(we){b&&b.destroy();const ce=new Dy(we,{type:"line",data:{labels:z,datasets:[{label:"Ingresos",data:de,borderColor:"rgb(37, 99, 235)",backgroundColor:"rgba(37, 99, 235, 0.1)",tension:.4}]},options:P});x(ce)}},P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(R){return"$"+R.toLocaleString("es-MX",{minimumFractionDigits:2})}}}}};Le.useEffect(()=>()=>{b?.destroy()},[b]);const L=R=>{const N=new Date,U=new Date;U.setDate(U.getDate()-R),e(U.toISOString().split("T")[0]),i(N.toISOString().split("T")[0])},j=()=>{if(!n||!t){p(_);return}const R=_.filter(N=>{const U=new Date(N.startDate),I=new Date(n),M=new Date(t);return U>=I&&U<=M});p(R)},Q=()=>{const R=new Jt;R.text("Reporte de Rentas",14,16),R.autoTable({head:[["Contrato","Cliente","Fecha Inicio","Fecha Devolucin","Monto Total","Estado"]],body:f.map(N=>[N.id,N.client,N.startDate,N.returnDate,`$${N.amount.toLocaleString("es-MX",{minimumFractionDigits:2})}`,N.status]),startY:20}),R.save("reporte_rentas.pdf")},ae=()=>{const R=Tw.json_to_sheet(f.map(U=>({Contrato:U.id,Cliente:U.client,"Fecha Inicio":U.startDate,"Fecha Devolucin":U.returnDate,"Monto Total":U.amount,Estado:U.status}))),N=Tw.book_new();Tw.book_append_sheet(N,R,"Rentas"),Nfe(N,"reporte_rentas.xlsx")},F=R=>R==="Rentado"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800";return B.jsx("div",{className:"bg-gray-50 min-h-screen",children:B.jsxs("main",{className:"container mx-auto px-4 py-8",children:[B.jsxs("div",{className:"flex justify-between items-center mb-8",children:[B.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[B.jsx(YL,{className:"text-blue-600",size:32}),"Reportes e Ingresos"]}),B.jsxs("div",{className:"flex gap-3",children:[B.jsxs("button",{onClick:Q,className:"bg-white hover:bg-gray-50 border border-gray-300 text-gray-700 py-2 px-4 rounded-md font-medium flex items-center gap-2",children:[B.jsx(gb,{size:16}),"PDF"]}),B.jsxs("button",{onClick:ae,className:"bg-white hover:bg-gray-50 border border-gray-300 text-gray-700 py-2 px-4 rounded-md font-medium flex items-center gap-2",children:[B.jsx(gb,{size:16}),"Excel"]})]})]}),B.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 lg:col-span-3",children:[B.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Filtrar por perodo"}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[B.jsxs("div",{className:"md:col-span-2",children:[B.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),B.jsx("input",{type:"date",id:"startDate",value:n,onChange:R=>e(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),B.jsxs("div",{className:"md:col-span-2",children:[B.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),B.jsx("input",{type:"date",id:"endDate",value:t,onChange:R=>i(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),B.jsx("div",{className:"flex items-end",children:B.jsx("button",{onClick:j,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md font-medium",children:"Filtrar"})})]}),B.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[B.jsx("button",{onClick:()=>L(1),className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-blue-200",children:"Hoy"}),B.jsx("button",{onClick:()=>L(7),className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-blue-200",children:"ltimos 7 das"}),B.jsx("button",{onClick:()=>L(30),className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-blue-200",children:"ltimos 30 das"}),B.jsx("button",{onClick:()=>L(90),className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-blue-200",children:"ltimos 3 meses"})]})]}),B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Resumen"}),B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos totales"}),B.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",r.toLocaleString("es-MX",{minimumFractionDigits:2})]})]}),B.jsxs("div",{children:[B.jsx("p",{className:"text-sm text-gray-500",children:"Contratos activos"}),B.jsx("p",{className:"text-xl font-semibold text-gray-800",children:a})]}),B.jsxs("div",{children:[B.jsx("p",{className:"text-sm text-gray-500",children:"Materiales rentados"}),B.jsx("p",{className:"text-xl font-semibold text-gray-800",children:c})]})]})]})]}),B.jsxs("section",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[B.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Ingresos por perodo"}),B.jsx("div",{className:"h-80",children:B.jsx("canvas",{id:"incomeChart"})})]}),B.jsxs("section",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detalle de rentas"}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[B.jsx("thead",{className:"bg-gray-50",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contrato"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Inicio"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Devolucin"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto Total"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),B.jsx("tbody",{className:"bg-white divide-y divide-gray-200",id:"rentals-table-body",children:f.map(R=>B.jsxs("tr",{children:[B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:R.id}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.client}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.startDate}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.returnDate}),B.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",R.amount.toLocaleString("es-MX",{minimumFractionDigits:2})]}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F(R.status)}`,children:R.status})})]},R.id))})]})})]})]})})}function zfe(){const[n,e]=Le.useState([]),[t,i]=Le.useState(""),[r,s]=Le.useState(null),[a,l]=Le.useState(!0),[c,h]=Le.useState({name:"",phone:"",address:"",project:""}),f=Ko(er,"clients");Le.useEffect(()=>{p()},[]);const p=async()=>{l(!0);try{const A=Jh(f,iv("createdAt","desc")),L=(await $u(A)).docs.map(j=>({id:j.id,...j.data()}));e(L)}catch(A){console.error("Error al cargar los clientes: ",A)}finally{l(!1)}},_=async A=>{if(A.preventDefault(),!c.name||!c.phone||!c.project){alert("Por favor complete los campos obligatorios");return}try{if(r){const P=Za(er,"clients",r);await ID(P,c)}else await nS(f,{...c,createdAt:yp()});p(),x()}catch(P){console.error("Error al guardar cliente:",P),alert("Error al guardar el cliente")}},m=A=>{const{name:P="",phone:L="",address:j="",project:Q=""}=A;h({name:P,phone:L,address:j,project:Q}),s(A.id)},b=async A=>{if(window.confirm("Est seguro de eliminar este cliente?"))try{const P=Za(er,"clients",A);await kD(P),p()}catch(P){console.error("Error al eliminar cliente:",P)}},x=()=>{h({name:"",phone:"",address:"",project:""}),s(null)},E=n.filter(A=>A.name.toLowerCase().includes(t.toLowerCase())||A.phone.includes(t)||A.project.toLowerCase().includes(t.toLowerCase()));return B.jsx("div",{className:"w-full",children:B.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[B.jsx("section",{className:"w-full lg:w-1/3 print:hidden",children:B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[B.jsx(WK,{className:"text-blue-600",size:24}),r?"Editar Cliente":"Registrar Cliente"]}),B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{children:[B.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre Completo ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{type:"text",value:c.name,onChange:A=>h({...c,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),B.jsxs("div",{children:[B.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Telfono ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{type:"tel",value:c.phone,onChange:A=>h({...c,phone:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direccin"}),B.jsx("textarea",{value:c.address,onChange:A=>h({...c,address:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),B.jsxs("div",{children:[B.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre de Obra/Proyecto ",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{type:"text",value:c.project,onChange:A=>h({...c,project:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),B.jsxs("div",{className:"flex gap-3 pt-4",children:[B.jsxs("button",{onClick:_,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md font-medium transition duration-150 ease-in-out flex items-center justify-center gap-2",children:[B.jsx(XL,{size:18}),r?"Actualizar":"Guardar"]}),B.jsxs("button",{onClick:x,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md font-medium transition duration-150 ease-in-out flex items-center justify-center gap-2",children:[B.jsx(Ay,{size:18}),"Cancelar"]})]})]})]})}),B.jsx("section",{className:"w-full lg:w-2/3",children:B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[B.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[B.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[B.jsx(JL,{className:"text-blue-600",size:24}),"Lista de Clientes"]}),B.jsxs("div",{className:"relative w-full sm:w-auto",children:[B.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:t,onChange:A=>i(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full"}),B.jsx(hm,{className:"absolute left-3 top-2.5 text-gray-400",size:18})]})]}),E.length>0?B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[B.jsx("thead",{className:"bg-gray-50",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telfono"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Obra/Proyecto"}),B.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),B.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(A=>B.jsxs("tr",{className:"hover:bg-gray-50",children:[B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.name}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.phone}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.project}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:()=>m(A),className:"text-blue-600 hover:text-blue-800 transition",title:"Editar",children:B.jsx(KL,{size:18})}),B.jsx("button",{onClick:()=>b(A.id),className:"text-red-600 hover:text-red-800 transition",title:"Eliminar",children:B.jsx(QL,{size:18})})]})})]},A.id))})]})}):B.jsx("p",{className:"text-gray-500",children:"No se encontraron clientes."})]})})]})})}const UI=[{to:"/dashboard",text:"Inicio",icon:AK},{to:"/inventario",text:"Inventario",icon:NK},{to:"/clientes",text:"Clientes",icon:JL},{to:"/contratos",text:"Contratos",icon:mb},{to:"/devoluciones",text:"Devoluciones",icon:vb},{to:"/reportes",text:"Reportes",icon:YL}];function Hfe(){vE(Hc);const n=qv(),[e,t]=Le.useState(!1),i=async()=>{await Mw(Hc),n("/login")},r=()=>{isOpen&&t(!1)},s="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",a="bg-orange-700 text-white",l="text-orange-100 hover:bg-orange-700 hover:text-white";return B.jsxs("header",{className:"bg-orange-600 shadow-md sticky top-0 z-30",children:[B.jsx("div",{className:"container mx-auto px-4",children:B.jsxs("div",{className:"flex justify-between items-center py-3",children:[B.jsxs(f_,{to:"/dashboard",className:"flex items-center gap-3",children:[B.jsx(Up,{className:"h-8 w-8 text-white"}),B.jsx("h1",{className:"text-xl font-bold text-white hidden sm:block",children:"CIMBRA-SYS"})]}),B.jsx("nav",{className:"hidden lg:flex items-center gap-2",children:UI.map(({to:c,text:h,icon:f})=>B.jsxs(f_,{to:c,className:({isActive:p})=>`${s} ${p?a:l}`,children:[B.jsx(f,{size:18}),B.jsx("span",{children:h})]},c))}),B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsxs("button",{onClick:i,className:`${l} ${s} hidden lg:flex`,children:[B.jsx(lN,{size:18}),B.jsx("span",{children:"Cerrar Sesin"})]}),B.jsx("button",{onClick:()=>t(!e),className:"lg:hidden text-white hover:bg-orange-700 p-2 rounded-md",children:e?B.jsx(Ay,{size:24}):B.jsx(PK,{size:24})})]})]})}),e&&B.jsxs("nav",{className:"lg:hidden px-2 pt-2 pb-4 space-y-1 border-t border-orange-500",children:[UI.map(({to:c,text:h,icon:f})=>B.jsxs(f_,{to:c,onClick:r,className:({isActive:p})=>`block ${s} ${p?a:l}`,children:[B.jsx(f,{size:20}),B.jsx("span",{children:h})]},c)),B.jsxs("button",{onClick:i,className:`w-full block ${s} ${l}`,children:[B.jsx(lN,{size:20}),B.jsx("span",{children:"Cerrar Sesin"})]})]})]})}function qfe(){return B.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[B.jsx(Hfe,{}),B.jsx("main",{className:"flex-1 container mx-auto p-4 sm:p-6 lg:p-8",children:B.jsx(z9,{})})]})}function Wfe(){const[n,e]=vE(Hc);return e?B.jsx("div",{children:"Cargando..."}):B.jsx(dB,{children:B.jsxs(q9,{children:[B.jsx(wl,{path:"/login",element:n?B.jsx(Rg,{to:"/dashboard"}):B.jsx(YK,{})}),B.jsx(wl,{path:"/registro",element:n?B.jsx(Rg,{to:"/dashboard"}):B.jsx(KK,{})}),B.jsx(wl,{path:"/recuperar-contrasena",element:n?B.jsx(Rg,{to:"/dashboard"}):B.jsx(XK,{})}),B.jsxs(wl,{element:n?B.jsx(qfe,{}):B.jsx(Rg,{to:"/login"}),children:[B.jsx(wl,{path:"/dashboard",element:B.jsx(QK,{})}),B.jsx(wl,{path:"/inventario",element:B.jsx(ZK,{})}),B.jsx(wl,{path:"/clientes",element:B.jsx(zfe,{})}),B.jsx(wl,{path:"/contratos",element:B.jsx(JK,{})}),B.jsx(wl,{path:"/devoluciones",element:B.jsx(eX,{})}),B.jsx(wl,{path:"/reportes",element:B.jsx(Vfe,{})})]}),B.jsx(wl,{path:"*",element:B.jsx(Rg,{to:n?"/dashboard":"/login"})})]})})}QF.createRoot(document.getElementById("root")).render(B.jsx(Le.StrictMode,{children:B.jsx(Wfe,{})}));export{Pi as _};
